{# Copyright (C) 2013 - 2013 Open Source Matters, Inc. All rights reserved. #}
{# GNU General Public License version 2 or later; see LICENSE.txt #}

{% extends "index.twig" %}

{% block prependMenu %}
    {% if user.check("create") %}
        <li>
            <a class="btn-success" href="javascript:;" onclick="document.configForm.submit();">
                Save
            </a>
        </li>
    {% endif %}

    {{ parent() }}

{% endblock %}

{% block content %}

    <h2>Edit Configuration</h2>

    <form method="post" action="{{ uri.base.path }}saveconfig" class="form-inline" name="configForm">

        {% for group, fields in config %}
            <fieldset>
                <legend>{{ group|tformat }}</legend>
                {% for name, value in fields %}
                    <ul class="unstyled">
                        <li>
                            <label for="config{{ group }}{{ name }}">{{ name|tformat }}</label>

                            <input type="text" name="config[{{ group }}][{{ name }}]"
                                   id="config{{ group }}{{ name }}" value="{{ value }}"/>
                        </li>
                    </ul>
                {% endfor %}
            </fieldset>
        {% endfor %}
    </form>
{% endblock %}
