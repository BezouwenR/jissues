function g11n3t(t){var e=g11n.translate(t);return 1<arguments.length?(arguments[0]=e,phpjs.call_user_func_array(phpjs.sprintf,arguments)):e}function g11n4t(t,e,n){return g11n.translatePlural(t,e,n)}!function(p,k){var e,n,v=typeof k,g=p.document,t=p.location,i=p.jQuery,r=p.$,o={},h=[],a="1.9.1",y=h.concat,s=h.push,c=h.slice,l=h.indexOf,u=o.toString,m=o.hasOwnProperty,f=a.trim,mt=function(t,e){return new mt.fn.init(t,e,n)},d=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,_=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,M=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,E=/-([\da-z])/gi,$=function(t,e){return e.toUpperCase()},A=function(t){(g.addEventListener||"load"===t.type||"complete"===g.readyState)&&(N(),mt.ready())},N=function(){g.addEventListener?(g.removeEventListener("DOMContentLoaded",A,!1),p.removeEventListener("load",A,!1)):(g.detachEvent("onreadystatechange",A),p.detachEvent("onload",A))};function P(t){var e=t.length,n=mt.type(t);return!mt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||"function"!==n&&(0===e||"number"==typeof e&&0<e&&e-1 in t)))}mt.fn=mt.prototype={jquery:a,constructor:mt,init:function(t,e,n){var i,r;if(!t)return this;if("string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:w.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof mt?e[0]:e,mt.merge(this,mt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),x.test(i[1])&&mt.isPlainObject(e))for(i in e)mt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=g.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return n.find(t);this.length=1,this[0]=r}return this.context=g,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):mt.isFunction(t)?n.ready(t):(t.selector!==k&&(this.selector=t.selector,this.context=t.context),mt.makeArray(t,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return c.call(this)},get:function(t){return null==t?this.toArray():t<0?this[this.length+t]:this[t]},pushStack:function(t){var e=mt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return mt.each(this,t,e)},ready:function(t){return mt.ready.promise().done(t),this},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},map:function(n){return this.pushStack(mt.map(this,function(t,e){return n.call(t,e,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:[].sort,splice:[].splice},mt.fn.init.prototype=mt.fn,mt.extend=mt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},s=2),"object"==typeof a||mt.isFunction(a)||(a={}),l===s&&(a=this,--s);s<l;s++)if(null!=(r=arguments[s]))for(i in r)t=a[i],a!==(n=r[i])&&(u&&n&&(mt.isPlainObject(n)||(e=mt.isArray(n)))?(e?(e=!1,o=t&&mt.isArray(t)?t:[]):o=t&&mt.isPlainObject(t)?t:{},a[i]=mt.extend(u,o,n)):n!==k&&(a[i]=n));return a},mt.extend({noConflict:function(t){return p.$===mt&&(p.$=r),t&&p.jQuery===mt&&(p.jQuery=i),mt},isReady:!1,readyWait:1,holdReady:function(t){t?mt.readyWait++:mt.ready(!0)},ready:function(t){if(!0===t?!--mt.readyWait:!mt.isReady){if(!g.body)return setTimeout(mt.ready);(mt.isReady=!0)!==t&&0<--mt.readyWait||(e.resolveWith(g,[mt]),mt.fn.trigger&&mt(g).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===mt.type(t)},isArray:Array.isArray||function(t){return"array"===mt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?o[u.call(t)]||"object":typeof t},isPlainObject:function(t){if(!t||"object"!==mt.type(t)||t.nodeType||mt.isWindow(t))return!1;try{if(t.constructor&&!m.call(t,"constructor")&&!m.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var e;for(e in t);return e===k||m.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||g;var i=x.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=mt.buildFragment([t],e,r),r&&mt(r).remove(),mt.merge([],i.childNodes))},parseJSON:function(t){return p.JSON&&p.JSON.parse?p.JSON.parse(t):null===t?t:"string"==typeof t&&(t=mt.trim(t))&&C.test(t.replace(T,"@").replace(M,"]").replace(_,""))?new Function("return "+t)():void mt.error("Invalid JSON: "+t)},parseXML:function(t){var e;if(!t||"string"!=typeof t)return null;try{p.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(t){e=k}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||mt.error("Invalid XML: "+t),e},noop:function(){},globalEval:function(t){t&&mt.trim(t)&&(p.execScript||function(t){p.eval.call(p,t)})(t)},camelCase:function(t){return t.replace(D,"ms-").replace(E,$)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,r=t.length,o=P(t);if(n){if(o)for(;i<r&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(o)for(;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:f&&!f.call("\ufeffÂ ")?function(t){return null==t?"":f.call(t)}:function(t){return null==t?"":(t+"").replace(b,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(P(Object(t))?mt.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(l)return l.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){var n=e.length,i=t.length,r=0;if("number"==typeof n)for(;r<n;r++)t[i++]=e[r];else for(;e[r]!==k;)t[i++]=e[r++];return t.length=i,t},grep:function(t,e,n){var i=[],r=0,o=t.length;for(n=!!n;r<o;r++)n!==!!e(t[r],r)&&i.push(t[r]);return i},map:function(t,e,n){var i,r=0,o=t.length,a=[];if(P(t))for(;r<o;r++)null!=(i=e(t[r],r,n))&&(a[a.length]=i);else for(r in t)null!=(i=e(t[r],r,n))&&(a[a.length]=i);return y.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),mt.isFunction(t)?(n=c.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(c.call(arguments)))}).guid=t.guid=t.guid||mt.guid++,i):k},access:function(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===mt.type(n))for(s in r=!0,n)mt.access(t,e,s,n[s],!0,o,a);else if(i!==k&&(r=!0,mt.isFunction(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(mt(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o},now:function(){return(new Date).getTime()}}),mt.ready.promise=function(t){if(!e)if(e=mt.Deferred(),"complete"===g.readyState)setTimeout(mt.ready);else if(g.addEventListener)g.addEventListener("DOMContentLoaded",A,!1),p.addEventListener("load",A,!1);else{g.attachEvent("onreadystatechange",A),p.attachEvent("onload",A);var n=!1;try{n=null==p.frameElement&&g.documentElement}catch(t){}n&&n.doScroll&&function e(){if(!mt.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}N(),mt.ready()}}()}return e.promise(t)},mt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){o["[object "+e+"]"]=e.toLowerCase()}),n=mt(g);var I={};mt.Callbacks=function(r){var t,n;r="string"==typeof r?I[r]||(n=I[t=r]={},mt.each(t.match(S)||[],function(t,e){n[e]=!0}),n):mt.extend({},r);var i,e,o,a,s,l,u=[],c=!r.once&&[],h=function(t){for(e=r.memory&&t,o=!0,s=l||0,l=0,a=u.length,i=!0;u&&s<a;s++)if(!1===u[s].apply(t[0],t[1])&&r.stopOnFalse){e=!1;break}i=!1,u&&(c?c.length&&h(c.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var t=u.length;!function i(t){mt.each(t,function(t,e){var n=mt.type(e);"function"===n?r.unique&&f.has(e)||u.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),i?a=u.length:e&&(l=t,h(e))}return this},remove:function(){return u&&mt.each(arguments,function(t,e){for(var n;-1<(n=mt.inArray(e,u,n));)u.splice(n,1),i&&(n<=a&&a--,n<=s&&s--)}),this},has:function(t){return t?-1<mt.inArray(t,u):!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=c=e=k,this},disabled:function(){return!u},lock:function(){return c=k,e||f.disable(),this},locked:function(){return!c},fireWith:function(t,e){return e=[t,(e=e||[]).slice?e.slice():e],!u||o&&!c||(i?c.push(e):h(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},mt.extend({Deferred:function(t){var a=[["resolve","done",mt.Callbacks("once memory"),"resolved"],["reject","fail",mt.Callbacks("once memory"),"rejected"],["notify","progress",mt.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var o=arguments;return mt.Deferred(function(r){mt.each(a,function(t,e){var n=e[0],i=mt.isFunction(o[t])&&o[t];l[e[1]](function(){var t=i&&i.apply(this,arguments);t&&mt.isFunction(t.promise)?t.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[n+"With"](this===s?r.promise():this,i?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?mt.extend(t,s):s}},l={};return s.pipe=s.then,mt.each(a,function(t,e){var n=e[2],i=e[3];s[e[1]]=n.add,i&&n.add(function(){r=i},a[1^t][2].disable,a[2][2].lock),l[e[0]]=function(){return l[e[0]+"With"](this===l?s:this,arguments),this},l[e[0]+"With"]=n.fireWith}),s.promise(l),t&&t.call(l,l),l},when:function(t){var r,e,n,i=0,o=c.call(arguments),a=o.length,s=1!==a||t&&mt.isFunction(t.promise)?a:0,l=1===s?t:mt.Deferred(),u=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?c.call(arguments):t,i===r?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(r=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)o[i]&&mt.isFunction(o[i].promise)?o[i].promise().done(u(i,n,o)).fail(l.reject).progress(u(i,e,r)):--s;return s||l.resolveWith(n,o),l.promise()}}),mt.support=function(){var o,t,e,n,i,r,a,s,l,u,c=g.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=c.getElementsByTagName("*"),e=c.getElementsByTagName("a")[0],!t||!e||!t.length)return{};a=(i=g.createElement("select")).appendChild(g.createElement("option")),n=c.getElementsByTagName("input")[0],e.style.cssText="top:1px;float:left;opacity:.5",o={getSetAttribute:"t"!==c.className,leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:"/a"===e.getAttribute("href"),opacity:/^0.5/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:!!n.value,optSelected:a.selected,enctype:!!g.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==g.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===g.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},n.checked=!0,o.noCloneChecked=n.cloneNode(!0).checked,i.disabled=!0,o.optDisabled=!a.disabled;try{delete c.test}catch(t){o.deleteExpando=!1}for(u in(n=g.createElement("input")).setAttribute("value",""),o.input=""===n.getAttribute("value"),n.value="t",n.setAttribute("type","radio"),o.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),(r=g.createDocumentFragment()).appendChild(n),o.appendChecked=n.checked,o.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,c.attachEvent&&(c.attachEvent("onclick",function(){o.noCloneEvent=!1}),c.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})c.setAttribute(s="on"+u,"t"),o[u+"Bubbles"]=s in p||!1===c.attributes[s].expando;return c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===c.style.backgroundClip,mt(function(){var t,e,n,i="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=g.getElementsByTagName("body")[0];r&&((t=g.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(t).appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=c.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",o.reliableHiddenOffsets=l&&0===n[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",o.boxSizing=4===c.offsetWidth,o.doesNotIncludeMarginInBodyOffset=1!==r.offsetTop,p.getComputedStyle&&(o.pixelPosition="1%"!==(p.getComputedStyle(c,null)||{}).top,o.boxSizingReliable="4px"===(p.getComputedStyle(c,null)||{width:"4px"}).width,(e=c.appendChild(g.createElement("div"))).style.cssText=c.style.cssText=i,e.style.marginRight=e.style.width="0",c.style.width="1px",o.reliableMarginRight=!parseFloat((p.getComputedStyle(e,null)||{}).marginRight)),typeof c.style.zoom!==v&&(c.innerHTML="",c.style.cssText=i+"width:1px;padding:1px;display:inline;zoom:1",o.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.innerHTML="<div></div>",c.firstChild.style.width="5px",o.shrinkWrapBlocks=3!==c.offsetWidth,o.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(t),t=c=n=e=null)}),t=i=r=a=e=n=null,o}();var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;function R(t,e,n,i){if(mt.acceptData(t)){var r,o,a=mt.expando,s="string"==typeof e,l=t.nodeType,u=l?mt.cache:t,c=l?t[a]:t[a]&&a;if(c&&u[c]&&(i||u[c].data)||!s||n!==k)return c||(l?t[a]=c=h.pop()||mt.guid++:c=a),u[c]||(u[c]={},l||(u[c].toJSON=mt.noop)),"object"!=typeof e&&"function"!=typeof e||(i?u[c]=mt.extend(u[c],e):u[c].data=mt.extend(u[c].data,e)),r=u[c],i||(r.data||(r.data={}),r=r.data),n!==k&&(r[mt.camelCase(e)]=n),s?null==(o=r[e])&&(o=r[mt.camelCase(e)]):o=r,o}}function j(t,e,n){if(mt.acceptData(t)){var i,r,o,a=t.nodeType,s=a?mt.cache:t,l=a?t[mt.expando]:mt.expando;if(s[l]){if(e&&(o=n?s[l]:s[l].data)){for((i=0,r=(e=mt.isArray(e)?e.concat(mt.map(e,mt.camelCase)):e in o?[e]:(e=mt.camelCase(e))in o?[e]:e.split(" ")).length);i<r;i++)delete o[e[i]];if(!(n?H:mt.isEmptyObject)(o))return}(n||(delete s[l].data,H(s[l])))&&(a?mt.cleanData([t],!0):mt.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function L(t,e,n){if(n===k&&1===t.nodeType){var i="data-"+e.replace(O,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?mt.parseJSON(n):n)}catch(t){}mt.data(t,e,n)}else n=k}return n}function H(t){var e;for(e in t)if(("data"!==e||!mt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}mt.extend({cache:{},expando:"jQuery"+(a+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return!!(t=t.nodeType?mt.cache[t[mt.expando]]:t[mt.expando])&&!H(t)},data:function(t,e,n){return R(t,e,n)},removeData:function(t,e){return j(t,e)},_data:function(t,e,n){return R(t,e,n,!0)},_removeData:function(t,e){return j(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&mt.noData[t.nodeName.toLowerCase()];return!e||!0!==e&&t.getAttribute("classid")===e}}),mt.fn.extend({data:function(e,t){var n,i,r=this[0],o=0,a=null;if(e===k){if(this.length&&(a=mt.data(r),1===r.nodeType&&!mt._data(r,"parsedAttrs"))){for(n=r.attributes;o<n.length;o++)(i=n[o].name).indexOf("data-")||(i=mt.camelCase(i.slice(5)),L(r,i,a[i]));mt._data(r,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){mt.data(this,e)}):mt.access(this,function(t){if(t===k)return r?L(r,e,mt.data(r,e)):null;this.each(function(){mt.data(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){mt.removeData(this,t)})}}),mt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=mt._data(t,e),n&&(!i||mt.isArray(n)?i=mt._data(t,e,mt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=mt.queue(t,e),i=n.length,r=n.shift(),o=mt._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),(o.cur=r)&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){mt.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt._data(t,n)||mt._data(t,n,{empty:mt.Callbacks("once memory").add(function(){mt._removeData(t,e+"queue"),mt._removeData(t,n)})})}}),mt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?mt.queue(this[0],e):n===k?this:this.each(function(){var t=mt.queue(this,e,n);mt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&mt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){mt.dequeue(this,t)})},delay:function(i,t){return i=mt.fx&&mt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=mt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=k),t=t||"fx";a--;)(n=mt._data(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var q,U,z=/[\t\r\n]/g,W=/\r/g,B=/^(?:input|select|textarea|button|object)$/i,V=/^(?:a|area)$/i,G=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Y=/^(?:checked|selected)$/i,X=mt.support.getSetAttribute,Q=mt.support.input;mt.fn.extend({attr:function(t,e){return mt.access(this,mt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){mt.removeAttr(this,t)})},prop:function(t,e){return mt.access(this,mt.prop,t,e,1<arguments.length)},removeProp:function(t){return t=mt.propFix[t]||t,this.each(function(){try{this[t]=k,delete this[t]}catch(t){}})},addClass:function(e){var t,n,i,r,o,a=0,s=this.length,l="string"==typeof e&&e;if(mt.isFunction(e))return this.each(function(t){mt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(S)||[];a<s;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(z," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=mt.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(mt.isFunction(e))return this.each(function(t){mt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(S)||[];a<s;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(z," "):"")){for(o=0;r=t[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");n.className=e?mt.trim(i):""}return this},toggleClass:function(o,a){var s=typeof o,l="boolean"==typeof a;return mt.isFunction(o)?this.each(function(t){mt(this).toggleClass(o.call(this,t,this.className,a),a)}):this.each(function(){if("string"===s)for(var t,e=0,n=mt(this),i=a,r=o.match(S)||[];t=r[e++];)i=l?i:!n.hasClass(t),n[i?"addClass":"removeClass"](t);else s!==v&&"boolean"!==s||(this.className&&mt._data(this,"__className__",this.className),this.className=this.className||!1===o?"":mt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(z," ").indexOf(e))return!0;return!1},val:function(i){var t,r,o,e=this[0];return arguments.length?(o=mt.isFunction(i),this.each(function(t){var e,n=mt(this);1===this.nodeType&&(null==(e=o?i.call(this,t,n.val()):i)?e="":"number"==typeof e?e+="":mt.isArray(e)&&(e=mt.map(e,function(t){return null==t?"":t+""})),(r=mt.valHooks[this.type]||mt.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,e,"value")!==k||(this.value=e))})):e?(r=mt.valHooks[e.type]||mt.valHooks[e.nodeName.toLowerCase()])&&"get"in r&&(t=r.get(e,"value"))!==k?t:"string"==typeof(t=e.value)?t.replace(W,""):null==t?"":t:void 0}}),mt.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(mt.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!mt.nodeName(n.parentNode,"optgroup"))){if(e=mt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){var n=mt.makeArray(e);return mt(t).find("option").each(function(){this.selected=0<=mt.inArray(mt(this).val(),n)}),n.length||(t.selectedIndex=-1),n}}},attr:function(t,e,n){var i,r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===v?mt.prop(t,e,n):((r=1!==a||!mt.isXMLDoc(t))&&(e=e.toLowerCase(),i=mt.attrHooks[e]||(G.test(e)?U:q)),n===k?i&&r&&"get"in i&&null!==(o=i.get(t,e))?o:(typeof t.getAttribute!==v&&(o=t.getAttribute(e)),null==o?k:o):null!==n?i&&r&&"set"in i&&(o=i.set(t,n,e))!==k?o:(t.setAttribute(e,n+""),n):void mt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(S);if(o&&1===t.nodeType)for(;n=o[r++];)i=mt.propFix[n]||n,G.test(n)?!X&&Y.test(n)?t[mt.camelCase("default-"+n)]=t[i]=!1:t[i]=!1:mt.attr(t,n,""),t.removeAttribute(X?n:i)},attrHooks:{type:{set:function(t,e){if(!mt.support.radioValue&&"radio"===e&&mt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!mt.isXMLDoc(t))&&(e=mt.propFix[e]||e,r=mt.propHooks[e]),n!==k?r&&"set"in r&&(i=r.set(t,n,e))!==k?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=t.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):B.test(t.nodeName)||V.test(t.nodeName)&&t.href?0:k}}}}),U={get:function(t,e){var n=mt.prop(t,e),i="boolean"==typeof n&&t.getAttribute(e),r="boolean"==typeof n?Q&&X?null!=i:Y.test(e)?t[mt.camelCase("default-"+e)]:!!i:t.getAttributeNode(e);return r&&!1!==r.value?e.toLowerCase():k},set:function(t,e,n){return!1===e?mt.removeAttr(t,n):Q&&X||!Y.test(n)?t.setAttribute(!X&&mt.propFix[n]||n,n):t[mt.camelCase("default-"+n)]=t[n]=!0,n}},Q&&X||(mt.attrHooks.value={get:function(t,e){var n=t.getAttributeNode(e);return mt.nodeName(t,"input")?t.defaultValue:n&&n.specified?n.value:k},set:function(t,e,n){if(!mt.nodeName(t,"input"))return q&&q.set(t,e,n);t.defaultValue=e}}),X||(q=mt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&("id"===e||"name"===e||"coords"===e?""!==n.value:n.specified)?n.value:k},set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:k}},mt.attrHooks.contenteditable={get:q.get,set:function(t,e,n){q.set(t,""!==e&&e,n)}},mt.each(["width","height"],function(t,n){mt.attrHooks[n]=mt.extend(mt.attrHooks[n],{set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}})})),mt.support.hrefNormalized||(mt.each(["href","src","width","height"],function(t,n){mt.attrHooks[n]=mt.extend(mt.attrHooks[n],{get:function(t){var e=t.getAttribute(n,2);return null==e?k:e}})}),mt.each(["href","src"],function(t,e){mt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),mt.support.style||(mt.attrHooks.style={get:function(t){return t.style.cssText||k},set:function(t,e){return t.style.cssText=e+""}}),mt.support.optSelected||(mt.propHooks.selected=mt.extend(mt.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),mt.support.enctype||(mt.propFix.enctype="encoding"),mt.support.checkOn||mt.each(["radio","checkbox"],function(){mt.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),mt.each(["radio","checkbox"],function(){mt.valHooks[this]=mt.extend(mt.valHooks[this],{set:function(t,e){if(mt.isArray(e))return t.checked=0<=mt.inArray(mt(t).val(),e)}})});var K=/^(?:input|select|textarea)$/i,Z=/^key/,J=/^(?:mouse|contextmenu)|click/,tt=/^(?:focusinfocus|focusoutblur)$/,et=/^([^.]*)(?:\.(.+)|)$/;function nt(){return!0}function it(){return!1}mt.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,h,f,d,p,g,m=mt._data(t);if(m){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=mt.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||((c=m.handle=function(t){return typeof mt===v||t&&mt.event.triggered===t.type?k:mt.event.dispatch.apply(c.elem,arguments)}).elem=t),s=(e=(e||"").match(S)||[""]).length;s--;)d=g=(o=et.exec(e[s])||[])[1],p=(o[2]||"").split(".").sort(),u=mt.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=mt.event.special[d]||{},h=mt.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&mt.expr.match.needsContext.test(r),namespace:p.join(".")},l),(f=a[d])||((f=a[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(d,c,!1):t.attachEvent&&t.attachEvent("on"+d,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),mt.event.global[d]=!0;t=null}},remove:function(t,e,n,i,r){var o,a,s,l,u,c,h,f,d,p,g,m=mt.hasData(t)&&mt._data(t);if(m&&(c=m.events)){for(u=(e=(e||"").match(S)||[""]).length;u--;)if(d=g=(s=et.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=mt.event.special[d]||{},f=c[d=(i?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,h.remove&&h.remove.call(t,a));l&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||mt.removeEvent(t,d,m.handle),delete c[d])}else for(d in c)mt.event.remove(t,d+e[u],n,i,!0);mt.isEmptyObject(c)&&(delete m.handle,mt._removeData(t,"events"))}},trigger:function(t,e,n,i){var r,o,a,s,l,u,c,h=[n||g],f=m.call(t,"type")?t.type:t,d=m.call(t,"namespace")?t.namespace.split("."):[];if(a=u=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!tt.test(f+mt.event.triggered)&&(0<=f.indexOf(".")&&(f=(d=f.split(".")).shift(),d.sort()),o=f.indexOf(":")<0&&"on"+f,(t=t[mt.expando]?t:new mt.Event(f,"object"==typeof t&&t)).isTrigger=!0,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=k,t.target||(t.target=n),e=null==e?[t]:mt.makeArray(e,[t]),l=mt.event.special[f]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!mt.isWindow(n)){for(s=l.delegateType||f,tt.test(s+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(n.ownerDocument||g)&&h.push(u.defaultView||u.parentWindow||p)}for(c=0;(a=h[c++])&&!t.isPropagationStopped();)t.type=1<c?s:l.bindType||f,(r=(mt._data(a,"events")||{})[t.type]&&mt._data(a,"handle"))&&r.apply(a,e),(r=o&&a[o])&&mt.acceptData(a)&&r.apply&&!1===r.apply(a,e)&&t.preventDefault();if(t.type=f,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(n.ownerDocument,e))&&("click"!==f||!mt.nodeName(n,"a"))&&mt.acceptData(n)&&o&&n[f]&&!mt.isWindow(n)){(u=n[o])&&(n[o]=null),mt.event.triggered=f;try{n[f]()}catch(t){}mt.event.triggered=k,u&&(n[o]=u)}return t.result}},dispatch:function(t){t=mt.event.fix(t);var e,n,i,r,o,a,s=c.call(arguments),l=(mt._data(this,"events")||{})[t.type]||[],u=mt.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=mt.event.handlers.call(this,t,l),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(i.namespace)||(t.handleObj=i,t.data=i.data,(n=((mt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))!==k&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],o=0;o<s;o++)r[n=(i=e[o]).selector+" "]===k&&(r[n]=i.needsContext?0<=mt(n,this).index(l):mt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[mt.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=J.test(r)?this.mouseHooks:Z.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new mt.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||g),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||g).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||o===k||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},click:{trigger:function(){if(mt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==g.activeElement&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===g.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(t){t.result!==k&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=mt.extend(new mt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?mt.event.trigger(r,null,e):mt.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},mt.removeEvent=g.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===v&&(t[i]=null),t.detachEvent(i,n))},mt.Event=function(t,e){if(!(this instanceof mt.Event))return new mt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||!1===t.returnValue||t.getPreventDefault&&t.getPreventDefault()?nt:it):this.type=t,e&&mt.extend(this,e),this.timeStamp=t&&t.timeStamp||mt.now(),this[mt.expando]=!0},mt.Event.prototype={isDefaultPrevented:it,isPropagationStopped:it,isImmediatePropagationStopped:it,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=nt,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=nt,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=nt,this.stopPropagation()}},mt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,r){mt.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||mt.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),mt.support.submitBubbles||(mt.event.special.submit={setup:function(){if(mt.nodeName(this,"form"))return!1;mt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=mt.nodeName(e,"input")||mt.nodeName(e,"button")?e.form:k;n&&!mt._data(n,"submitBubbles")&&(mt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),mt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&mt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){if(mt.nodeName(this,"form"))return!1;mt.event.remove(this,"._submit")}}),mt.support.changeBubbles||(mt.event.special.change={setup:function(){if(K.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(mt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),mt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),mt.event.simulate("change",this,t,!0)})),!1;mt.event.add(this,"beforeactivate._change",function(t){var e=t.target;K.test(e.nodeName)&&!mt._data(e,"changeBubbles")&&(mt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||mt.event.simulate("change",this.parentNode,t,!0)}),mt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return mt.event.remove(this,"._change"),!K.test(this.nodeName)}}),mt.support.focusinBubbles||mt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){mt.event.simulate(e,t.target,mt.event.fix(t),!0)};mt.event.special[e]={setup:function(){0==n++&&g.addEventListener(t,i,!0)},teardown:function(){0==--n&&g.removeEventListener(t,i,!0)}}}),mt.fn.extend({on:function(t,e,n,i,r){var o,a;if("object"==typeof t){for(o in"string"!=typeof e&&(n=n||e,e=k),t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=k):null==i&&("string"==typeof e?(i=n,n=k):(i=n,n=e,e=k)),!1===i)i=it;else if(!i)return this;return 1===r&&(a=i,(i=function(t){return mt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=mt.guid++)),this.each(function(){mt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,mt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=k),!1===n&&(n=it),this.each(function(){mt.event.remove(this,t,n,e)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},trigger:function(t,e){return this.each(function(){mt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return mt.event.trigger(t,e,n,!0)}}),function(n,t){var e,x,C,o,i,p,u,k,g,S,r,m,v,a,s,y,c,_="sizzle"+-new Date,b=n.document,w={},T=0,h=0,l=tt(),f=tt(),d=tt(),M="undefined",D=[],E=D.pop,$=D.push,A=D.slice,N=D.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},P="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=I.replace("w","w#"),O="\\["+P+"*("+I+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+F+")|)|)"+P+"*\\]",R=":("+I+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+O.replace(3,8)+")*)|.*)\\)|)",j=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),L=new RegExp("^"+P+"*,"+P+"*"),H=new RegExp("^"+P+"*([\\x20\\t\\r\\n\\f>+~])"+P+"*"),q=new RegExp(R),U=new RegExp("^"+F+"$"),z={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),NAME:new RegExp("^\\[name=['\"]?("+I+")['\"]?\\]"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},W=/[\x20\t\r\n\f]*[+~]/,B=/^[^{]+\{\s*\[native code/,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,X=/'|\\/g,Q=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,K=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Z=function(t,e){var n="0x"+e-65536;return n!=n?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{A.call(b.documentElement.childNodes,0)[0].nodeType}catch(t){A=function(t){for(var e,n=[];e=this[t++];)n.push(e);return n}}function J(t){return B.test(t+"")}function tt(){var n,i=[];return n=function(t,e){return i.push(t+=" ")>C.cacheLength&&delete n[i.shift()],n[t]=e}}function et(t){return t[_]=!0,t}function nt(t){var e=S.createElement("div");try{return t(e)}catch(t){return!1}finally{e=null}}function it(t,e,n,i){var r,o,a,s,l,u,c,h,f,d;if((e?e.ownerDocument||e:b)!==S&&g(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=(e=e||S).nodeType)&&9!==s)return[];if(!m&&!i){if(r=V.exec(t))if(a=r[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&y(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return $.apply(n,A.call(e.getElementsByTagName(t),0)),n;if((a=r[3])&&w.getByClassName&&e.getElementsByClassName)return $.apply(n,A.call(e.getElementsByClassName(a),0)),n}if(w.qsa&&!v.test(t)){if(c=!0,h=_,f=e,d=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=lt(t),(c=e.getAttribute("id"))?h=c.replace(X,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+ut(u[l]);f=W.test(t)&&e.parentNode||e,d=u.join(",")}if(d)try{return $.apply(n,A.call(f.querySelectorAll(d),0)),n}catch(t){}finally{c||e.removeAttribute("id")}}}return function(t,e,n,i){var r,o,a,s,l,u=lt(t);if(!i&&1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===e.nodeType&&!m&&C.relative[o[1].type]){if(!(e=C.find.ID(a.matches[0].replace(K,Z),e)[0]))return n;t=t.slice(o.shift().value.length)}for(r=z.needsContext.test(t)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(K,Z),W.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),!(t=i.length&&ut(o)))return $.apply(n,A.call(i,0)),n;break}}return p(t,u)(i,e,m,n,W.test(t)),n}(t.replace(j,"$1"),e,n,i)}function rt(t,e){var n=e&&t,i=n&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ot(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function at(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function st(a){return et(function(o){return o=+o,et(function(t,e){for(var n,i=a([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}for(e in i=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},g=it.setDocument=function(t){var l=t?t.ownerDocument||t:b;return l!==S&&9===l.nodeType&&l.documentElement&&(r=(S=l).documentElement,m=i(l),w.tagNameNoComments=nt(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),w.attributes=nt(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),w.getByClassName=nt(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!t.getElementsByClassName||!t.getElementsByClassName("e").length)&&(t.lastChild.className="e",2===t.getElementsByClassName("e").length)}),w.getByName=nt(function(t){t.id=_+0,t.innerHTML="<a name='"+_+"'></a><div name='"+_+"'></div>",r.insertBefore(t,r.firstChild);var e=l.getElementsByName&&l.getElementsByName(_).length===2+l.getElementsByName(_+0).length;return w.getIdNotName=!l.getElementById(_),r.removeChild(t),e}),C.attrHandle=nt(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==M&&"#"===t.firstChild.getAttribute("href")})?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},w.getIdNotName?(C.find.ID=function(t,e){if(typeof e.getElementById!==M&&!m){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(K,Z);return function(t){return t.getAttribute("id")===e}}):(C.find.ID=function(t,e){if(typeof e.getElementById!==M&&!m){var n=e.getElementById(t);return n?n.id===t||typeof n.getAttributeNode!==M&&n.getAttributeNode("id").value===t?[n]:void 0:[]}},C.filter.ID=function(t){var n=t.replace(K,Z);return function(t){var e=typeof t.getAttributeNode!==M&&t.getAttributeNode("id");return e&&e.value===n}}),C.find.TAG=w.tagNameNoComments?function(t,e){if(typeof e.getElementsByTagName!==M)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.NAME=w.getByName&&function(t,e){if(typeof e.getElementsByName!==M)return e.getElementsByName(name)},C.find.CLASS=w.getByClassName&&function(t,e){if(typeof e.getElementsByClassName!==M&&!m)return e.getElementsByClassName(t)},a=[],v=[":focus"],(w.qsa=J(l.querySelectorAll))&&(nt(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||v.push("\\["+P+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||v.push(":checked")}),nt(function(t){t.innerHTML="<input type='hidden' i=''/>",t.querySelectorAll("[i^='']").length&&v.push("[*^$]="+P+"*(?:\"\"|'')"),t.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(w.matchesSelector=J(s=r.matchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&nt(function(t){w.disconnectedMatch=s.call(t,"div"),s.call(t,"[s!='']:x"),a.push("!=",R)}),v=new RegExp(v.join("|")),a=new RegExp(a.join("|")),y=J(r.contains)||r.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},c=r.compareDocumentPosition?function(t,e){var n;return t===e?(u=!0,0):(n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e))?1&n||t.parentNode&&11===t.parentNode.nodeType?t===l||y(b,t)?-1:e===l||y(b,e)?1:0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(t===e)return u=!0,0;if(!r||!o)return t===l?-1:e===l?1:r?-1:o?1:0;if(r===o)return rt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?rt(a[i],s[i]):a[i]===b?-1:s[i]===b?1:0},u=!1,[0,0].sort(c),w.detectDuplicates=u),S},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==S&&g(t),e=e.replace(Q,"='$1']"),w.matchesSelector&&!m&&(!a||!a.test(e))&&!v.test(e))try{var n=s.call(t,e);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<it(e,S,null,[t]).length},it.contains=function(t,e){return(t.ownerDocument||t)!==S&&g(t),y(t,e)},it.attr=function(t,e){var n;return(t.ownerDocument||t)!==S&&g(t),m||(e=e.toLowerCase()),(n=C.attrHandle[e])?n(t):m||w.attributes?t.getAttribute(e):((n=t.getAttributeNode(e))||t.getAttribute(e))&&!0===t[e]?e:n&&n.specified?n.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,n=[],i=1,r=0;if(u=!w.detectDuplicates,t.sort(c),u){for(;e=t[i];i++)e===t[i-1]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},o=it.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=o(e);return n},C=it.selectors={cacheLength:50,createPseudo:et,match:z,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(K,Z),t[3]=(t[4]||t[5]||"").replace(K,Z),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return z.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:n&&q.test(n)&&(e=lt(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(K,Z).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(t){var e=l[t+" "];return e||(e=new RegExp("(^|"+P+")"+t+"("+P+"|$)"))&&l(t,function(t){return e.test(t.className||typeof t.getAttribute!==M&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=it.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(d,t,e,p,g){var m="nth"!==d.slice(0,3),v="last"!==d.slice(-4),y="of-type"===t;return 1===p&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,a,s,l,u=m!==v?"nextSibling":"previousSibling",c=t.parentNode,h=y&&t.nodeName.toLowerCase(),f=!n&&!y;if(c){if(m){for(;u;){for(o=t;o=o[u];)if(y?o.nodeName.toLowerCase()===h:1===o.nodeType)return!1;l=u="only"===d&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&f){for(s=(i=(r=c[_]||(c[_]={}))[d]||[])[0]===T&&i[1],a=i[0]===T&&i[2],o=s&&c.childNodes[s];o=++s&&o&&o[u]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===t){r[d]=[T,s,a];break}}else if(f&&(i=(t[_]||(t[_]={}))[d])&&i[0]===T)a=i[1];else for(;(o=++s&&o&&o[u]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==h:1!==o.nodeType)||!++a||(f&&((o[_]||(o[_]={}))[d]=[T,a]),o!==t)););return(a-=g)===p||a%p==0&&0<=a/p}}},PSEUDO:function(t,o){var e,a=C.pseudos[t]||C.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return a[_]?a(o):1<a.length?(e=[t,t,"",o],C.setFilters.hasOwnProperty(t.toLowerCase())?et(function(t,e){for(var n,i=a(t,o),r=i.length;r--;)t[n=N.call(t,i[r])]=!(e[n]=i[r])}):function(t){return a(t,0,e)}):a}},pseudos:{not:et(function(t){var i=[],r=[],s=p(t.replace(j,"$1"));return s[_]?et(function(t,e,n,i){for(var r,o=s(t,null,i,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),!r.pop()}}),has:et(function(e){return function(t){return 0<it(e,t).length}}),contains:et(function(e){return function(t){return-1<(t.textContent||t.innerText||o(t)).indexOf(e)}}),lang:et(function(n){return U.test(n||"")||it.error("unsupported lang: "+n),n=n.replace(K,Z).toLowerCase(),function(t){var e;do{if(e=m?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===r},focus:function(t){return t===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if("@"<t.nodeName||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:st(function(){return[0]}),last:st(function(t,e){return[e-1]}),eq:st(function(t,e,n){return[n<0?n+e:n]}),even:st(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:st(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:st(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:st(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[e]=ot(e);for(e in{submit:!0,reset:!0})C.pseudos[e]=at(e);function lt(t,e){var n,i,r,o,a,s,l,u=f[t+" "];if(u)return e?0:u.slice(0);for(a=t,s=[],l=C.preFilter;a;){for(o in n&&!(i=L.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=H.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(j," ")}),a=a.slice(n.length)),C.filter)!(i=z[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?it.error(t):f(t,s).slice(0)}function ut(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function ct(s,t,e){var l=t.dir,u=e&&"parentNode"===l,c=h++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||u)return s(t,e,n)}:function(t,e,n){var i,r,o,a=T+" "+c;if(n){for(;t=t[l];)if((1===t.nodeType||u)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||u)if((r=(o=t[_]||(t[_]={}))[l])&&r[0]===a){if(!0===(i=r[1])||i===x)return!0===i}else if((r=o[l]=[a])[1]=s(t,e,n)||x,!0===r[1])return!0}}function ht(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function ft(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function dt(d,p,g,m,v,t){return m&&!m[_]&&(m=dt(m)),v&&!v[_]&&(v=dt(v,t)),et(function(t,e,n,i){var r,o,a,s=[],l=[],u=e.length,c=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)it(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!d||!t&&p?c:ft(c,s,d,n,i),f=g?v||(t?d:u||m)?[]:e:h;if(g&&g(h,f,n,i),m)for(r=ft(f,l),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(h[l[o]]=a));if(t){if(v||d){if(v){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(h[o]=a);v(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=v?N.call(t,a):s[o])&&(t[r]=!(e[r]=a))}}else f=ft(f===e?f.splice(u,f.length):f),v?v(null,e,f,i):$.apply(e,f)})}function pt(t){for(var i,e,n,r=t.length,o=C.relative[t[0].type],a=o||C.relative[" "],s=o?1:0,l=ct(function(t){return t===i},a,!0),u=ct(function(t){return-1<N.call(i,t)},a,!0),c=[function(t,e,n){return!o&&(n||e!==k)||((i=e).nodeType?l(t,e,n):u(t,e,n))}];s<r;s++)if(e=C.relative[t[s].type])c=[ct(ht(c),e)];else{if((e=C.filter[t[s].type].apply(null,t[s].matches))[_]){for(n=++s;n<r&&!C.relative[t[n].type];n++);return dt(1<s&&ht(c),1<s&&ut(t.slice(0,s-1)).replace(j,"$1"),e,s<n&&pt(t.slice(s,n)),n<r&&pt(t=t.slice(n)),n<r&&ut(t))}c.push(e)}return ht(c)}function gt(){}p=it.compile=function(t,e){var n,m,v,y,b,w,i,r=[],o=[],a=d[t+" "];if(!a){for(e||(e=lt(t)),n=e.length;n--;)(a=pt(e[n]))[_]?r.push(a):o.push(a);a=d(t,(m=o,b=(y=0)<(v=r).length,w=0<m.length,i=function(t,e,n,i,r){var o,a,s,l=[],u=0,c="0",h=t&&[],f=null!=r,d=k,p=t||w&&C.find.TAG("*",r&&e.parentNode||e),g=T+=null==d?1:Math.random()||.1;for(f&&(k=e!==S&&e,x=y);null!=(o=p[c]);c++){if(w&&o){for(a=0;s=m[a++];)if(s(o,e,n)){i.push(o);break}f&&(T=g,x=++y)}b&&((o=!s&&o)&&u--,t&&h.push(o))}if(u+=c,b&&c!==u){for(a=0;s=v[a++];)s(h,l,e,n);if(t){if(0<u)for(;c--;)h[c]||l[c]||(l[c]=E.call(i));l=ft(l)}$.apply(i,l),f&&!t&&0<l.length&&1<u+v.length&&it.uniqueSort(i)}return f&&(T=g,k=d),h},b?et(i):i))}return a},C.pseudos.nth=C.pseudos.eq,C.filters=gt.prototype=C.pseudos,C.setFilters=new gt,g(),it.attr=mt.attr,mt.find=it,mt.expr=it.selectors,mt.expr[":"]=mt.expr.pseudos,mt.unique=it.uniqueSort,mt.text=it.getText,mt.isXMLDoc=it.isXML,mt.contains=it.contains}(p);var rt=/Until$/,ot=/^(?:parents|prev(?:Until|All))/,at=/^.[^:#\[\.,]*$/,st=mt.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};function ut(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function ct(t,n,i){if(n=n||0,mt.isFunction(n))return mt.grep(t,function(t,e){return!!n.call(t,e,t)===i});if(n.nodeType)return mt.grep(t,function(t){return t===n===i});if("string"==typeof n){var e=mt.grep(t,function(t){return 1===t.nodeType});if(at.test(n))return mt.filter(n,e,!i);n=mt.filter(n,e)}return mt.grep(t,function(t){return 0<=mt.inArray(t,n)===i})}function ht(t){var e=ft.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}mt.fn.extend({find:function(t){var e,n,i,r=this.length;if("string"!=typeof t)return(i=this).pushStack(mt(t).filter(function(){for(e=0;e<r;e++)if(mt.contains(i[e],this))return!0}));for(n=[],e=0;e<r;e++)mt.find(t,this[e],n);return(n=this.pushStack(1<r?mt.unique(n):n)).selector=(this.selector?this.selector+" ":"")+t,n},has:function(t){var e,n=mt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(mt.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(ct(this,t,!1))},filter:function(t){return this.pushStack(ct(this,t,!0))},is:function(t){return!!t&&("string"==typeof t?st.test(t)?0<=mt(t,this.context).index(this[0]):0<mt.filter(t,this).length:0<this.filter(t).length)},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=st.test(t)||"string"!=typeof t?mt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n.ownerDocument&&n!==e&&11!==n.nodeType;){if(a?-1<a.index(n):mt.find.matchesSelector(n,t)){o.push(n);break}n=n.parentNode}return this.pushStack(1<o.length?mt.unique(o):o)},index:function(t){return t?"string"==typeof t?mt.inArray(this[0],mt(t)):mt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?mt(t,e):mt.makeArray(t&&t.nodeType?[t]:t),i=mt.merge(this.get(),n);return this.pushStack(mt.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),mt.fn.andSelf=mt.fn.addBack,mt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return mt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return mt.dir(t,"parentNode",n)},next:function(t){return ut(t,"nextSibling")},prev:function(t){return ut(t,"previousSibling")},nextAll:function(t){return mt.dir(t,"nextSibling")},prevAll:function(t){return mt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return mt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return mt.dir(t,"previousSibling",n)},siblings:function(t){return mt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return mt.sibling(t.firstChild)},contents:function(t){return mt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:mt.merge([],t.childNodes)}},function(i,r){mt.fn[i]=function(t,e){var n=mt.map(this,r,t);return rt.test(i)||(e=t),e&&"string"==typeof e&&(n=mt.filter(e,n)),n=1<this.length&&!lt[i]?mt.unique(n):n,1<this.length&&ot.test(i)&&(n=n.reverse()),this.pushStack(n)}}),mt.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?mt.find.matchesSelector(e[0],t)?[e[0]]:[]:mt.find.matches(t,e)},dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(n===k||1!==r.nodeType||!mt(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",dt=/ jQuery\d+="(?:null|\d+)"/g,pt=new RegExp("<(?:"+ft+")[\\s/>]","i"),gt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yt=/<([\w:]+)/,bt=/<tbody/i,wt=/<|&#?\w+;/,xt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,St=/^$|\/(?:java|ecma)script/i,_t=/^true\/(.*)/,Tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:mt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Dt=ht(g).appendChild(g.createElement("div"));function Et(t){var e=t.getAttributeNode("type");return t.type=(e&&e.specified)+"/"+t.type,t}function $t(t){var e=_t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function At(t,e){for(var n,i=0;null!=(n=t[i]);i++)mt._data(n,"globalEval",!e||mt._data(e[i],"globalEval"))}function Nt(t,e){if(1===e.nodeType&&mt.hasData(t)){var n,i,r,o=mt._data(t),a=mt._data(e,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,r=s[n].length;i<r;i++)mt.event.add(e,n,s[n][i]);a.data&&(a.data=mt.extend({},a.data))}}function Pt(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!mt.support.noCloneEvent&&e[mt.expando]){for(i in(r=mt._data(e)).events)mt.removeEvent(e,i,r.handle);e.removeAttribute(mt.expando)}"script"===n&&e.text!==t.text?(Et(e).text=t.text,$t(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),mt.support.html5Clone&&t.innerHTML&&!mt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ct.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function It(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==v?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==v?t.querySelectorAll(e||"*"):k;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||mt.nodeName(i,e)?o.push(i):mt.merge(o,It(i,e));return e===k||e&&mt.nodeName(t,e)?mt.merge([t],o):o}function Ft(t){Ct.test(t.type)&&(t.defaultChecked=t.checked)}Mt.optgroup=Mt.option,Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,Mt.th=Mt.td,mt.fn.extend({text:function(t){return mt.access(this,function(t){return t===k?mt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||g).createTextNode(t))},null,t,arguments.length)},wrapAll:function(e){if(mt.isFunction(e))return this.each(function(t){mt(this).wrapAll(e.call(this,t))});if(this[0]){var t=mt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return mt.isFunction(n)?this.each(function(t){mt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=mt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=mt.isFunction(e);return this.each(function(t){mt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){mt.nodeName(this,"body")||mt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(t,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=0;null!=(n=this[i]);i++)(!t||0<mt.filter(t,[n]).length)&&(e||1!==n.nodeType||mt.cleanData(It(n)),n.parentNode&&(e&&mt.contains(n.ownerDocument,n)&&At(It(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&mt.cleanData(It(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&mt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return mt.clone(this,t,e)})},html:function(t){return mt.access(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===k)return 1===e.nodeType?e.innerHTML.replace(dt,""):k;if("string"==typeof t&&!xt.test(t)&&(mt.support.htmlSerialize||!pt.test(t))&&(mt.support.leadingWhitespace||!gt.test(t))&&!Mt[(yt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(vt,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(mt.cleanData(It(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return mt.isFunction(t)||"string"==typeof t||(t=mt(t).not(this).detach()),this.domManip([t],!0,function(t){var e=this.nextSibling,n=this.parentNode;n&&(mt(this).remove(),n.insertBefore(t,e))})},detach:function(t){return this.remove(t,!0)},domManip:function(n,i,r){n=y.apply([],n);var t,e,o,a,s,l,u,c,h=0,f=this.length,d=this,p=f-1,g=n[0],m=mt.isFunction(g);if(m||!(f<=1||"string"!=typeof g||mt.support.checkClone)&&kt.test(g))return this.each(function(t){var e=d.eq(t);m&&(n[0]=g.call(this,t,i?e.html():k)),e.domManip(n,i,r)});if(f&&(t=(l=mt.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===l.childNodes.length&&(l=t),t)){for(i=i&&mt.nodeName(t,"tr"),o=(a=mt.map(It(l,"script"),Et)).length;h<f;h++)e=l,h!==p&&(e=mt.clone(e,!0,!0),o&&mt.merge(a,It(e,"script"))),r.call(i&&mt.nodeName(this[h],"table")?(u=this[h],c="tbody",u.getElementsByTagName(c)[0]||u.appendChild(u.ownerDocument.createElement(c))):this[h],e,h);if(o)for(s=a[a.length-1].ownerDocument,mt.map(a,$t),h=0;h<o;h++)e=a[h],St.test(e.type||"")&&!mt._data(e,"globalEval")&&mt.contains(s,e)&&(e.src?mt.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):mt.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Tt,"")));l=t=null}return this}}),mt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){mt.fn[t]=function(t){for(var e,n=0,i=[],r=mt(t),o=r.length-1;n<=o;n++)e=n===o?this:this.clone(!0),mt(r[n])[a](e),s.apply(i,e.get());return this.pushStack(i)}}),mt.extend({clone:function(t,e,n){var i,r,o,a,s,l=mt.contains(t.ownerDocument,t);if(mt.support.html5Clone||mt.isXMLDoc(t)||!pt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Dt.innerHTML=t.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(mt.support.noCloneEvent&&mt.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||mt.isXMLDoc(t)))for(i=It(o),s=It(t),a=0;null!=(r=s[a]);++a)i[a]&&Pt(r,i[a]);if(e)if(n)for(s=s||It(t),i=i||It(o),a=0;null!=(r=s[a]);a++)Nt(r,i[a]);else Nt(t,o);return 0<(i=It(o,"script")).length&&At(i,!l&&It(t,"script")),i=s=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,a,s,l,u,c,h=t.length,f=ht(e),d=[],p=0;p<h;p++)if((o=t[p])||0===o)if("object"===mt.type(o))mt.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||f.appendChild(e.createElement("div")),l=(yt.exec(o)||["",""])[1].toLowerCase(),c=Mt[l]||Mt._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!mt.support.leadingWhitespace&&gt.test(o)&&d.push(e.createTextNode(gt.exec(o)[0])),!mt.support.tbody)for(r=(o="table"!==l||bt.test(o)?"<table>"!==c[1]||bt.test(o)?0:s:s.firstChild)&&o.childNodes.length;r--;)mt.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(mt.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else d.push(e.createTextNode(o));for(s&&f.removeChild(s),mt.support.appendChecked||mt.grep(It(d,"input"),Ft),p=0;o=d[p++];)if((!i||-1===mt.inArray(o,i))&&(a=mt.contains(o.ownerDocument,o),s=It(f.appendChild(o),"script"),a&&At(s),n))for(r=0;o=s[r++];)St.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(t,e){for(var n,i,r,o,a=0,s=mt.expando,l=mt.cache,u=mt.support.deleteExpando,c=mt.event.special;null!=(n=t[a]);a++)if((e||mt.acceptData(n))&&(o=(r=n[s])&&l[r])){if(o.events)for(i in o.events)c[i]?mt.event.remove(n,i):mt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u?delete n[s]:typeof n.removeAttribute!==v?n.removeAttribute(s):n[s]=null,h.push(r))}}});var Ot,Rt,jt,Lt=/alpha\([^)]*\)/i,Ht=/opacity\s*=\s*([^)]*)/,qt=/^(top|right|bottom|left)$/,Ut=/^(none|table(?!-c[ea]).+)/,zt=/^margin/,Wt=new RegExp("^("+d+")(.*)$","i"),Bt=new RegExp("^("+d+")(?!px)[a-z%]+$","i"),Vt=new RegExp("^([+-])=("+d+")","i"),Gt={BODY:"block"},Yt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:0,fontWeight:400},Qt=["Top","Right","Bottom","Left"],Kt=["Webkit","O","Moz","ms"];function Zt(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Kt.length;r--;)if((e=Kt[r]+n)in t)return e;return i}function Jt(t,e){return t=e||t,"none"===mt.css(t,"display")||!mt.contains(t.ownerDocument,t)}function te(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(o[a]=mt._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Jt(i)&&(o[a]=mt._data(i,"olddisplay",re(i.nodeName)))):o[a]||(r=Jt(i),(n&&"none"!==n||!r)&&mt._data(i,"olddisplay",r?n:mt.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function ee(t,e,n){var i=Wt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function ne(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=mt.css(t,n+Qt[o],!0,r)),i?("content"===n&&(a-=mt.css(t,"padding"+Qt[o],!0,r)),"margin"!==n&&(a-=mt.css(t,"border"+Qt[o]+"Width",!0,r))):(a+=mt.css(t,"padding"+Qt[o],!0,r),"padding"!==n&&(a+=mt.css(t,"border"+Qt[o]+"Width",!0,r)));return a}function ie(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Rt(t),a=mt.support.boxSizing&&"border-box"===mt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=jt(t,e,o))<0||null==r)&&(r=t.style[e]),Bt.test(r))return r;i=a&&(mt.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+ne(t,e,n||(a?"border":"content"),i,o)+"px"}function re(t){var e=g,n=Gt[t];return n||("none"!==(n=oe(t,e))&&n||((e=((Ot=(Ot||mt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement))[0].contentWindow||Ot[0].contentDocument).document).write("<!doctype html><html><body>"),e.close(),n=oe(t,e),Ot.detach()),Gt[t]=n),n}function oe(t,e){var n=mt(e.createElement(t)).appendTo(e.body),i=mt.css(n[0],"display");return n.remove(),i}mt.fn.extend({css:function(t,e){return mt.access(this,function(t,e,n){var i,r,o={},a=0;if(mt.isArray(e)){for(r=Rt(t),i=e.length;a<i;a++)o[e[a]]=mt.css(t,e[a],!1,r);return o}return n!==k?mt.style(t,e,n):mt.css(t,e)},t,e,1<arguments.length)},show:function(){return te(this,!0)},hide:function(){return te(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:Jt(this))?mt(this).show():mt(this).hide()})}}),mt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:mt.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=mt.camelCase(e),l=t.style;if(e=mt.cssProps[s]||(mt.cssProps[s]=Zt(l,s)),a=mt.cssHooks[e]||mt.cssHooks[s],n===k)return a&&"get"in a&&(r=a.get(t,!1,i))!==k?r:l[e];if(!("string"===(o=typeof n)&&(r=Vt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(mt.css(t,e)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||mt.cssNumber[s]||(n+="px"),mt.support.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&(n=a.set(t,n,i))===k)))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,a,s=mt.camelCase(e);return e=mt.cssProps[s]||(mt.cssProps[s]=Zt(t.style,s)),(a=mt.cssHooks[e]||mt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===k&&(o=jt(t,e,i)),"normal"===o&&e in Xt&&(o=Xt[e]),""===n||n?(r=parseFloat(o),!0===n||mt.isNumeric(r)?r||0:o):o},swap:function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r}}),p.getComputedStyle?(Rt=function(t){return p.getComputedStyle(t,null)},jt=function(t,e,n){var i,r,o,a=n||Rt(t),s=a?a.getPropertyValue(e)||a[e]:k,l=t.style;return a&&(""!==s||mt.contains(t.ownerDocument,t)||(s=mt.style(t,e)),Bt.test(s)&&zt.test(e)&&(i=l.width,r=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=a.width,l.width=i,l.minWidth=r,l.maxWidth=o)),s}):g.documentElement.currentStyle&&(Rt=function(t){return t.currentStyle},jt=function(t,e,n){var i,r,o,a=n||Rt(t),s=a?a[e]:k,l=t.style;return null==s&&l&&l[e]&&(s=l[e]),Bt.test(s)&&!qt.test(e)&&(i=l.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),l.left="fontSize"===e?"1em":s,s=l.pixelLeft+"px",l.left=i,o&&(r.left=o)),""===s?"auto":s}),mt.each(["height","width"],function(t,r){mt.cssHooks[r]={get:function(t,e,n){if(e)return 0===t.offsetWidth&&Ut.test(mt.css(t,"display"))?mt.swap(t,Yt,function(){return ie(t,r,n)}):ie(t,r,n)},set:function(t,e,n){var i=n&&Rt(t);return ee(0,e,n?ne(t,r,n,mt.support.boxSizing&&"border-box"===mt.css(t,"boxSizing",!1,i),i):0)}}}),mt.support.opacity||(mt.cssHooks.opacity={get:function(t,e){return Ht.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=mt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===mt.trim(o.replace(Lt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=Lt.test(o)?o.replace(Lt,r):o+" "+r)}}),mt(function(){mt.support.reliableMarginRight||(mt.cssHooks.marginRight={get:function(t,e){if(e)return mt.swap(t,{display:"inline-block"},jt,[t,"marginRight"])}}),!mt.support.pixelPosition&&mt.fn.position&&mt.each(["top","left"],function(t,n){mt.cssHooks[n]={get:function(t,e){if(e)return e=jt(t,n),Bt.test(e)?mt(t).position()[n]+"px":e}}})}),mt.expr&&mt.expr.filters&&(mt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!mt.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||mt.css(t,"display"))},mt.expr.filters.visible=function(t){return!mt.expr.filters.hidden(t)}),mt.each({margin:"",padding:"",border:"Width"},function(r,o){mt.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+Qt[e]+o]=i[e]||i[e-2]||i[0];return n}},zt.test(r)||(mt.cssHooks[r+o].set=ee)});var ae=/%20/g,se=/\[\]$/,le=/\r?\n/g,ue=/^(?:submit|button|image|reset|file)$/i,ce=/^(?:input|select|textarea|keygen)/i;function he(n,t,i,r){var e;if(mt.isArray(t))mt.each(t,function(t,e){i||se.test(n)?r(n,e):he(n+"["+("object"==typeof e?t:"")+"]",e,i,r)});else if(i||"object"!==mt.type(t))r(n,t);else for(e in t)he(n+"["+e+"]",t[e],i,r)}mt.fn.extend({serialize:function(){return mt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=mt.prop(this,"elements");return t?mt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!mt(this).is(":disabled")&&ce.test(this.nodeName)&&!ue.test(t)&&(this.checked||!Ct.test(t))}).map(function(t,e){var n=mt(this).val();return null==n?null:mt.isArray(n)?mt.map(n,function(t){return{name:e.name,value:t.replace(le,"\r\n")}}):{name:e.name,value:n.replace(le,"\r\n")}}).get()}}),mt.param=function(t,e){var n,i=[],r=function(t,e){e=mt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===k&&(e=mt.ajaxSettings&&mt.ajaxSettings.traditional),mt.isArray(t)||t.jquery&&!mt.isPlainObject(t))mt.each(t,function(){r(this.name,this.value)});else for(n in t)he(n,t[n],e,r);return i.join("&").replace(ae,"+")},mt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){mt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),mt.fn.hover=function(t,e){return this.mouseenter(t).mouseleave(e||t)};var fe,de,pe=mt.now(),ge=/\?/,me=/#.*$/,ve=/([?&])_=[^&]*/,ye=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,be=/^(?:GET|HEAD)$/,we=/^\/\//,xe=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ce=mt.fn.load,ke={},Se={},_e="*/".concat("*");try{de=t.href}catch(t){(de=g.createElement("a")).href="",de=de.href}function Te(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(S)||[];if(mt.isFunction(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Me(e,r,o,a){var s={},l=e===Se;function u(t){var i;return s[t]=!0,mt.each(e[t]||[],function(t,e){var n=e(r,o,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),u(n),!1)}),i}return u(r.dataTypes[0])||!s["*"]&&u("*")}function De(t,e){var n,i,r=mt.ajaxSettings.flatOptions||{};for(i in e)e[i]!==k&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&mt.extend(!0,t,n),t}fe=xe.exec(de.toLowerCase())||[],mt.fn.load=function(t,e,n){if("string"!=typeof t&&Ce)return Ce.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return 0<=s&&(i=t.slice(s,t.length),t=t.slice(0,s)),mt.isFunction(e)?(n=e,e=k):e&&"object"==typeof e&&(o="POST"),0<a.length&&mt.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?mt("<div>").append(mt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,r||[t.responseText,e,t])}),this},mt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){mt.fn[e]=function(t){return this.on(e,t)}}),mt.each(["get","post"],function(t,r){mt[r]=function(t,e,n,i){return mt.isFunction(e)&&(i=i||n,n=e,e=k),mt.ajax({url:t,type:r,dataType:i,data:e,success:n})}}),mt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:de,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(fe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":p.String,"text html":!0,"text json":mt.parseJSON,"text xml":mt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?De(De(t,mt.ajaxSettings),e):De(mt.ajaxSettings,t)},ajaxPrefilter:Te(ke),ajaxTransport:Te(Se),ajax:function(t,e){"object"==typeof t&&(e=t,t=k),e=e||{};var n,i,c,h,f,d,p,r,g=mt.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?mt(m):mt.event,y=mt.Deferred(),b=mt.Callbacks("once memory"),w=g.statusCode||{},o={},a={},x=0,s="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!r)for(r={};e=ye.exec(h);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=a[n]=a[n]||t,o[t]=e),this},overrideMimeType:function(t){return x||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)w[e]=[w[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||s;return p&&p.abort(e),l(0,e),this}};if(y.promise(C).complete=b.add,C.success=C.done,C.error=C.fail,g.url=((t||g.url||de)+"").replace(me,"").replace(we,fe[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=mt.trim(g.dataType||"*").toLowerCase().match(S)||[""],null==g.crossDomain&&(n=xe.exec(g.url.toLowerCase()),g.crossDomain=!(!n||n[1]===fe[1]&&n[2]===fe[2]&&(n[3]||("http:"===n[1]?80:443))==(fe[3]||("http:"===fe[1]?80:443)))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=mt.param(g.data,g.traditional)),Me(ke,g,e,C),2===x)return C;for(i in(d=g.global)&&0==mt.active++&&mt.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!be.test(g.type),c=g.url,g.hasContent||(g.data&&(c=g.url+=(ge.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=ve.test(c)?c.replace(ve,"$1_="+pe++):c+(ge.test(c)?"&":"?")+"_="+pe++)),g.ifModified&&(mt.lastModified[c]&&C.setRequestHeader("If-Modified-Since",mt.lastModified[c]),mt.etag[c]&&C.setRequestHeader("If-None-Match",mt.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+_e+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(m,C,g)||2===x))return C.abort();for(i in s="abort",{success:1,error:1,complete:1})C[i](g[i]);if(p=Me(Se,g,e,C)){C.readyState=1,d&&v.trigger("ajaxSend",[C,g]),g.async&&0<g.timeout&&(f=setTimeout(function(){C.abort("timeout")},g.timeout));try{x=1,p.send(o,l)}catch(t){if(!(x<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var r,o,a,s,l,u=e;2!==x&&(x=2,f&&clearTimeout(f),p=k,h=i||"",C.readyState=0<t?4:0,n&&(s=function(t,e,n){var i,r,o,a,s=t.contents,l=t.dataTypes,u=t.responseFields;for(a in u)a in n&&(e[u[a]]=n[a]);for(;"*"===l[0];)l.shift(),r===k&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}(g,C,n)),200<=t&&t<300||304===t?(g.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(mt.lastModified[c]=l),(l=C.getResponseHeader("etag"))&&(mt.etag[c]=l)),204===t?(r=!0,u="nocontent"):304===t?(r=!0,u="notmodified"):(u=(r=function(t,e){var n,i,r,o,a={},s=0,l=t.dataTypes.slice(),u=l[0];t.dataFilter&&(e=t.dataFilter(e,t.dataType));if(l[1])for(r in t.converters)a[r.toLowerCase()]=t.converters[r];for(;i=l[++s];)if("*"!==i){if("*"!==u&&u!==i){if(!(r=a[u+" "+i]||a["* "+i]))for(n in a)if((o=n.split(" "))[1]===i&&(r=a[u+" "+o[0]]||a["* "+o[0]])){!0===r?r=a[n]:!0!==a[n]&&(i=o[0],l.splice(s--,0,i));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:e}}(g,s)).state,o=r.data,r=!(a=r.error))):(a=u,!t&&u||(u="error",t<0&&(t=0))),C.status=t,C.statusText=(e||u)+"",r?y.resolveWith(m,[o,u,C]):y.rejectWith(m,[C,u,a]),C.statusCode(w),w=k,d&&v.trigger(r?"ajaxSuccess":"ajaxError",[C,g,r?o:a]),b.fireWith(m,[C,u]),d&&(v.trigger("ajaxComplete",[C,g]),--mt.active||mt.event.trigger("ajaxStop")))}return C},getScript:function(t,e){return mt.get(t,k,e,"script")},getJSON:function(t,e,n){return mt.get(t,e,n,"json")}}),mt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return mt.globalEval(t),t}}}),mt.ajaxPrefilter("script",function(t){t.cache===k&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),mt.ajaxTransport("script",function(e){if(e.crossDomain){var i,r=g.head||mt("head")[0]||g.documentElement;return{send:function(t,n){(i=g.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(k,!0)}}}});var Ee=[],$e=/(=)\?(?=&|$)|\?\?/;mt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ee.pop()||mt.expando+"_"+pe++;return this[t]=!0,t}}),mt.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,a=!1!==t.jsonp&&($e.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=mt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace($e,"$1"+i):!1!==t.jsonp&&(t.url+=(ge.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||mt.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=p[i],p[i]=function(){o=arguments},n.always(function(){p[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ee.push(i)),o&&mt.isFunction(r)&&r(o[0]),o=r=k}),"script"});var Ae,Ne,Pe=0,Ie=p.ActiveXObject&&function(){var t;for(t in Ae)Ae[t](k,!0)};function Fe(){try{return new p.XMLHttpRequest}catch(t){}}mt.ajaxSettings.xhr=p.ActiveXObject?function(){return!this.isLocal&&Fe()||function(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:Fe,Ne=mt.ajaxSettings.xhr(),mt.support.cors=!!Ne&&"withCredentials"in Ne,(Ne=mt.support.ajax=!!Ne)&&mt.ajaxTransport(function(u){var c;if(!u.crossDomain||mt.support.cors)return{send:function(t,a){var s,e,l=u.xhr();if(u.username?l.open(u.type,u.url,u.async,u.username,u.password):l.open(u.type,u.url,u.async),u.xhrFields)for(e in u.xhrFields)l[e]=u.xhrFields[e];u.mimeType&&l.overrideMimeType&&l.overrideMimeType(u.mimeType),u.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest");try{for(e in t)l.setRequestHeader(e,t[e])}catch(t){}l.send(u.hasContent&&u.data||null),c=function(t,e){var n,i,r,o;try{if(c&&(e||4===l.readyState))if(c=k,s&&(l.onreadystatechange=mt.noop,Ie&&delete Ae[s]),e)4!==l.readyState&&l.abort();else{o={},n=l.status,i=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(o.text=l.responseText);try{r=l.statusText}catch(t){r=""}n||!u.isLocal||u.crossDomain?1223===n&&(n=204):n=o.text?200:404}}catch(t){e||a(-1,t)}o&&a(n,r,o,i)},u.async?4===l.readyState?setTimeout(c):(s=++Pe,Ie&&(Ae||(Ae={},mt(p).unload(Ie)),Ae[s]=c),l.onreadystatechange=c):c()},abort:function(){c&&c(k,!0)}}});var Oe,Re,je=/^(?:toggle|show|hide)$/,Le=new RegExp("^(?:([+-])=|)("+d+")([a-z%]*)$","i"),He=/queueHooks$/,qe=[function(e,t,n){var i,r,o,a,s,l,u,c,h,f=this,d=e.style,p={},g=[],m=e.nodeType&&Jt(e);n.queue||(null==(c=mt._queueHooks(e,"fx")).unqueued&&(c.unqueued=0,h=c.empty.fire,c.empty.fire=function(){c.unqueued||h()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,mt.queue(e,"fx").length||c.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===mt.css(e,"display")&&"none"===mt.css(e,"float")&&(mt.support.inlineBlockNeedsLayout&&"inline"!==re(e.nodeName)?d.zoom=1:d.display="inline-block"));n.overflow&&(d.overflow="hidden",mt.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(a=t[r],je.exec(a)){if(delete t[r],l=l||"toggle"===a,a===(m?"hide":"show"))continue;g.push(r)}if(o=g.length){"hidden"in(s=mt._data(e,"fxshow")||mt._data(e,"fxshow",{}))&&(m=s.hidden),l&&(s.hidden=!m),m?mt(e).show():f.done(function(){mt(e).hide()}),f.done(function(){var t;for(t in mt._removeData(e,"fxshow"),p)mt.style(e,t,p[t])});for(r=0;r<o;r++)i=g[r],u=f.createTween(i,m?s[i]:0),p[i]=s[i]||mt.style(e,i),i in s||(s[i]=u.start,m&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}],Ue={"*":[function(t,e){var n,i,r=this.createTween(t,e),o=Le.exec(e),a=r.cur(),s=+a||0,l=1,u=20;if(o){if(n=+o[2],"px"!==(i=o[3]||(mt.cssNumber[t]?"":"px"))&&s)for(s=mt.css(r.elem,t,!0)||n||1;s/=l=l||".5",mt.style(r.elem,t,s+i),l!==(l=r.cur()/a)&&1!==l&&--u;);r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};function ze(){return setTimeout(function(){Oe=k}),Oe=mt.now()}function We(o,t,e){var n,a,s,i,r=0,l=qe.length,u=mt.Deferred().always(function(){delete c.elem}),c=function(){if(a)return!1;for(var t=Oe||ze(),e=Math.max(0,h.startTime+h.duration-t),n=1-(e/h.duration||0),i=0,r=h.tweens.length;i<r;i++)h.tweens[i].run(n);return u.notifyWith(o,[h,n,e]),n<1&&r?e:(u.resolveWith(o,[h]),!1)},h=u.promise({elem:o,props:mt.extend({},t),opts:mt.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:Oe||ze(),duration:e.duration,tweens:[],createTween:function(t,e){var n=mt.Tween(o,h.opts,t,e,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(n),n},stop:function(t){var e=0,n=t?h.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)h.tweens[e].run(1);return t?u.resolveWith(o,[h,t]):u.rejectWith(o,[h,t]),this}}),f=h.props;for(!function(t,e){var n,i,r,o,a;for(r in t)if(i=mt.camelCase(r),o=e[i],n=t[r],mt.isArray(n)&&(o=n[1],n=t[r]=n[0]),r!==i&&(t[i]=n,delete t[r]),(a=mt.cssHooks[i])&&"expand"in a)for(r in n=a.expand(n),delete t[i],n)r in t||(t[r]=n[r],e[r]=o);else e[i]=o}(f,h.opts.specialEasing);r<l;r++)if(n=qe[r].call(h,o,f,h.opts))return n;return s=h,i=f,mt.each(i,function(t,e){for(var n=(Ue[t]||[]).concat(Ue["*"]),i=0,r=n.length;i<r;i++)if(n[i].call(s,t,e))return}),mt.isFunction(h.opts.start)&&h.opts.start.call(o,h),mt.fx.timer(mt.extend(c,{elem:o,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function Be(t,e,n,i,r){return new Be.prototype.init(t,e,n,i,r)}function Ve(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Qt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function Ge(t){return mt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}mt.Animation=mt.extend(We,{tweener:function(t,e){mt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;i<r;i++)n=t[i],Ue[n]=Ue[n]||[],Ue[n].unshift(e)},prefilter:function(t,e){e?qe.unshift(t):qe.push(t)}}),((mt.Tween=Be).prototype={constructor:Be,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(mt.cssNumber[n]?"":"px")},cur:function(){var t=Be.propHooks[this.prop];return t&&t.get?t.get(this):Be.propHooks._default.get(this)},run:function(t){var e,n=Be.propHooks[this.prop];return this.options.duration?this.pos=e=mt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Be.propHooks._default.set(this),this}}).init.prototype=Be.prototype,(Be.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=mt.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){mt.fx.step[t.prop]?mt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[mt.cssProps[t.prop]]||mt.cssHooks[t.prop])?mt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=Be.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},mt.each(["toggle","show","hide"],function(t,i){var r=mt.fn[i];mt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(Ve(i,!0),t,e,n)}}),mt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=mt.isEmptyObject(e),o=mt.speed(t,n,i),a=function(){var t=We(this,mt.extend({},e),o);a.finish=function(){t.stop(!0)},(r||mt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,t,o){var a=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=k),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=mt.timers,i=mt._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&He.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||mt.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=mt._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],r=mt.timers,o=n?n.length:0;for(e.finish=!0,mt.queue(this,a,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=r.length;t--;)r[t].elem===this&&r[t].queue===a&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),mt.each({slideDown:Ve("show"),slideUp:Ve("hide"),slideToggle:Ve("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){mt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),mt.speed=function(t,e,n){var i=t&&"object"==typeof t?mt.extend({},t):{complete:n||!n&&e||mt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!mt.isFunction(e)&&e};return i.duration=mt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in mt.fx.speeds?mt.fx.speeds[i.duration]:mt.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){mt.isFunction(i.old)&&i.old.call(this),i.queue&&mt.dequeue(this,i.queue)},i},mt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},mt.timers=[],mt.fx=Be.prototype.init,mt.fx.tick=function(){var t,e=mt.timers,n=0;for(Oe=mt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||mt.fx.stop(),Oe=k},mt.fx.timer=function(t){t()&&mt.timers.push(t)&&mt.fx.start()},mt.fx.interval=13,mt.fx.start=function(){Re||(Re=setInterval(mt.fx.tick,mt.fx.interval))},mt.fx.stop=function(){clearInterval(Re),Re=null},mt.fx.speeds={slow:600,fast:200,_default:400},mt.fx.step={},mt.expr&&mt.expr.filters&&(mt.expr.filters.animated=function(e){return mt.grep(mt.timers,function(t){return e===t.elem}).length}),mt.fn.offset=function(e){if(arguments.length)return e===k?this:this.each(function(t){mt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,mt.contains(t,r)?(typeof r.getBoundingClientRect!==v&&(i=r.getBoundingClientRect()),n=Ge(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},mt.offset={setOffset:function(t,e,n){var i=mt.css(t,"position");"static"===i&&(t.style.position="relative");var r,o,a=mt(t),s=a.offset(),l=mt.css(t,"top"),u=mt.css(t,"left"),c={},h={};("absolute"===i||"fixed"===i)&&-1<mt.inArray("auto",[l,u])?(r=(h=a.position()).top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),mt.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(c.top=e.top-s.top+r),null!=e.left&&(c.left=e.left-s.left+o),"using"in e?e.using.call(t,c):a.css(c)}},mt.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===mt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),mt.nodeName(t[0],"html")||(n=t.offset()),n.top+=mt.css(t[0],"borderTopWidth",!0),n.left+=mt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-mt.css(i,"marginTop",!0),left:e.left-n.left-mt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||g.documentElement;t&&!mt.nodeName(t,"html")&&"static"===mt.css(t,"position");)t=t.offsetParent;return t||g.documentElement})}}),mt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o=/Y/.test(r);mt.fn[e]=function(t){return mt.access(this,function(t,e,n){var i=Ge(t);if(n===k)return i?r in i?i[r]:i.document.documentElement[e]:t[e];i?i.scrollTo(o?mt(i).scrollLeft():n,o?n:mt(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),mt.each({Height:"height",Width:"width"},function(o,a){mt.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,t){mt.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return mt.access(this,function(t,e,n){var i;return mt.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):n===k?mt.css(t,e,r):mt.style(t,e,n,r)},a,n?t:k,n,null)}})}),p.jQuery=p.$=mt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return mt})}(window),function(e,n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e.returnExportsGlobal=n(t)}):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(this,function(a){"use strict";var r,o,s,l,u,f,d,c;r=function(){function t(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return t.prototype.setPos=function(t){var l,u,c,h;return(h=d.getSelection())&&(c=0,u=!1,(l=function(t,e){var n,i,r,o,a,s;for(s=[],r=0,o=(a=e.childNodes).length;r<o&&(n=a[r],!u);r++)if(3===n.nodeType){if(c+n.length>=t){u=!0,(i=f.createRange()).setStart(n,t-c),h.removeAllRanges(),h.addRange(i);break}s.push(c+=n.length)}else s.push(l(t,n));return s})(t,this.domInputor)),this.domInputor},t.prototype.getIEPosition=function(){return this.getPosition()},t.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},t.prototype.getOldIEPos=function(){var t,e;return e=f.selection.createRange(),(t=f.body.createTextRange()).moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},t.prototype.getPos=function(){var t,e,n;return(n=this.range())?((t=n.cloneRange()).selectNodeContents(this.domInputor),t.setEnd(n.endContainer,n.endOffset),e=t.toString().length,t.detach(),e):f.selection?this.getOldIEPos():void 0},t.prototype.getOldIEOffset=function(){var t,e;return(t=f.selection.createRange().duplicate()).moveStart("character",-1),{height:(e=t.getBoundingClientRect()).bottom-e.top,left:e.left,top:e.top}},t.prototype.getOffset=function(t){var e,n,i,r,o;return d.getSelection&&(i=this.range())?(0<i.endOffset-1&&i.endContainer!==this.domInputor&&((e=i.cloneRange()).setStart(i.endContainer,i.endOffset-1),e.setEnd(i.endContainer,i.endOffset),n={height:(r=e.getBoundingClientRect()).height,left:r.left+r.width,top:r.top},e.detach()),n&&0!==(null!=n?n.height:void 0)||(e=i.cloneRange(),o=a(f.createTextNode("|")),e.insertNode(o[0]),e.selectNode(o[0]),n={height:(r=e.getBoundingClientRect()).height,left:r.left,top:r.top},o.remove(),e.detach())):f.selection&&(n=this.getOldIEOffset()),n&&(n.top+=a(d).scrollTop(),n.left+=a(d).scrollLeft()),n},t.prototype.range=function(){var t;if(d.getSelection)return 0<(t=d.getSelection()).rangeCount?t.getRangeAt(0):null},t}(),o=function(){function t(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return t.prototype.getIEPos=function(){var t,e,n,i,r,o;return e=this.domInputor,i=0,(r=f.selection.createRange())&&r.parentElement()===e&&(n=e.value.replace(/\r\n/g,"\n").length,(o=e.createTextRange()).moveToBookmark(r.getBookmark()),(t=e.createTextRange()).collapse(!1),i=-1<o.compareEndPoints("StartToEnd",t)?n:-o.moveStart("character",-n)),i},t.prototype.getPos=function(){return f.selection?this.getIEPos():this.domInputor.selectionStart},t.prototype.setPos=function(t){var e,n;return e=this.domInputor,f.selection?((n=e.createTextRange()).move("character",t),n.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},t.prototype.getIEOffset=function(t){var e;return e=this.domInputor.createTextRange(),t||(t=this.getPos()),e.move("character",t),{left:e.boundingLeft,top:e.boundingTop,height:e.boundingHeight}},t.prototype.getOffset=function(t){var e,n,i;return e=this.$inputor,f.selection?((n=this.getIEOffset(t)).top+=a(d).scrollTop()+e.scrollTop(),n.left+=a(d).scrollLeft()+e.scrollLeft(),n):(n=e.offset(),i=this.getPosition(t),{left:n.left+i.left-e.scrollLeft(),top:n.top+i.top-e.scrollTop(),height:i.height})},t.prototype.getPosition=function(t){var e,n,i,r,o;return e=this.$inputor,i=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),o=e.val().slice(0,t),n=e.val().slice(t),r="<span style='position: relative; display: inline;'>"+i(o)+"</span>",r+="<span id='caret' style='position: relative; display: inline;'>|</span>",r+="<span style='position: relative; display: inline;'>"+i(n)+"</span>",new s(e).create(r).rect()},t.prototype.getIEPosition=function(t){var e,n;return n=this.getIEOffset(t),e=this.$inputor.offset(),{left:n.left-e.left,top:n.top-e.top,height:n.height}},t}(),s=function(){function t(t){this.$inputor=t}return t.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],t.prototype.mirrorCss=function(){var n,i=this;return n={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),a.each(this.css_attr,function(t,e){return n[e]=i.$inputor.css(e)}),n},t.prototype.create=function(t){return this.$mirror=a("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(t),this.$inputor.after(this.$mirror),this},t.prototype.rect=function(){var t,e,n;return n={left:(e=(t=this.$mirror.find("#caret")).position()).left,top:e.top,height:t.height()},this.$mirror.remove(),n},t}(),l={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},u={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return f.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return this.getOffset(t)}},d=f=null,c=function(t){var e;return(e=null!=t?t.iframe:void 0)?(d=e.contentWindow,f=e.contentDocument||d.document):(void 0,d=window,f=document)},a.fn.caret=function(t,e,n){var i;return u[t]?(a.isPlainObject(e)?(c(e),e=void 0):c(n),i=l.contentEditable(this)?new r(this):new o(this),u[t].apply(i,[e])):a.error("Method "+t+" does not exist on jQuery.caret")},a.fn.caret.EditableCaret=r,a.fn.caret.InputCaret=o,a.fn.caret.Utils=l,a.fn.caret.apis=u}),function(t){"use strict";var i=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,c=t.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),h=c&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),f=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,d=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,r=(c||f)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,n,i,r,o,a,s,l,u;if(!(e=t.match(d)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),i=!!e[4],r=t.slice(e[0].length),o=i?atob(r):decodeURIComponent(r),a=new ArrayBuffer(o.length),s=new Uint8Array(a),l=0;l<o.length;l+=1)s[l]=o.charCodeAt(l);return c?new Blob([h?s:a],{type:n}):((u=new f).append(a),u.getBlob(n))};t.HTMLCanvasElement&&!i.toBlob&&(i.mozGetAsFile?i.toBlob=function(t,e,n){n&&i.toDataURL&&r?t(r(this.toDataURL(e,n))):t(this.mozGetAsFile("blob",e))}:i.toDataURL&&r&&(i.toBlob=function(t,e,n){t(r(this.toDataURL(e,n)))})),"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof module&&module.exports?module.exports=r:t.dataURLtoBlob=r}(window),function(t){"use strict";var x=function(t,n,e){var i,r,o=document.createElement("img");if(o.onerror=n,o.onload=function(){!r||e&&e.noRevoke||x.revokeObjectURL(r),n&&n(x.scale(o,e))},x.isInstanceOf("Blob",t)||x.isInstanceOf("File",t))i=r=x.createObjectURL(t),o._type=t.type;else{if("string"!=typeof t)return!1;i=t,e&&e.crossOrigin&&(o.crossOrigin=e.crossOrigin)}return i?(o.src=i,o):x.readFile(t,function(t){var e=t.target;e&&e.result?o.src=e.result:n&&n(t)})},e=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;x.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},x.transformCoordinates=function(){},x.getTransformedOptions=function(t,e){var n,i,r,o,a=e.aspectRatio;if(!a)return e;for(i in n={},e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n.crop=!0,a<(r=t.naturalWidth||t.width)/(o=t.naturalHeight||t.height)?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/a),n},x.renderImageToCanvas=function(t,e,n,i,r,o,a,s,l,u){return t.getContext("2d").drawImage(e,n,i,r,o,a,s,l,u),t},x.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio},x.scale=function(t,e){e=e||{};var n,i,r,o,a,s,l,u,c,h,f,d=document.createElement("canvas"),p=t.getContext||x.hasCanvasOption(e)&&d.getContext,g=t.naturalWidth||t.width,m=t.naturalHeight||t.height,v=g,y=m;function b(){var t=Math.max((r||v)/v,(o||y)/y);1<t&&(v*=t,y*=t)}function w(){var t=Math.min((n||v)/v,(i||y)/y);t<1&&(v*=t,y*=t)}if(p&&(l=(e=x.getTransformedOptions(t,e)).left||0,u=e.top||0,e.sourceWidth?(a=e.sourceWidth,void 0!==e.right&&void 0===e.left&&(l=g-a-e.right)):a=g-l-(e.right||0),e.sourceHeight?(s=e.sourceHeight,void 0!==e.bottom&&void 0===e.top&&(u=m-s-e.bottom)):s=m-u-(e.bottom||0),v=a,y=s),n=e.maxWidth,i=e.maxHeight,r=e.minWidth,o=e.minHeight,p&&n&&i&&e.crop?(f=a/s-(v=n)/(y=i))<0?(s=i*a/n,void 0===e.top&&void 0===e.bottom&&(u=(m-s)/2)):0<f&&(a=n*s/i,void 0===e.left&&void 0===e.right&&(l=(g-a)/2)):((e.contain||e.cover)&&(r=n=n||r,o=i=i||o),e.cover?(w(),b()):(b(),w())),p){if(1<(c=e.pixelRatio)&&(d.style.width=v+"px",d.style.height=y+"px",v*=c,y*=c,d.getContext("2d").scale(c,c)),0<(h=e.downsamplingRatio)&&h<1&&v<a&&y<s)for(;v<a*h;)d.width=a*h,d.height=s*h,x.renderImageToCanvas(d,t,l,u,a,s,0,0,d.width,d.height),a=d.width,s=d.height,(t=document.createElement("canvas")).width=a,t.height=s,x.renderImageToCanvas(t,d,0,0,a,s,0,0,a,s);return d.width=v,d.height=y,x.transformCoordinates(d,e),x.renderImageToCanvas(d,t,l,u,a,s,0,0,v,y)}return t.width=v,t.height=y,t},x.createObjectURL=function(t){return!!e&&e.createObjectURL(t)},x.revokeObjectURL=function(t){return!!e&&e.revokeObjectURL(t)},x.readFile=function(t,e,n){if(window.FileReader){var i=new FileReader;if(i.onload=i.onerror=e,i[n=n||"readAsDataURL"])return i[n](t),i}return!1},"function"==typeof define&&define.amd?define(function(){return x}):"object"==typeof module&&module.exports?module.exports=x:t.loadImage=x}(window),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],t):"object"==typeof module&&module.exports?t(require("./load-image")):t(window.loadImage)}(function(l){"use strict";var e=l.hasCanvasOption,u=l.transformCoordinates,a=l.getTransformedOptions;l.hasCanvasOption=function(t){return!!t.orientation||e.call(l,t)},l.transformCoordinates=function(t,e){u.call(l,t,e);var n=t.getContext("2d"),i=t.width,r=t.height,o=t.style.width,a=t.style.height,s=e.orientation;if(s&&!(8<s))switch(4<s&&(t.width=r,t.height=i,t.style.width=a,t.style.height=o),s){case 2:n.translate(i,0),n.scale(-1,1);break;case 3:n.translate(i,r),n.rotate(Math.PI);break;case 4:n.translate(0,r),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-r);break;case 7:n.rotate(.5*Math.PI),n.translate(i,-r),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-i,0)}},l.getTransformedOptions=function(t,e){var n,i,r=a.call(l,t,e),o=r.orientation;if(!o||8<o||1===o)return r;for(i in n={},r)r.hasOwnProperty(i)&&(n[i]=r[i]);switch(r.orientation){case 2:n.left=r.right,n.right=r.left;break;case 3:n.left=r.right,n.top=r.bottom,n.right=r.left,n.bottom=r.top;break;case 4:n.top=r.bottom,n.bottom=r.top;break;case 5:n.left=r.top,n.top=r.left,n.right=r.bottom,n.bottom=r.right;break;case 6:n.left=r.top,n.top=r.right,n.right=r.bottom,n.bottom=r.left;break;case 7:n.left=r.bottom,n.top=r.right,n.right=r.top,n.bottom=r.left;break;case 8:n.left=r.bottom,n.top=r.left,n.right=r.top,n.bottom=r.right}return 4<r.orientation&&(n.maxWidth=r.maxHeight,n.maxHeight=r.maxWidth,n.minWidth=r.minHeight,n.minHeight=r.minWidth,n.sourceWidth=r.sourceHeight,n.sourceHeight=r.sourceWidth),n}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],t):"object"==typeof module&&module.exports?t(require("./load-image")):t(window.loadImage)}(function(p){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);p.blobSlice=t&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},p.metaDataParsers={jpeg:{65505:[]}},p.parseMetaData=function(t,c,h){var f=this,e=(h=h||{}).maxMetaDataSize||262144,d={};!!(window.DataView&&t&&12<=t.size&&"image/jpeg"===t.type&&p.blobSlice)&&p.readFile(p.blobSlice.call(t,0,e),function(t){if(t.target.error)return console.log(t.target.error),void c(d);var e,n,i,r,o=t.target.result,a=new DataView(o),s=2,l=a.byteLength-4,u=s;if(65496===a.getUint16(0)){for(;s<l&&(65504<=(e=a.getUint16(s))&&e<=65519||65534===e);){if(s+(n=a.getUint16(s+2)+2)>a.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(i=p.metaDataParsers.jpeg[e])for(r=0;r<i.length;r+=1)i[r].call(f,a,s,n,d,h);u=s+=n}!h.disableImageHead&&6<u&&(o.slice?d.imageHead=o.slice(0,u):d.imageHead=new Uint8Array(o).subarray(0,u))}else console.log("Invalid JPEG file: Missing JPEG marker.");c(d)},"readAsArrayBuffer")||c(d)}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-meta")):t(window.loadImage)}(function(d){"use strict";d.ExifMap=function(){return this},d.ExifMap.prototype.map={Orientation:274},d.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},d.getExifThumbnail=function(t,e,n){var i,r,o;if(n&&!(e+n>t.byteLength)){for(i=[],r=0;r<n;r+=1)o=t.getUint8(e+r),i.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+i.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},d.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},d.exifTagTypes[7]=d.exifTagTypes[1],d.getExifValue=function(t,e,n,i,r,o){var a,s,l,u,c,h,f=d.exifTagTypes[i];if(f){if(!((s=4<(a=f.size*r)?e+t.getUint32(n+8,o):n+8)+a>t.byteLength)){if(1===r)return f.getValue(t,s,o);for(l=[],u=0;u<r;u+=1)l[u]=f.getValue(t,s+u*f.size,o);if(f.ascii){for(c="",u=0;u<l.length&&"\0"!==(h=l[u]);u+=1)c+=h;return c}return l}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},d.parseExifTag=function(t,e,n,i,r){var o=t.getUint16(n,i);r.exif[o]=d.getExifValue(t,e,n,t.getUint16(n+2,i),t.getUint32(n+4,i),i)},d.parseExifTags=function(t,e,n,i,r){var o,a,s;if(n+6>t.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(o=t.getUint16(n,i)))+4>t.byteLength)){for(s=0;s<o;s+=1)this.parseExifTag(t,e,n+2+12*s,i,r);return t.getUint32(a,i)}console.log("Invalid Exif data: Invalid directory size.")}},d.parseExifData=function(t,e,n,i,r){if(!r.disableExif){var o,a,s,l=e+10;if(1165519206===t.getUint32(e+4))if(l+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(e+8)){switch(t.getUint16(l)){case 18761:o=!0;break;case 19789:o=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(l+2,o)?(a=t.getUint32(l+4,o),i.exif=new d.ExifMap,(a=d.parseExifTags(t,l,l+a,o,i))&&!r.disableExifThumbnail&&(s={exif:{}},a=d.parseExifTags(t,l,l+a,o,s),s.exif[513]&&(i.exif.Thumbnail=d.getExifThumbnail(t,l+s.exif[513],s.exif[514]))),i.exif[34665]&&!r.disableExifSub&&d.parseExifTags(t,l,l+i.exif[34665],o,i),i.exif[34853]&&!r.disableExifGps&&d.parseExifTags(t,l,l+i.exif[34853],o,i)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},d.metaDataParsers.jpeg[65505].push(d.parseExifData)}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-exif")):t(window.loadImage)}(function(t){"use strict";t.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},t.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},t.ExifMap.prototype.getText=function(t){var e=this.get(t);switch(t){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[t][e];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(e[0],e[1],e[2],e[3]);case"ComponentsConfiguration":return this.stringValues[t][e[0]]+this.stringValues[t][e[1]]+this.stringValues[t][e[2]]+this.stringValues[t][e[3]];case"GPSVersionID":return e[0]+"."+e[1]+"."+e[2]+"."+e[3]}return String(e)},function(t){var e,n=t.tags,i=t.map;for(e in n)n.hasOwnProperty(e)&&(i[n[e]]=e)}(t.ExifMap.prototype),t.ExifMap.prototype.getAll=function(){var t,e,n={};for(t in this)this.hasOwnProperty(t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}}),function(t){"use strict";var i=function(t,e){var n=/[^\w\-\.:]/.test(t)?new Function(i.arg+",tmpl","var _e=tmpl.encode"+i.helper+",_s='"+t.replace(i.regexp,i.func)+"';return _s;"):i.cache[t]=i.cache[t]||i(i.load(t));return e?n(e,i):function(t){return n(t,i)}};i.cache={},i.load=function(t){return document.getElementById(t).innerHTML},i.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,i.func=function(t,e,n,i,r,o){return e?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[e]||"\\"+e:n?"="===n?"'+_e("+i+")+'":"'+("+i+"==null?'':"+i+")+'":r?"';":o?"_s+='":void 0},i.encReg=/[<>&"'\x00]/g,i.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},i.encode=function(t){return(null==t?"":""+t).replace(i.encReg,function(t){return i.encMap[t]||""})},i.arg="o",i.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return i}):t.tmpl=i}(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(c,s){var n=0,l=Array.prototype.slice,i=c.cleanData;c.cleanData=function(t){for(var e,n=0;null!=(e=t[n]);n++)try{c(e).triggerHandler("remove")}catch(t){}i(t)},c.widget=function(t,n,e){var i,r,o,a,s={},l=t.split(".")[0];t=t.split(".")[1],i=l+"-"+t,e||(e=n,n=c.Widget),c.expr[":"][i.toLowerCase()]=function(t){return!!c.data(t,i)},c[l]=c[l]||{},r=c[l][t],o=c[l][t]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},c.extend(o,r,{version:e.version,_proto:c.extend({},e),_childConstructors:[]}),(a=new n).options=c.widget.extend({},a.options),c.each(e,function(e,i){var r,o;c.isFunction(i)?s[e]=(r=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=o,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):s[e]=i}),o.prototype=c.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix:t},s,{constructor:o,namespace:l,widgetName:t,widgetFullName:i}),r?(c.each(r._childConstructors,function(t,e){var n=e.prototype;c.widget(n.namespace+"."+n.widgetName,o,e._proto)}),delete r._childConstructors):n._childConstructors.push(o),c.widget.bridge(t,o)},c.widget.extend=function(t){for(var e,n,i=l.call(arguments,1),r=0,o=i.length;r<o;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&n!==s&&(c.isPlainObject(n)?t[e]=c.isPlainObject(t[e])?c.widget.extend({},t[e],n):c.widget.extend({},n):t[e]=n);return t},c.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;c.fn[o]=function(n){var t="string"==typeof n,i=l.call(arguments,1),r=this;return n=!t&&i.length?c.widget.extend.apply(null,[n].concat(i)):n,t?this.each(function(){var t,e=c.data(this,a);return e?c.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==s?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:c.error("no such method '"+n+"' for "+o+" widget instance"):c.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=c.data(this,a);t?t.option(n||{})._init():c.data(this,a,new e(n,this))}),r}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=c(e||this.defaultElement||this)[0],this.element=c(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=c.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=c(),this.hoverable=c(),this.focusable=c(),e!==this&&(c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,o=t;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(i=o[t]=c.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),e===s)return i[t]===s?null:i[t];i[t]=e}else{if(e===s)return this.options[t]===s?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,s,t){var l,u=this;"boolean"!=typeof a&&(t=s,s=a,a=!1),t?(s=l=c(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,l=this.widget()),c.each(t,function(t,e){function n(){if(a||!0!==u.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||c.guid++);var i=t.match(/^(\w+)\s*(.*)$/),r=i[1]+u.eventNamespace,o=i[2];o?l.delegate(o,r,n):s.bind(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){c(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){c(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){c(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){c(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,r,o=this.options[t];if(n=n||{},(e=c.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(c.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(o,a){c.Widget.prototype["_"+o]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,r=t?!0===t||"number"==typeof t?a:t.effect||a:o;"number"==typeof(t=t||{})&&(t={duration:t}),i=!c.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&c.effects&&c.effects.effect[r]?e[o](t):r!==o&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){c(this)[o](),n&&n.call(e[0]),t()})}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(v){"use strict";v.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||v('<input type="file">').prop("disabled")),v.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),v.support.xhrFormDataFileUpload=!!window.FormData,v.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),v.widget("blueimp.fileupload",{options:{dropZone:v(document),pasteZone:v(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,t){return n=this.messages[n]||n.toString(),t&&v.each(t,function(t,e){n=n.replace("{"+t+"}",e)}),n},formData:function(t){return t.serializeArray()},add:function(t,e){if(t.isDefaultPrevented())return!1;(e.autoUpload||!1!==e.autoUpload&&v(this).fileupload("option","autoUpload"))&&e.process().done(function(){e.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:v.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||n<i)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&v.support.xhrFileUpload||v.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===v.type(t.formData)?t.formData(t.form):v.isArray(t.formData)?t.formData:"object"===v.type(t.formData)?(n=[],v.each(t.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(t){var n=0;return v.each(t,function(t,e){n+=e.size||1}),n},_initProgressObject:function(t){var e={loaded:0,total:0,bitrate:0};t._progress?v.extend(t._progress,e):t._progress=e},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(t,e){if(t.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(e._time&&e.progressInterval&&i-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=i,n=Math.floor(t.loaded/t.total*(e.chunkSize||e._progress.total))+(e.uploadedBytes||0),this._progress.loaded+=n-e._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,e.bitrateInterval),e._progress.loaded=e.loaded=n,e._progress.bitrate=e.bitrate=e._bitrateTimer.getBitrate(i,n,e.bitrateInterval),this._trigger("progress",v.Event("progress",{delegatedEvent:t}),e),this._trigger("progressall",v.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(n){var i=this,t=n.xhr?n.xhr():v.ajaxSettings.xhr();t.upload&&(v(t.upload).bind("progress",function(t){var e=t.originalEvent;t.lengthComputable=e.lengthComputable,t.loaded=e.loaded,t.total=e.total,i._onProgress(t,n)}),n.xhr=function(){return t})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(n){var i,r=this,t=n.files[0],e=n.multipart||!v.support.xhrFileUpload,o=n.paramName[0];n.headers=v.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),e&&!n.blob&&this._isInstanceOf("File",t)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(t.name)+'"'),e?v.support.xhrFormDataFileUpload&&(n.postMessage?(i=this._getFormData(n),n.blob?i.push({name:o,value:n.blob}):v.each(n.files,function(t,e){i.push({name:n.paramName[t]||o,value:e})})):(r._isInstanceOf("FormData",n.formData)?i=n.formData:(i=new FormData,v.each(this._getFormData(n),function(t,e){i.append(e.name,e.value)})),n.blob?i.append(o,n.blob,t.name):v.each(n.files,function(t,e){(r._isInstanceOf("File",e)||r._isInstanceOf("Blob",e))&&i.append(n.paramName[t]||o,e,e.uploadName||e.name)})),n.data=i):(n.contentType=t.type,n.data=n.blob||t),n.blob=null},_initIframeSettings:function(t){var e=v("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e&&e!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(t){var e=v(t.fileInput),i=t.paramName;return i?v.isArray(i)||(i=[i]):(i=[],e.each(function(){for(var t=v(this),e=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)i.push(e),n-=1}),i.length||(i=[e.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=v(t.fileInput.prop("form")),t.form.length||(t.form=v(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===v.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var e=v.extend({},this.options,t);return this._initFormSettings(e),this._initDataSettings(e),e},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(t,e,n){var i=v.Deferred(),r=i.promise();return e=e||this.options.context||r,!0===t?i.resolveWith(e,n):!1===t&&i.rejectWith(e,n),r.abort=i.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,n){var i=this,r=function(t){return v.Deferred().resolveWith(i,t).promise()};n.process=function(t,e){return(t||e)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).pipe(function(){return n.errorThrown?v.Deferred().rejectWith(i,[n]).promise():r(arguments)}).pipe(t,e)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",v.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._getXHRPromise())},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&1<n.length&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(o,t){o.uploadedBytes=o.uploadedBytes||0;var e,a,s=this,n=o.files[0],l=n.size,u=o.uploadedBytes,c=o.maxChunkSize||l,h=this._blobSlice,f=v.Deferred(),i=f.promise();return!(!(this._isXHRUpload(o)&&h&&(u||c<l))||o.data)&&(!!t||(l<=u?(n.error=o.i18n("uploadedBytes"),this._getXHRPromise(!1,o.context,[null,"error",n.error])):(a=function(){var i=v.extend({},o),r=i._progress.loaded;i.blob=h.call(n,u,u+c,n.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+u+"-"+(u+i.chunkSize-1)+"/"+l,s._initXHRData(i),s._initProgressListener(i),e=(!1!==s._trigger("chunksend",null,i)&&v.ajax(i)||s._getXHRPromise(!1,i.context)).done(function(t,e,n){u=s._getUploadedBytes(n)||u+i.chunkSize,r+i.chunkSize-i._progress.loaded&&s._onProgress(v.Event("progress",{lengthComputable:!0,loaded:u-i.uploadedBytes,total:u-i.uploadedBytes}),i),o.uploadedBytes=i.uploadedBytes=u,i.result=t,i.textStatus=e,i.jqXHR=n,s._trigger("chunkdone",null,i),s._trigger("chunkalways",null,i),u<l?a():f.resolveWith(i.context,[t,e,n])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,s._trigger("chunkfail",null,i),s._trigger("chunkalways",null,i),f.rejectWith(i.context,[t,e,n])})},this._enhancePromise(i),i.abort=function(){return e.abort()},a(),i)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(t,e,n,i){var r=i._progress.total,o=i._response;i._progress.loaded<r&&this._onProgress(v.Event("progress",{lengthComputable:!0,loaded:r,total:r}),i),o.result=i.result=t,o.textStatus=i.textStatus=e,o.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(t,e){e.submit||this._addConvenienceMethods(t,e);var n,i,r,o,a=this,s=a._getAJAXSettings(e),l=function(){return a._sending+=1,s._bitrateTimer=new a._BitrateTimer,n=n||((i||!1===a._trigger("send",v.Event("send",{delegatedEvent:t}),s))&&a._getXHRPromise(!1,s.context,i)||a._chunkedUpload(s)||v.ajax(s)).done(function(t,e,n){a._onDone(t,e,n,s)}).fail(function(t,e,n){a._onFail(t,e,n,s)}).always(function(t,e,n){if(a._onAlways(t,e,n,s),a._sending-=1,a._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(t,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(r=v.Deferred(),this._slots.push(r),o=r.pipe(l)):(this._sequence=this._sequence.pipe(l,l),o=this._sequence),o.abort=function(){return i=[void 0,"abort","abort"],n?n.abort():(r&&r.rejectWith(s.context,i),l())},this._enhancePromise(o)):l()},_onAdd:function(i,r){var o,t,a,e,s=this,l=!0,n=v.extend({},this.options,r),u=r.files,c=u.length,h=n.limitMultiFileUploads,f=n.limitMultiFileUploadSize,d=n.limitMultiFileUploadSizeOverhead,p=0,g=this._getParamName(n),m=0;if(!f||c&&void 0!==u[0].size||(f=void 0),(n.singleFileUploads||h||f)&&this._isXHRUpload(n))if(n.singleFileUploads||f||!h)if(!n.singleFileUploads&&f)for(a=[],o=[],e=0;e<c;e+=1)p+=u[e].size+d,(e+1===c||p+u[e+1].size+d>f)&&(a.push(u.slice(m,e+1)),(t=g.slice(m,e+1)).length||(t=g),o.push(t),m=e+1,p=0);else o=g;else for(a=[],o=[],e=0;e<c;e+=h)a.push(u.slice(e,e+h)),(t=g.slice(e,e+h)).length||(t=g),o.push(t);else a=[u],o=[g];return r.originalFiles=u,v.each(a||u,function(t,e){var n=v.extend({},r);return n.files=a?e:[e],n.paramName=o[t],s._initResponseObject(n),s._initProgressObject(n),s._addConvenienceMethods(i,n),l=s._trigger("add",v.Event("add",{delegatedEvent:i}),n)}),l},_replaceFileInput:function(n){var i=n.clone(!0);v("<form></form>").append(i)[0].reset(),n.after(i).detach(),v.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i=this,r=v.Deferred(),o=function(t){t&&!t.entry&&(t.entry=e),r.resolve([t])};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,r.resolve(e._file)):e.file(function(t){t.relativePath=n,r.resolve(t)},o):e.isDirectory?e.createReader().readEntries(function(t){i._handleFileTreeEntries(t,n+e.name+"/").done(function(t){r.resolve(t)}).fail(o)},o):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,e){var n=this;return v.when.apply(v,v.map(t,function(t){return n._handleFileTreeEntry(t,e)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){var e=(t=t||{}).items;return e&&e.length&&(e[0].webkitGetAsEntry||e[0].getAsEntry)?this._handleFileTreeEntries(v.map(e,function(t){var e;return t.webkitGetAsEntry?((e=t.webkitGetAsEntry())&&(e._file=t.getAsFile()),e):t.getAsEntry()})):v.Deferred().resolve(v.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var e,n,i=(t=v(t)).prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((e=v.makeArray(t.prop("files"))).length)void 0===e[0].name&&e[0].fileName&&v.each(e,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(n=t.prop("value")))return v.Deferred().resolve([]).promise();e=[{name:n.replace(/^.*\\/,"")}]}return v.Deferred().resolve(e).promise()},_getFileInputFiles:function(t){return t instanceof v&&1!==t.length?v.when.apply(v,v.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(e){var n=this,i={fileInput:v(e.target),form:v(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(t){i.files=t,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),!1!==n._trigger("change",v.Event("change",{delegatedEvent:e}),i)&&n._onAdd(e,i)})},_onPaste:function(t){var e=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};e&&e.length&&(v.each(e,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",v.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,t=e.dataTransfer,i={};t&&t.files&&t.files.length&&(e.preventDefault(),this._getDroppedFiles(t).always(function(t){i.files=t,!1!==n._trigger("drop",v.Event("drop",{delegatedEvent:e}),i)&&n._onAdd(e,i)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var e=t.dataTransfer;e&&-1!==v.inArray("Files",e.types)&&!1!==this._trigger("dragover",v.Event("dragover",{delegatedEvent:t}))&&(t.preventDefault(),e.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),v.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,e){var n=-1!==v.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,e),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof v||(t.fileInput=v(t.fileInput)),t.dropZone instanceof v||(t.dropZone=v(t.dropZone)),t.pasteZone instanceof v||(t.pasteZone=v(t.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(t,e){return"url"!==t&&"string"===v.type(e)&&/^\/.*\/[igm]{0,3}$/.test(e)},_initDataAttributes:function(){var n=this,i=this.options;v.each(v(this.element[0].cloneNode(!1)).data(),function(t,e){n._isRegExpOption(t,e)&&(e=n._getRegExp(e)),i[t]=e})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=v.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=v.Deferred(),t=o.promise();return t.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),t)},this._getFileInputFiles(e.fileInput).always(function(t){i||(t.length?(e.files=t,n=r._onSend(null,e).then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)})):o.reject())}),this._enhancePromise(t)}if(e.files=v.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],t):t(window.jQuery)}(function(a){"use strict";var i=a.blueimp.fileupload.prototype.options.add;a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{processQueue:[],add:function(t,e){var n=a(this);e.process(function(){return n.fileupload("process",e)}),i.call(this,t,e)}},processActions:{},_processFile:function(t,i){var r=this,o=a.Deferred().resolveWith(r,[t]).promise();return this._trigger("process",null,t),a.each(t.processQueue,function(t,e){var n=function(t){return i.errorThrown?a.Deferred().rejectWith(r,[i]).promise():r.processActions[e.action].call(r,t,e)};o=o.pipe(n,e.always&&n)}),o.done(function(){r._trigger("processdone",null,t),r._trigger("processalways",null,t)}).fail(function(){r._trigger("processfail",null,t),r._trigger("processalways",null,t)}),o},_transformProcessQueue:function(r){var e=[];a.each(r.processQueue,function(){var n={},t=this.action,i=!0===this.prefix?t:this.prefix;a.each(this,function(t,e){"string"===a.type(e)&&"@"===e.charAt(0)?n[t]=r[e.slice(1)||(i?i+t.charAt(0).toUpperCase()+t.slice(1):t)]:n[t]=e}),e.push(n)}),r.processQueue=e},processing:function(){return this._processing},process:function(i){var r=this,o=a.extend({},this.options,i);return o.processQueue&&o.processQueue.length&&(this._transformProcessQueue(o),0===this._processing&&this._trigger("processstart"),a.each(i.files,function(t){var e=t?a.extend({},o):o,n=function(){return i.errorThrown?a.Deferred().rejectWith(r,[i]).promise():r._processFile(e,i)};e.index=t,r._processing+=1,r._processingQueue=r._processingQueue.pipe(n,n).always(function(){r._processing-=1,0===r._processing&&r._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=a.Deferred().resolveWith(this).promise()}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","load-image-ios","canvas-to-blob","./jquery.fileupload-process"],t):t(window.jQuery,window.loadImage)}(function(s,l){"use strict";s.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"}),s.widget("blueimp.fileupload",s.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(e,t){if(t.disabled)return e;var n=this,i=e.files[e.index],r=s.Deferred();return"number"===s.type(t.maxFileSize)&&i.size>t.maxFileSize||t.fileTypes&&!t.fileTypes.test(i.type)||!l(i,function(t){t.src&&(e.img=t),r.resolveWith(n,[e])},t)?e:r.promise()},resizeImage:function(e,n){if(n.disabled||!e.canvas&&!e.img)return e;n=s.extend({canvas:!0},n);var t,i=this,r=s.Deferred(),o=n.canvas&&e.canvas||e.img,a=function(t){t&&(t.width!==o.width||t.height!==o.height||n.forceResize)&&(e[t.getContext?"canvas":"img"]=t),e.preview=t,r.resolveWith(i,[e])};return e.exif&&(!0===n.orientation&&(n.orientation=e.exif.get("Orientation")),n.thumbnail&&(t=e.exif.get("Thumbnail")))?(l(t,a,n),r.promise()):o?(a(l.scale(o,n)),r.promise()):e},saveImage:function(e,t){if(!e.canvas||t.disabled)return e;var n=this,i=e.files[e.index],r=s.Deferred();return e.canvas.toBlob?(e.canvas.toBlob(function(t){t.name||(i.type===t.type?t.name=i.name:i.name&&(t.name=i.name.replace(/\..+$/,"."+t.type.substr(6)))),i.type!==t.type&&delete e.imageHead,e.files[e.index]=t,r.resolveWith(n,[e])},t.type||i.type,t.quality),r.promise()):e},loadImageMetaData:function(e,t){if(t.disabled)return e;var n=this,i=s.Deferred();return l.parseMetaData(e.files[e.index],function(t){s.extend(e,t),i.resolveWith(n,[e])},t),i.promise()},saveImageMetaData:function(t,e){if(!(t.imageHead&&t.canvas&&t.canvas.toBlob)||e.disabled)return t;var n=t.files[t.index],i=new Blob([t.imageHead,this._blobSlice.call(n,20)],{type:n.type});return i.name=n.name,t.files[t.index]=i,t},setImage:function(t,e){return t.preview&&!e.disabled&&(t.files[t.index][e.name||"preview"]=t.preview),t}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],t):t(window.jQuery,window.tmpl)}(function(l,e,t){"use strict";l.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId"),l.widget("blueimp.fileupload",l.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,prependFiles:!1,dataType:"json",getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(t){return t.result&&l.isArray(t.result.files)?t.result.files:[]},add:function(t,n){if(t.isDefaultPrevented())return!1;var e=l(this),i=e.data("blueimp-fileupload")||e.data("fileupload"),r=i.options;n.context=i._renderUpload(n.files).data("data",n).addClass("processing"),r.filesContainer[r.prependFiles?"prepend":"append"](n.context),i._forceReflow(n.context),l.when(i._transition(n.context),n.process(function(){return e.fileupload("process",n)})).always(function(){n.context.each(function(t){l(this).find(".size").text(i._formatFileSize(n.files[t].size))}).removeClass("processing"),i._renderPreviews(n)}).done(function(){n.context.find(".start").prop("disabled",!1),!1!==i._trigger("added",t,n)&&(r.autoUpload||n.autoUpload)&&!1!==n.autoUpload&&n.submit()}).fail(function(){n.files.error&&n.context.each(function(t){var e=n.files[t].error;e&&l(this).find(".error").text(e)})})},send:function(t,e){if(t.isDefaultPrevented())return!1;var n=l(this).data("blueimp-fileupload")||l(this).data("fileupload");return e.context&&e.dataType&&"iframe"===e.dataType.substr(0,6)&&e.context.find(".progress").addClass(!l.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),n._trigger("sent",t,e)},done:function(n,i){if(n.isDefaultPrevented())return!1;var r,o,a=l(this).data("blueimp-fileupload")||l(this).data("fileupload"),s=(i.getFilesFromResponse||a.options.getFilesFromResponse)(i);i.context?i.context.each(function(t){var e=s[t]||{error:"Empty file upload result"};o=a._addFinishedDeferreds(),a._transition(l(this)).done(function(){var t=l(this);r=a._renderDownload([e]).replaceAll(t),a._forceReflow(r),a._transition(r).done(function(){i.context=l(this),a._trigger("completed",n,i),a._trigger("finished",n,i),o.resolve()})})}):(r=a._renderDownload(s)[a.options.prependFiles?"prependTo":"appendTo"](a.options.filesContainer),a._forceReflow(r),o=a._addFinishedDeferreds(),a._transition(r).done(function(){i.context=l(this),a._trigger("completed",n,i),a._trigger("finished",n,i),o.resolve()}))},fail:function(n,i){if(n.isDefaultPrevented())return!1;var r,o,a=l(this).data("blueimp-fileupload")||l(this).data("fileupload");i.context?i.context.each(function(t){if("abort"!==i.errorThrown){var e=i.files[t];e.error=e.error||i.errorThrown||!0,o=a._addFinishedDeferreds(),a._transition(l(this)).done(function(){var t=l(this);r=a._renderDownload([e]).replaceAll(t),a._forceReflow(r),a._transition(r).done(function(){i.context=l(this),a._trigger("failed",n,i),a._trigger("finished",n,i),o.resolve()})})}else o=a._addFinishedDeferreds(),a._transition(l(this)).done(function(){l(this).remove(),a._trigger("failed",n,i),a._trigger("finished",n,i),o.resolve()})}):"abort"!==i.errorThrown?(i.context=a._renderUpload(i.files)[a.options.prependFiles?"prependTo":"appendTo"](a.options.filesContainer).data("data",i),a._forceReflow(i.context),o=a._addFinishedDeferreds(),a._transition(i.context).done(function(){i.context=l(this),a._trigger("failed",n,i),a._trigger("finished",n,i),o.resolve()})):(a._trigger("failed",n,i),a._trigger("finished",n,i),a._addFinishedDeferreds().resolve())},progress:function(t,e){if(t.isDefaultPrevented())return!1;var n=Math.floor(e.loaded/e.total*100);e.context&&e.context.each(function(){l(this).find(".progress").attr("aria-valuenow",n).children().first().css("width",n+"%")})},progressall:function(t,e){if(t.isDefaultPrevented())return!1;var n=l(this),i=Math.floor(e.loaded/e.total*100),r=n.find(".fileupload-progress"),o=r.find(".progress-extended");o.length&&o.html((n.data("blueimp-fileupload")||n.data("fileupload"))._renderExtendedProgress(e)),r.find(".progress").attr("aria-valuenow",i).children().first().css("width",i+"%")},start:function(t){if(t.isDefaultPrevented())return!1;var e=l(this).data("blueimp-fileupload")||l(this).data("fileupload");e._resetFinishedDeferreds(),e._transition(l(this).find(".fileupload-progress")).done(function(){e._trigger("started",t)})},stop:function(t){if(t.isDefaultPrevented())return!1;var e=l(this).data("blueimp-fileupload")||l(this).data("fileupload"),n=e._addFinishedDeferreds();l.when.apply(l,e._getFinishedDeferreds()).done(function(){e._trigger("stopped",t)}),e._transition(l(this).find(".fileupload-progress")).done(function(){l(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%"),l(this).find(".progress-extended").html("&nbsp;"),n.resolve()})},processstart:function(t){if(t.isDefaultPrevented())return!1;l(this).addClass("fileupload-processing")},processstop:function(t){if(t.isDefaultPrevented())return!1;l(this).removeClass("fileupload-processing")},destroy:function(t,e){if(t.isDefaultPrevented())return!1;var n=l(this).data("blueimp-fileupload")||l(this).data("fileupload"),i=function(){n._transition(e.context).done(function(){l(this).remove(),n._trigger("destroyed",t,e)})};e.url?(e.dataType=e.dataType||n.options.dataType,l.ajax(e).done(i)):i()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(t){return t||(t=l.Deferred()),this._finishedUploads.push(t),t},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var t=l(this),e=t.prop("href"),n=t.prop("download"),i="application/octet-stream";t.bind("dragstart",function(t){try{t.originalEvent.dataTransfer.setData("DownloadURL",[i,n,e].join(":"))}catch(t){}})},_formatFileSize:function(t){return"number"!=typeof t?"":1e9<=t?(t/1e9).toFixed(2)+" GB":1e6<=t?(t/1e6).toFixed(2)+" MB":(t/1e3).toFixed(2)+" KB"},_formatBitrate:function(t){return"number"!=typeof t?"":1e9<=t?(t/1e9).toFixed(2)+" Gbit/s":1e6<=t?(t/1e6).toFixed(2)+" Mbit/s":1e3<=t?(t/1e3).toFixed(2)+" kbit/s":t.toFixed(2)+" bit/s"},_formatTime:function(t){var e=new Date(1e3*t),n=Math.floor(t/86400);return(n=n?n+"d ":"")+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)},_formatPercentage:function(t){return(100*t).toFixed(2)+" %"},_renderExtendedProgress:function(t){return this._formatBitrate(t.bitrate)+" | "+this._formatTime(8*(t.total-t.loaded)/t.bitrate)+" | "+this._formatPercentage(t.loaded/t.total)+" | "+this._formatFileSize(t.loaded)+" / "+this._formatFileSize(t.total)},_renderTemplate:function(t,e){if(!t)return l();var n=t({files:e,formatFileSize:this._formatFileSize,options:this.options});return n instanceof l?n:l(this.options.templatesContainer).html(n).children()},_renderPreviews:function(n){n.context.find(".preview").each(function(t,e){l(e).append(n.files[t].preview)})},_renderUpload:function(t){return this._renderTemplate(this.options.uploadTemplate,t)},_renderDownload:function(t){return this._renderTemplate(this.options.downloadTemplate,t).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var e=l(t.currentTarget),n=e.closest(".template-upload").data("data");e.prop("disabled",!0),n&&n.submit&&n.submit()},_cancelHandler:function(t){t.preventDefault();var e=l(t.currentTarget).closest(".template-upload,.template-download"),n=e.data("data")||{};n.jqXHR?n.jqXHR.abort():(n.context=n.context||e,n.errorThrown="abort",this._trigger("fail",t,n))},_deleteHandler:function(t){t.preventDefault();var e=l(t.currentTarget);this._trigger("destroy",t,l.extend({context:e.closest(".template-download"),type:"DELETE"},e.data()))},_forceReflow:function(t){return l.support.transition&&t.length&&t[0].offsetWidth},_transition:function(e){var n=l.Deferred();return l.support.transition&&e.hasClass("fade")&&e.is(":visible")?e.bind(l.support.transition.end,function(t){t.target===e[0]&&(e.unbind(l.support.transition.end),n.resolveWith(e))}).toggleClass("in"):(e.toggleClass("in"),n.resolveWith(e)),n},_initButtonBarEventHandlers:function(){var e=this.element.find(".fileupload-buttonbar"),n=this.options.filesContainer;this._on(e.find(".start"),{click:function(t){t.preventDefault(),n.find(".start").click()}}),this._on(e.find(".cancel"),{click:function(t){t.preventDefault(),n.find(".cancel").click()}}),this._on(e.find(".delete"),{click:function(t){t.preventDefault(),n.find(".toggle:checked").closest(".template-download").find(".delete").click(),e.find(".toggle").prop("checked",!1)}}),this._on(e.find(".toggle"),{change:function(t){n.find(".toggle").prop("checked",l(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var t=this.options;t.templatesContainer=this.document[0].createElement(t.filesContainer.prop("nodeName")),e&&(t.uploadTemplateId&&(t.uploadTemplate=e(t.uploadTemplateId)),t.downloadTemplateId&&(t.downloadTemplate=e(t.downloadTemplateId)))},_initFilesContainer:function(){var t=this.options;void 0===t.filesContainer?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof l||(t.filesContainer=l(t.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),l.support.fileInput||this._disableFileInputButton()},enable:function(){var t=!1;this.options.disabled&&(t=!0),this._super(),t&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],t):t(window.jQuery)}(function(a){"use strict";a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(t,e){if(e.disabled)return t;var n,i=a.Deferred(),r=this.options,o=t.files[t.index];return(e.minFileSize||e.maxFileSize)&&(n=o.size),"number"===a.type(e.maxNumberOfFiles)&&(r.getNumberOfFiles()||0)+t.files.length>e.maxNumberOfFiles?o.error=r.i18n("maxNumberOfFiles"):!e.acceptFileTypes||e.acceptFileTypes.test(o.type)||e.acceptFileTypes.test(o.name)?n>e.maxFileSize?o.error=r.i18n("maxFileSize"):"number"===a.type(n)&&n<e.minFileSize?o.error=r.i18n("minFileSize"):delete o.error:o.error=r.i18n("acceptFileTypes"),o.error||t.files.error?(t.files.error=!0,i.rejectWith(this,[t])):i.resolveWith(this,[t]),i.promise()}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(l){"use strict";var i=0;l.ajaxTransport("iframe",function(r){if(r.async){var o,a,e,s=r.initialIframeSrc||"javascript:false;";return{send:function(t,n){(o=l('<form style="display:none;"></form>')).attr("accept-charset",r.formAcceptCharset),e=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+e+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+e+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+e+"_method=PATCH",r.type="POST"),a=l('<iframe src="'+s+'" name="iframe-transport-'+(i+=1)+'"></iframe>').bind("load",function(){var i,e=l.isArray(r.paramName)?r.paramName:[r.paramName];a.unbind("load").bind("load",function(){var e;try{if(!(e=a.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=void 0}n(200,"success",{iframe:e}),l('<iframe src="'+s+'"></iframe>').appendTo(o),window.setTimeout(function(){o.remove()},0)}),o.prop("target",a.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&l.each(r.formData,function(t,e){l('<input type="hidden"/>').prop("name",e.name).val(e.value).appendTo(o)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(i=r.fileInput.clone(),r.fileInput.after(function(t){return i[t]}),r.paramName&&r.fileInput.each(function(t){l(this).prop("name",e[t]||r.paramName)}),o.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),o.submit(),i&&i.length&&r.fileInput.each(function(t,e){var n=l(i[t]);l(e).prop("name",n.prop("name")),n.replaceWith(e)})}),o.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",s),o&&o.remove()}}}}),l.ajaxSetup({converters:{"iframe text":function(t){return t&&l(t[0].body).text()},"iframe json":function(t){return t&&l.parseJSON(l(t[0].body).text())},"iframe html":function(t){return t&&l(t[0].body).html()},"iframe xml":function(t){var e=t&&t[0];return e&&l.isXMLDoc(e)?e:l.parseXML(e.XMLDocument&&e.XMLDocument.xml||l(e.body).html())},"iframe script":function(t){return t&&l.globalEval(l(t[0].body).text())}}})}),function(e){"use strict";e(function(){var t;e.support.transition=(t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}())&&{end:t}})}(window.jQuery),function(o){"use strict";var r=function(t,e){this.$element=o(t),this.options=o.extend({},o.fn.collapse.defaults,e),this.options.parent&&(this.$parent=o(this.options.parent)),this.options.toggle&&this.toggle()};r.prototype={constructor:r,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,e,n,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),e=o.camelCase(["scroll",t].join("-")),(n=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&n.length){if((i=n.data("collapse"))&&i.transitioning)return;n.collapse("hide"),i||n.data("collapse",null)}this.$element[t](0),this.transition("addClass",o.Event("show"),"shown"),o.support.transition&&this.$element[t](this.$element[0][e])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",o.Event("hide"),"hidden"),this.$element[t](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(t,e,n){var i=this,r=function(){"show"==e.type&&i.reset(),i.transitioning=0,i.$element.trigger(n)};this.$element.trigger(e),e.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),o.support.transition&&this.$element.hasClass("collapse")?this.$element.one(o.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var t=o.fn.collapse;o.fn.collapse=function(i){return this.each(function(){var t=o(this),e=t.data("collapse"),n=o.extend({},o.fn.collapse.defaults,t.data(),"object"==typeof i&&i);e||t.data("collapse",e=new r(this,n)),"string"==typeof i&&e[i]()})},o.fn.collapse.defaults={toggle:!0},o.fn.collapse.Constructor=r,o.fn.collapse.noConflict=function(){return o.fn.collapse=t,this},o(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var e,n=o(this),i=n.attr("data-target")||t.preventDefault()||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),r=o(i).data("collapse")?"toggle":n.data();n[o(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),o(i).collapse(r)})}(window.jQuery),function(a){"use strict";var s="[data-toggle=dropdown]",i=function(t){var e=a(t).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})};function r(){a(".dropdown-backdrop").remove(),a(s).each(function(){l(a(this)).removeClass("open")})}function l(t){var e,n=t.attr("data-target");return n||(n=(n=t.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),(e=n&&a(n))&&e.length||(e=t.parent()),e}i.prototype={constructor:i,toggle:function(t){var e,n,i=a(this);if(!i.is(".disabled, :disabled"))return n=(e=l(i)).hasClass("open"),r(),n||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",r),e.toggleClass("open")),i.focus(),!1},keydown:function(t){var e,n,i,r,o;if(/(38|40|27)/.test(t.keyCode)&&(e=a(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(!(r=(i=l(e)).hasClass("open"))||r&&27==t.keyCode)return 27==t.which&&i.find(s).focus(),e.click();(n=a("[role=menu] li:not(.divider):visible a",i)).length&&(o=n.index(n.filter(":focus")),38==t.keyCode&&0<o&&o--,40==t.keyCode&&o<n.length-1&&o++,~o||(o=0),n.eq(o).focus())}}};var t=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var t=a(this),e=t.data("dropdown");e||t.data("dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",s,i.prototype.toggle).on("keydown.dropdown.data-api",s+", [role=menu]",i.prototype.keydown)}(window.jQuery),function(o){"use strict";var r=function(t,e){this.options=e,this.$element=o(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",o.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};r.prototype={constructor:r,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,t=o.Event("show");this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var t=o.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),t&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),t?e.$element.one(o.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=o.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),o(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),o.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;o(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,e=setTimeout(function(){t.$element.off(o.support.transition.end),t.hideModal()},500);this.$element.one(o.support.transition.end,function(){clearTimeout(e),t.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=o.support.transition&&e;if(this.$backdrop=o('<div class="modal-backdrop '+e+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?o.proxy(this.$element[0].focus,this.$element[0]):o.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one(o.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(o.support.transition.end,t):t()):t&&t()}};var t=o.fn.modal;o.fn.modal=function(i){return this.each(function(){var t=o(this),e=t.data("modal"),n=o.extend({},o.fn.modal.defaults,t.data(),"object"==typeof i&&i);e||t.data("modal",e=new r(this,n)),"string"==typeof i?e[i]():n.show&&e.show()})},o.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},o.fn.modal.Constructor=r,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),i=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),e.data());t.preventDefault(),i.modal(r).one("hide",function(){e.focus()})})}(window.jQuery),function(l){"use strict";var r=function(t,e){this.init("tooltip",t,e)};r.prototype={constructor:r,init:function(t,e,n){var i,r,o,a,s;for(this.type=t,this.$element=l(e),this.options=this.getOptions(n),this.enabled=!0,s=(o=this.options.trigger.split(" ")).length;s--;)"click"==(a=o[s])?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=a&&(i="hover"==a?"mouseenter":"focus",r="hover"==a?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,l.proxy(this.leave,this)));this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=l.extend({},l.fn[this.type].defaults,this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var e,n=l.fn[this.type].defaults,i={};if(this._options&&l.each(this._options,function(t,e){n[t]!=e&&(i[t]=e)},this),!(e=l(t.currentTarget)[this.type](i).data(this.type)).options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},leave:function(t){var e=l(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out",this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var t,e,n,i,r,o,a=l.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),e=this.getPosition(),n=t[0].offsetWidth,i=t[0].offsetHeight,r){case"bottom":o={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"top":o={top:e.top-i,left:e.left+e.width/2-n/2};break;case"left":o={top:e.top+e.height/2-i/2,left:e.left-n};break;case"right":o={top:e.top+e.height/2-i/2,left:e.left+e.width}}this.applyPlacement(o,r),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,r,o,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,o=!0),"bottom"==e||"top"==e?(r=0,t.left<0&&(r=-2*t.left,t.left=0,a.offset(t),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&a.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var t,e=this.tip(),n=l.Event("hide");if(this.$element.trigger(n),!n.isDefaultPrevented())return e.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?(t=setTimeout(function(){e.off(l.support.transition.end).detach()},500),e.one(l.support.transition.end,function(){clearTimeout(t),e.detach()})):e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return l.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||l(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var e=t?l(t.currentTarget)[this.type](this._options).data(this.type):this;e.tip().hasClass("in")?e.hide():e.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var t=l.fn.tooltip;l.fn.tooltip=function(i){return this.each(function(){var t=l(this),e=t.data("tooltip"),n="object"==typeof i&&i;e||t.data("tooltip",e=new r(this,n)),"string"==typeof i&&e[i]()})},l.fn.tooltip.Constructor=r,l.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},l.fn.tooltip.noConflict=function(){return l.fn.tooltip=t,this}}(window.jQuery),function(r){"use strict";var o=function(t,e){this.init("popover",t,e)};o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype,{constructor:o,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=r(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var t=r.fn.popover;r.fn.popover=function(i){return this.each(function(){var t=r(this),e=t.data("popover"),n="object"==typeof i&&i;e||t.data("popover",e=new o(this,n)),"string"==typeof i&&e[i]()})},r.fn.popover.Constructor=o,r.fn.popover.defaults=r.extend({},r.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),r.fn.popover.noConflict=function(){return r.fn.popover=t,this}}(window.jQuery),function(a){"use strict";var i=function(t){this.element=a(t)};i.prototype={constructor:i,show:function(){var t,e,n,i=this.element,r=i.closest("ul:not(.dropdown-menu)"),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=r.find(".active:last a")[0],n=a.Event("show",{relatedTarget:t}),i.trigger(n),n.isDefaultPrevented()||(e=a(o),this.activate(i.parent("li"),r),this.activate(e,e.parent(),function(){i.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,e,n){var i=e.find("> .active"),r=n&&a.support.transition&&i.hasClass("fade");function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}r?i.one(a.support.transition.end,o):o(),i.removeClass("in")}};var t=a.fn.tab;a.fn.tab=function(n){return this.each(function(){var t=a(this),e=t.data("tab");e||t.data("tab",e=new i(this)),"string"==typeof n&&e[n]()})},a.fn.tab.Constructor=i,a.fn.tab.noConflict=function(){return a.fn.tab=t,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),a(this).tab("show")})}(window.jQuery),function(r){"use strict";var o=function(t,e){this.$element=r(t),this.options=r.extend({},r.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=r(this.options.menu),this.shown=!1,this.listen()};o.prototype={constructor:o,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var t=r.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=r.isFunction(this.source)?this.source(this.query,r.proxy(this.process,this)):this.source)?this.process(e):this},process:function(t){var e=this;return t=r.grep(t,function(t){return e.matcher(t)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):r.push(e):n.push(e);return n.concat(i,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(t){var n=this;return(t=r(t).map(function(t,e){return(t=r(n.options.item).attr("data-value",e)).find("a").html(n.highlighter(e)),t[0]})).first().addClass("active"),this.$menu.html(t),this},next:function(t){var e=this.$menu.find(".active").removeClass("active").next();e.length||(e=r(this.$menu.find("li")[0])),e.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active").prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",r.proxy(this.focus,this)).on("blur",r.proxy(this.blur,this)).on("keypress",r.proxy(this.keypress,this)).on("keyup",r.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",r.proxy(this.keydown,this)),this.$menu.on("click",r.proxy(this.click,this)).on("mouseenter","li",r.proxy(this.mouseenter,this)).on("mouseleave","li",r.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~r.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),r(t.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var t=r.fn.typeahead;r.fn.typeahead=function(i){return this.each(function(){var t=r(this),e=t.data("typeahead"),n="object"==typeof i&&i;e||t.data("typeahead",e=new o(this,n)),"string"==typeof i&&e[i]()})},r.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},r.fn.typeahead.Constructor=o,r.fn.typeahead.noConflict=function(){return r.fn.typeahead=t,this},r(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var e=r(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),function(s){"use strict";var r=function(t,e){this.options=s.extend({},s.fn.affix.defaults,e),this.$window=s(window).on("scroll.affix.data-api",s.proxy(this.checkPosition,this)).on("click.affix.data-api",s.proxy(function(){setTimeout(s.proxy(this.checkPosition,this),1)},this)),this.$element=s(t),this.checkPosition()};r.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,e=s(document).height(),n=this.$window.scrollTop(),i=this.$element.offset(),r=this.options.offset,o=r.bottom,a=r.top;"object"!=typeof r&&(o=a=r),"function"==typeof a&&(a=r.top()),"function"==typeof o&&(o=r.bottom()),t=!(null!=this.unpin&&n+this.unpin<=i.top)&&(null!=o&&i.top+this.$element.height()>=e-o?"bottom":null!=a&&n<=a&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?i.top-n:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var t=s.fn.affix;s.fn.affix=function(i){return this.each(function(){var t=s(this),e=t.data("affix"),n="object"==typeof i&&i;e||t.data("affix",e=new r(this,n)),"string"==typeof i&&e[i]()})},s.fn.affix.Constructor=r,s.fn.affix.defaults={offset:0},s.fn.affix.noConflict=function(){return s.fn.affix=t,this},s(window).on("load",function(){s('[data-spy="affix"]').each(function(){var t=s(this),e=t.data();e.offset=e.offset||{},e.offsetBottom&&(e.offset.bottom=e.offsetBottom),e.offsetTop&&(e.offset.top=e.offsetTop),t.affix(e)})})}(window.jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(T,M){function D(){return new Date(Date.UTC.apply(Date,arguments))}function x(){var t=new Date;return D(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function t(t,e){return function(){return e!==M&&T.fn.datepicker.deprecated(e),this[t].apply(this,arguments)}}var e,n=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(T.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new n;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),T.extend(t,e),t}),C=function(t,e){T.data(t,"datepicker",this),this._process_options(e),this.dates=new n,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=T(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=T($.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};C.prototype={constructor:C,_resolveViewName:function(n){return T.each($.viewModes,function(t,e){if(n===t||-1!==T.inArray(n,e.names))return n=t,!1}),n},_resolveDaysOfWeek:function(t){return T.isArray(t)||(t=t.split(/[,\s]*/)),T.map(t,Number)},_check_template:function(t){try{return t!==M&&""!==t&&((t.match(/[<>]/g)||[]).length<=0||0<T(t).length)}catch(t){return!1}},_process_options:function(t){this._o=T.extend({},this._o,t);var e=this.o=T.extend({},this._o),n=e.language;E[n]||(n=n.split("-")[0],E[n]||(n=c.language)),e.language=n,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var i=$.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=$.parseDate(e.startDate,i,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=$.parseDate(e.endDate,i,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],T.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(",")),e.datesDisabled=T.map(e.datesDisabled,function(t){return $.parseDate(t,i,e.language,e.assumeNearbyYear)});var r=String(e.orientation).toLowerCase().split(/\s+/g),o=e.orientation.toLowerCase();if(r=T.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===r.length)switch(r[0]){case"top":case"bottom":e.orientation.y=r[0];break;case"left":case"right":e.orientation.x=r[0]}else o=T.grep(r,function(t){return/^left|right$/.test(t)}),e.orientation.x=o[0]||"auto",o=T.grep(r,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=o[0]||"auto";else;if(e.defaultViewDate instanceof Date||"string"==typeof e.defaultViewDate)e.defaultViewDate=$.parseDate(e.defaultViewDate,i,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var a=e.defaultViewDate.year||(new Date).getFullYear(),s=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=D(a,s,l)}else e.defaultViewDate=x()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(n=M,i=t[r][1]):3===t[r].length&&(n=t[r][1],i=t[r][2]),e.on(i,n)},_unapplyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(i=M,n=t[r][1]):3===t[r].length&&(i=t[r][1],n=t[r][2]),e.off(n,i)},_buildEvents:function(){var t={keyup:T.proxy(function(t){-1===T.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:T.proxy(this.keydown,this),paste:T.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=T.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:T.proxy(this.show,this)}]]:this._events=[[this.element,{click:T.proxy(this.show,this),keydown:T.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:T.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:T.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":T.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:T.proxy(this.click,this)}],[this.picker,".prev, .next",{click:T.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:T.proxy(this.dayCellClick,this)}],[T(window),{resize:T.proxy(this.place,this)}],[T(document),{"mousedown touchstart":T.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var n=e||this.dates.get(-1),i=this._utc_to_local(n);this.element.trigger({type:t,date:i,viewMode:this.viewMode,dates:T.map(this.dates,this._utc_to_local),format:T.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return $.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&T(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==T.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text")}this.setDate(e),this.update(),t.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&D(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return T.map(this.dates,this._utc_to_local)},getUTCDates:function(){return T.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==M?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=T.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=T.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,T.map(t,this._utc_to_local)),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(e){e===M&&(e=this.o.format);var n=this.o.language;return T.map(this.dates,function(t){return $.formatDate(t,e,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),n=T(this.o.container),i=n.width(),r="body"===this.o.container?T(document).scrollTop():n.scrollTop(),o=n.offset(),a=[0];this.element.parents().each(function(){var t=T(this).css("z-index");"auto"!==t&&0!==Number(t)&&a.push(Number(t))});var s=Math.max.apply(Math,a)+this.o.zIndexOffset,l=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=l.left-o.left,f=l.top-o.top;"body"!==this.o.container&&(f+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-c)):l.left<0?(this.picker.addClass("datepicker-orient-left"),h-=l.left-10):i<h+t?(this.picker.addClass("datepicker-orient-right"),h+=c-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var d=this.o.orientation.y;if("auto"===d&&(d=-r+f-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+d),"top"===d?f-=e+parseInt(this.picker.css("padding-top")):f+=u,this.o.rtl){var p=i-(h+c);this.picker.css({top:f,right:p,zIndex:s})}else this.picker.css({top:f,left:h,zIndex:s});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],e=!1;return arguments.length?(T.each(arguments,T.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),e=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=T.map(n,T.proxy(function(t){return $.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=T.grep(n,T.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),e?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&e&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow',-1!==T.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+E[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+E[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=T.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],n=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),r=x();return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<i?e.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>i)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&o(t,r)&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),this.dateWithinRange(t)||e.push("disabled"),this.dateIsDisabled(t)&&e.push("disabled","disabled-date"),-1!==T.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&e.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==T.inArray(t.valueOf(),this.range)&&e.push("selected"),t.valueOf()===this.range[0]&&e.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&e.push("range-end")),e},_fill_yearsView:function(t,e,n,i,r,o,a){for(var s,l,u,c="",h=n/10,f=this.picker.find(t),d=Math.floor(i/n)*n,p=d+9*h,g=Math.floor(this.viewDate.getFullYear()/h)*h,m=T.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/h)*h}),v=d-h;v<=p+h;v+=h)s=[e],l=null,v===d-h?s.push("old"):v===p+h&&s.push("new"),-1!==T.inArray(v,m)&&s.push("active"),(v<r||o<v)&&s.push("disabled"),v===g&&s.push("focused"),a!==T.noop&&((u=a(new Date(v,0,1)))===M?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&s.push("disabled"),u.classes&&(s=s.concat(u.classes.split(/\s+/))),u.tooltip&&(l=u.tooltip)),c+='<span class="'+s.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+v+"</span>";f.find(".datepicker-switch").text(d+"-"+p),f.find("td").html(c)},fill:function(){var t,e,n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=E[this.o.language].today||E.en.today||"",c=E[this.o.language].clear||E.en.clear||"",h=E[this.o.language].titleFormat||E.en.titleFormat;if(!isNaN(r)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text($.formatDate(n,h,this.o.language)),this.picker.find("tfoot .today").text(u).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(c).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var f=D(r,i,0),d=f.getUTCDate();f.setUTCDate(d-(f.getUTCDay()-this.o.weekStart+7)%7);var p=new Date(f);f.getUTCFullYear()<100&&p.setUTCFullYear(f.getUTCFullYear()),p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var g,m,v=[];f.valueOf()<p;){if((g=f.getUTCDay())===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var y=new Date(+f+(this.o.weekStart-g-7)%7*864e5),b=new Date(Number(y)+(11-y.getUTCDay())%7*864e5),w=new Date(Number(w=D(b.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),x=(b-w)/864e5/7+1;v.push('<td class="cw">'+x+"</td>")}(m=this.getClassNames(f)).push("day");var C=f.getUTCDate();this.o.beforeShowDay!==T.noop&&((e=this.o.beforeShowDay(this._utc_to_local(f)))===M?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&m.push("disabled"),e.classes&&(m=m.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip),e.content&&(C=e.content)),m=T.isFunction(T.uniqueSort)?T.uniqueSort(m):T.unique(m),v.push('<td class="'+m.join(" ")+'"'+(t?' title="'+t+'"':"")+' data-date="'+f.getTime().toString()+'">'+C+"</td>"),t=null,g===this.o.weekEnd&&v.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(v.join(""));var k=E[this.o.language].monthsTitle||E.en.monthsTitle||"Months",S=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?k:r).end().find("tbody span").removeClass("active");if(T.each(this.dates,function(t,e){e.getUTCFullYear()===r&&S.eq(e.getUTCMonth()).addClass("active")}),(r<o||s<r)&&S.addClass("disabled"),r===o&&S.slice(0,a).addClass("disabled"),r===s&&S.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==T.noop){var _=this;T.each(S,function(t,e){var n=new Date(r,t,1),i=_.o.beforeShowMonth(n);i===M?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||T(e).hasClass("disabled")||T(e).addClass("disabled"),i.classes&&T(e).addClass(i.classes),i.tooltip&&T(e).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,o,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,o,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,o,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=1;switch(this.viewMode){case 4:u*=10;case 3:u*=10;case 2:u*=10;case 1:t=Math.floor(i/u)*u<o,e=Math.floor(i/u)*u+u>s;break;case 0:t=i<=o&&r<a,e=s<=i&&l<r}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(t){var e,n,i;t.preventDefault(),t.stopPropagation(),(e=T(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(x(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(i=e.parent().find("span").index(e),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i)):(i=0,n=Number(e.text()),this.viewDate.setUTCFullYear(n)),this._trigger($.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(D(n,i,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var e=T(t.currentTarget).data("date"),n=new Date(e);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(t){var e=T(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(e*=12*$.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,e),this._trigger($.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!(n=t)||isNaN(n.getTime()))return this.o.defaultViewDate;var n;if(!e)return t;var i,r,o=new Date(t.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(e);if(e=0<e?1:-1,1===l)r=-1===e?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==i},i=s+e,o.setUTCMonth(i),i=(i+12)%12;else{for(var u=0;u<l;u++)o=this.moveMonth(o,e);i=o.getUTCMonth(),o.setUTCDate(a),r=function(){return i!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--a),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(t){return-1!==T.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||0<T.grep(this.o.datesDisabled,function(t){return o(e,t)}).length},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+$.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(t,e){T.data(t,"datepicker",this),this.element=T(t),this.inputs=T.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,this.keepEmptyValues=e.keepEmptyValues,delete e.keepEmptyValues,r.call(T(this.inputs),e).on("changeDate",T.proxy(this.dateUpdated,this)),this.pickers=T.map(this.inputs,function(t){return T.data(t,"datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=T.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var n=T.map(this.dates,function(t){return t.valueOf()});T.each(this.pickers,function(t,e){e.setRange(n)})},clearDates:function(){T.each(this.pickers,function(t,e){e.clearDates()})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=T.data(t.target,"datepicker");if(n!==M){var i=n.getUTCDate(),r=this.keepEmptyValues,e=T.inArray(t.target,this.inputs),o=e-1,a=e+1,s=this.inputs.length;if(-1!==e){if(T.each(this.pickers,function(t,e){e.getUTCDate()||e!==n&&r||e.setUTCDate(i)}),i<this.dates[o])for(;0<=o&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[a])for(;a<s&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}}},destroy:function(){T.map(this.pickers,function(t){t.destroy()}),T(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var i=T.fn.datepicker,r=function(a){var s,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var t=T(this),e=t.data("datepicker"),n="object"==typeof a&&a;if(!e){var i=function(t,e){var n=T(t).data(),i={},r=new RegExp("^"+e.toLowerCase()+"([A-Z])");function o(t,e){return e.toLowerCase()}for(var a in e=new RegExp("^"+e.toLowerCase()),n)e.test(a)&&(i[a.replace(r,o)]=n[a]);return i}(this,"date"),r=function(t){var n={};if(E[t]||(t=t.split("-")[0],E[t])){var i=E[t];return T.each(h,function(t,e){e in i&&(n[e]=i[e])}),n}}(T.extend({},c,i,n).language),o=T.extend({},c,r,i,n);t.hasClass("input-daterange")||o.inputs?(T.extend(o,{inputs:o.inputs||t.find("input").toArray()}),e=new u(this,o)):e=new C(this,o),t.data("datepicker",e)}"string"==typeof a&&"function"==typeof e[a]&&(s=e[a].apply(e,l))}),s===M||s instanceof C||s instanceof u)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+a+" function)");return s};T.fn.datepicker=r;var c=T.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:T.noop,beforeShowMonth:T.noop,beforeShowYear:T.noop,beforeShowDecade:T.noop,beforeShowCentury:T.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},h=T.fn.datepicker.locale_opts=["format","rtl","weekStart"];T.fn.datepicker.Constructor=C;var E=T.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},$={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(t,e,n,r){if(!t)return M;if(t instanceof Date)return t;if("string"==typeof e&&(e=$.parseFormat(e)),e.toValue)return e.toValue(t,e,n);var i,o,a,s,l,u={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},c={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(t in c&&(t=c[t]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t)){for(i=t.match(/([\-+]\d+)([dmwy])/gi),t=new Date,s=0;s<i.length;s++)o=i[s].match(/([\-+]\d+)([dmwy])/i),a=Number(o[1]),l=u[o[2].toLowerCase()],t=C.prototype[l](t,a);return C.prototype._zero_utc_time(t)}i=t&&t.match(this.nonpunctuation)||[];var h,f,d={},p=["yyyy","yy","M","MM","m","mm","d","dd"],g={yyyy:function(t,e){return t.setUTCFullYear(r?(!0===(i=r)&&(i=10),(n=e)<100&&(n+=2e3)>(new Date).getFullYear()+i&&(n-=100),n):e);var n,i},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};g.yy=g.yyyy,g.M=g.MM=g.mm=g.m,g.dd=g.d,t=x();var m=e.parts.slice();function v(){var t=this.slice(0,i[s].length),e=i[s].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(i.length!==m.length&&(m=T(m).filter(function(t,e){return-1!==T.inArray(e,p)}).toArray()),i.length===m.length){var y,b,w;for(s=0,y=m.length;s<y;s++){if(h=parseInt(i[s],10),o=m[s],isNaN(h))switch(o){case"MM":f=T(E[n].months).filter(v),h=T.inArray(f[0],E[n].months)+1;break;case"M":f=T(E[n].monthsShort).filter(v),h=T.inArray(f[0],E[n].monthsShort)+1}d[o]=h}for(s=0;s<p.length;s++)(w=p[s])in d&&!isNaN(d[w])&&(b=new Date(t),g[w](b,d[w]),isNaN(b)||(t=b))}return t},formatDate:function(t,e,n){if(!t)return"";if("string"==typeof e&&(e=$.parseFormat(e)),e.toDisplay)return e.toDisplay(t,e,n);var i={d:t.getUTCDate(),D:E[n].daysShort[t.getUTCDay()],DD:E[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:E[n].monthsShort[t.getUTCMonth()],MM:E[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];for(var r=T.extend([],e.separators),o=0,a=e.parts.length;o<=a;o++)r.length&&t.push(r.shift()),t.push(i[e.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+c.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+c.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};$.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+$.headTemplate+"<tbody></tbody>"+$.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+$.headTemplate+$.contTemplate+$.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+$.headTemplate+$.contTemplate+$.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+$.headTemplate+$.contTemplate+$.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+$.headTemplate+$.contTemplate+$.footTemplate+"</table></div></div>",T.fn.datepicker.DPGlobal=$,T.fn.datepicker.noConflict=function(){return T.fn.datepicker=i,this},T.fn.datepicker.version="1.8.0",T.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},T(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=T(this);e.data("datepicker")||(t.preventDefault(),r.call(e,"show"))}),T(function(){r.call(T('[data-provide="datepicker-inline"]'))})}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(M){"use strict";var s,t,l,e,n,u,i;String.prototype.includes||(s={}.toString,t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),l="".indexOf,e=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==s.call(t))throw new TypeError;var n=e.length,i=String(t),r=i.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;return a!=a&&(a=0),!(n<r+Math.min(Math.max(a,0),n))&&-1!=l.call(e,i,a)},t?t(String.prototype,"includes",{value:e,configurable:!0,writable:!0}):String.prototype.includes=e),String.prototype.startsWith||(n=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),u={}.toString,i=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==u.call(t))throw new TypeError;var n=e.length,i=String(t),r=i.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var s=Math.min(Math.max(a,0),n);if(n<r+s)return!1;for(var l=-1;++l<r;)if(e.charCodeAt(s+l)!=i.charCodeAt(l))return!1;return!0},n?n(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n});var r={useDefault:!1,_set:M.valHooks.select.set};M.valHooks.select.set=function(t,e){return e&&!r.useDefault&&M(t).data("selected",!0),r._set.apply(this,arguments)};var x=null,o=function(){try{return new Event("change"),!0}catch(t){return!1}}();function a(t){return M.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}M.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(o?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)},M.expr.pseudos.icontains=function(t,e,n){var i=M(t).find("a");return(i.data("tokens")||i.text()).toString().toUpperCase().includes(n[3].toUpperCase())},M.expr.pseudos.ibegins=function(t,e,n){var i=M(t).find("a");return(i.data("tokens")||i.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())},M.expr.pseudos.aicontains=function(t,e,n){var i=M(t).find("a");return(i.data("tokens")||i.data("normalizedText")||i.text()).toString().toUpperCase().includes(n[3].toUpperCase())},M.expr.pseudos.aibegins=function(t,e,n){var i=M(t).find("a");return(i.data("tokens")||i.data("normalizedText")||i.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())};var c=function(e){var n=function(t){return e[t]},t="(?:"+Object.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}},T=c({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),h=c({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),f=function(t,e){r.useDefault||(M.valHooks.select.set=r._set,r.useDefault=!0),this.$element=M(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=e,null===this.options.title&&(this.options.title=this.$element.attr("title"));var n=this.options.windowPadding;"number"==typeof n&&(this.options.windowPadding=[n,n,n,n]),this.val=f.prototype.val,this.render=f.prototype.render,this.refresh=f.prototype.refresh,this.setStyle=f.prototype.setStyle,this.selectAll=f.prototype.selectAll,this.deselectAll=f.prototype.deselectAll,this.destroy=f.prototype.destroy,this.remove=f.prototype.remove,this.show=f.prototype.show,this.hide=f.prototype.hide,this.init()};function d(t){var o,a=arguments,s=t;[].shift.apply(a);var e=this.each(function(){var t=M(this);if(t.is("select")){var e=t.data("selectpicker"),n="object"==typeof s&&s;if(e){if(n)for(var i in n)n.hasOwnProperty(i)&&(e.options[i]=n[i])}else{var r=M.extend({},f.DEFAULTS,M.fn.selectpicker.defaults||{},t.data(),n);r.template=M.extend({},f.DEFAULTS.template,M.fn.selectpicker.defaults?M.fn.selectpicker.defaults.template:{},t.data().template,n.template),t.data("selectpicker",e=new f(this,r))}"string"==typeof s&&(o=e[s]instanceof Function?e[s].apply(e,a):e.options[s])}});return void 0!==o?o:e}f.VERSION="1.12.4",f.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},f.prototype={constructor:f,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==t&&(this.$button.attr("data-id",t),M('label[for="'+t+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid"),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",i=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",r=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+T(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",s='<div class="btn-group bootstrap-select'+t+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+i+r+o+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+a+"</div></div>";return M(s)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){var t=this.createLi();this.$menuInner[0].innerHTML=t},createLi:function(){var b=this,w=[],x=0,t=document.createElement("option"),C=-1,k=function(t,e,n,i){return"<li"+(void 0!==n&&""!==n?' class="'+n+'"':"")+(null!=e?' data-original-index="'+e+'"':"")+(null!=i?'data-optgroup="'+i+'"':"")+">"+t+"</li>"},S=function(t,e,n,i){return'<a tabindex="0"'+(void 0!==e?' class="'+e+'"':"")+(n?' style="'+n+'"':"")+(b.options.liveSearchNormalize?' data-normalized-text="'+a(T(M(t).html()))+'"':"")+(void 0!==i||null!==i?' data-tokens="'+i+'"':"")+' role="option">'+t+'<span class="'+b.options.iconBase+" "+b.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(C--,!this.$element.find(".bs-title-option").length)){var e=this.$element[0];t.className="bs-title-option",t.innerHTML=this.options.title,t.value="",e.insertBefore(t,e.firstChild),void 0===M(e.options[e.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(t.selected=!0)}var _=this.$element.find("option");return _.each(function(t){var e=M(this);if(C++,!e.hasClass("bs-title-option")){var n,i=this.className||"",r=T(this.style.cssText),o=e.data("content")?e.data("content"):e.html(),a=e.data("tokens")?e.data("tokens"):null,s=void 0!==e.data("subtext")?'<small class="text-muted">'+e.data("subtext")+"</small>":"",l=void 0!==e.data("icon")?'<span class="'+b.options.iconBase+" "+e.data("icon")+'"></span> ':"",u=e.parent(),c="OPTGROUP"===u[0].tagName,h=c&&u[0].disabled,f=this.disabled||h;if(""!==l&&f&&(l="<span>"+l+"</span>"),b.options.hideDisabled&&(f&&!c||h))return n=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",void 0!==n?n:t),void C--;if(e.data("content")||(o=l+'<span class="text">'+o+s+"</span>"),c&&!0!==e.data("divider")){if(b.options.hideDisabled&&f){if(void 0===u.data("allOptionsDisabled")){var d=u.children();u.data("allOptionsDisabled",d.filter(":disabled").length===d.length)}if(u.data("allOptionsDisabled"))return void C--}var p=" "+u[0].className||"";if(0===e.index()){x+=1;var g=u[0].label,m=void 0!==u.data("subtext")?'<small class="text-muted">'+u.data("subtext")+"</small>":"";g=(u.data("icon")?'<span class="'+b.options.iconBase+" "+u.data("icon")+'"></span> ':"")+'<span class="text">'+T(g)+m+"</span>",0!==t&&0<w.length&&(C++,w.push(k("",null,"divider",x+"div"))),C++,w.push(k(g,null,"dropdown-header"+p,x))}if(b.options.hideDisabled&&f)return void C--;w.push(k(S(o,"opt "+i+p,r,a),t,"",x))}else if(!0===e.data("divider"))w.push(k("",t,"divider"));else if(!0===e.data("hidden"))n=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",void 0!==n?n:t),w.push(k(S(o,i,r,a),t,"hidden is-hidden"));else{var v=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!v&&b.options.hideDisabled&&void 0!==(n=e.data("prevHiddenIndex"))){var y=_.eq(n)[0].previousElementSibling;y&&"OPTGROUP"===y.tagName&&!y.disabled&&(v=!0)}v&&(C++,w.push(k("",null,"divider",x+"div"))),w.push(k(S(o,i,r,a),t))}b.liObj[t]=C}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),w.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var e,i=this,n=this.$element.find("option");!1!==t&&n.each(function(t){var e=i.findLis().eq(i.liObj[t]);i.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),i.setSelected(t,this.selected,e)}),this.togglePlaceholder(),this.tabIndex();var r=n.map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,e=M(this),n=e.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+e.data("icon")+'"></i> ':"";return t=i.options.showSubtext&&e.data("subtext")&&!i.multiple?' <small class="text-muted">'+e.data("subtext")+"</small>":"",void 0!==e.attr("title")?e.attr("title"):e.data("content")&&i.options.showContent?e.data("content").toString():n+e.html()+t}}).toArray(),o=this.multiple?r.join(this.options.multipleSeparator):r[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var a=this.options.selectedTextFormat.split(">");if(1<a.length&&r.length>a[1]||1==a.length&&2<=r.length){e=this.options.hideDisabled?", [disabled]":"";var s=n.not('[data-divider="true"], [data-hidden="true"]'+e).length;o=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(r.length,s):this.options.countSelectedText).replace("{0}",r.length.toString()).replace("{1}",s.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",h(M.trim(o.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=t||this.options.style;"add"==e?this.$button.addClass(n):"remove"==e?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("ul"),r=document.createElement("li"),o=document.createElement("li"),a=document.createElement("a"),s=document.createElement("span"),l=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,u=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,h=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(s.className="text",e.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",i.className="dropdown-menu inner",r.className="divider",s.appendChild(document.createTextNode("Inner text")),a.appendChild(s),o.appendChild(a),i.appendChild(o),i.appendChild(r),l&&n.appendChild(l),u){var f=document.createElement("input");u.className="bs-searchbox",f.className="form-control",u.appendChild(f),n.appendChild(u)}c&&n.appendChild(c),n.appendChild(i),h&&n.appendChild(h),e.appendChild(n),document.body.appendChild(e);var d=a.offsetHeight,p=l?l.offsetHeight:0,g=u?u.offsetHeight:0,m=c?c.offsetHeight:0,v=h?h.offsetHeight:0,y=M(r).outerHeight(!0),b="function"==typeof getComputedStyle&&getComputedStyle(n),w=b?null:M(n),x={vert:parseInt(b?b.paddingTop:w.css("paddingTop"))+parseInt(b?b.paddingBottom:w.css("paddingBottom"))+parseInt(b?b.borderTopWidth:w.css("borderTopWidth"))+parseInt(b?b.borderBottomWidth:w.css("borderBottomWidth")),horiz:parseInt(b?b.paddingLeft:w.css("paddingLeft"))+parseInt(b?b.paddingRight:w.css("paddingRight"))+parseInt(b?b.borderLeftWidth:w.css("borderLeftWidth"))+parseInt(b?b.borderRightWidth:w.css("borderRightWidth"))},C={vert:x.vert+parseInt(b?b.marginTop:w.css("marginTop"))+parseInt(b?b.marginBottom:w.css("marginBottom"))+2,horiz:x.horiz+parseInt(b?b.marginLeft:w.css("marginLeft"))+parseInt(b?b.marginRight:w.css("marginRight"))+2};document.body.removeChild(e),this.sizeInfo={liHeight:d,headerHeight:p,searchHeight:g,actionsHeight:m,doneButtonHeight:v,dividerHeight:y,menuPadding:x,menuExtras:C}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var o,a,s,l,u,c,h,f,d=this,p=this.$menu,g=this.$menuInner,r=M(window),m=this.$newElement[0].offsetHeight,v=this.$newElement[0].offsetWidth,y=this.sizeInfo.liHeight,b=this.sizeInfo.headerHeight,w=this.sizeInfo.searchHeight,x=this.sizeInfo.actionsHeight,C=this.sizeInfo.doneButtonHeight,t=this.sizeInfo.dividerHeight,k=this.sizeInfo.menuPadding,S=this.sizeInfo.menuExtras,e=this.options.hideDisabled?".disabled":"",_=function(){var t,e=d.$newElement.offset(),n=M(d.options.container);d.options.container&&!n.is("body")?((t=n.offset()).top+=parseInt(n.css("borderTopWidth")),t.left+=parseInt(n.css("borderLeftWidth"))):t={top:0,left:0};var i=d.options.windowPadding;u=e.top-t.top-r.scrollTop(),c=r.height()-u-m-t.top-i[2],h=e.left-t.left-r.scrollLeft(),f=r.width()-h-v-t.left-i[1],u-=i[0],h-=i[3]};if(_(),"auto"===this.options.size){var n=function(){var t,e=function(e,n){return function(t){return n?t.classList?t.classList.contains(e):M(t).hasClass(e):!(t.classList?t.classList.contains(e):M(t).hasClass(e))}},n=d.$menuInner[0].getElementsByTagName("li"),i=Array.prototype.filter?Array.prototype.filter.call(n,e("hidden",!1)):d.$lis.not(".hidden"),r=Array.prototype.filter?Array.prototype.filter.call(i,e("dropdown-header",!0)):i.filter(".dropdown-header");_(),o=c-S.vert,a=f-S.horiz,d.options.container?(p.data("height")||p.data("height",p.height()),s=p.data("height"),p.data("width")||p.data("width",p.width()),l=p.data("width")):(s=p.height(),l=p.width()),d.options.dropupAuto&&d.$newElement.toggleClass("dropup",c<u&&o-S.vert<s),d.$newElement.hasClass("dropup")&&(o=u-S.vert),"auto"===d.options.dropdownAlignRight&&p.toggleClass("dropdown-menu-right",f<h&&a-S.horiz<l-v),t=3<i.length+r.length?3*y+S.vert-2:0,p.css({"max-height":o+"px",overflow:"hidden","min-height":t+b+w+x+C+"px"}),g.css({"max-height":o-b-w-x-C-k.vert+"px","overflow-y":"auto","min-height":Math.max(t-k.vert,0)+"px"})};n(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",n),r.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",n)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(e).length>this.options.size){var i=this.$lis.not(".divider").not(e).children().slice(0,this.options.size).last().parent().index(),T=this.$lis.slice(0,i+1).filter(".divider").length;o=y*this.options.size+T*t+k.vert,d.options.container?(p.data("height")||p.data("height",p.height()),s=p.data("height")):s=p.height(),d.options.dropupAuto&&this.$newElement.toggleClass("dropup",c<u&&o-S.vert<s),p.css({"max-height":o+b+w+x+C+"px",overflow:"hidden","min-height":""}),g.css({"max-height":o-k.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,n=t.children(".dropdown-menu").outerWidth(),i=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(n,i)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=M('<div class="bs-container" />');var e,n,i,r=this,o=M(this.options.container),a=function(t){r.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),i=t.hasClass("dropup")?0:t[0].offsetHeight,r.$bsContainer.css({top:e.top-n.top+i,left:e.left-n.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var t=M(this);r.isDisabled()||(a(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass("open",!t.hasClass("open")).append(r.$menu))}),M(window).on("resize scroll",function(){a(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setSelected:function(t,e,n){n||(this.togglePlaceholder(),n=this.findLis().eq(this.liObj[t])),n.toggleClass("selected",e).find("a").attr("aria-selected",e)},setDisabled:function(t,e,n){n||(n=this.findLis().eq(this.liObj[t])),e?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t||t.constructor===Array&&0===t.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var w=this,e=M(document);e.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&e.data("spaceSelect")&&(t.preventDefault(),e.data("spaceSelect",!1))}),this.$button.on("click",function(){w.setSize()}),this.$element.on("shown.bs.select",function(){if(w.options.liveSearch||w.multiple){if(!w.multiple){var t=w.liObj[w.$element[0].selectedIndex];if("number"!=typeof t||!1===w.options.size)return;var e=w.$lis.eq(t)[0].offsetTop-w.$menuInner[0].offsetTop;e=e-w.$menuInner[0].offsetHeight/2+w.sizeInfo.liHeight/2,w.$menuInner[0].scrollTop=e}}else w.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(t){var e=M(this),n=e.parent().data("originalIndex"),i=w.$element.val(),r=w.$element.prop("selectedIndex"),o=!0;if(w.multiple&&1!==w.options.maxOptions&&t.stopPropagation(),t.preventDefault(),!w.isDisabled()&&!e.parent().hasClass("disabled")){var a=w.$element.find("option"),s=a.eq(n),l=s.prop("selected"),u=s.parent("optgroup"),c=w.options.maxOptions,h=u.data("maxOptions")||!1;if(w.multiple){if(s.prop("selected",!l),w.setSelected(n,!l),e.blur(),!1!==c||!1!==h){var f=c<a.filter(":selected").length,d=h<u.find("option:selected").length;if(c&&f||h&&d)if(c&&1==c)a.prop("selected",!1),s.prop("selected",!0),w.$menuInner.find(".selected").removeClass("selected"),w.setSelected(n,!0);else if(h&&1==h){u.find("option:selected").prop("selected",!1),s.prop("selected",!0);var p=e.parent().data("optgroup");w.$menuInner.find('[data-optgroup="'+p+'"]').removeClass("selected"),w.setSelected(n,!0)}else{var g="string"==typeof w.options.maxOptionsText?[w.options.maxOptionsText,w.options.maxOptionsText]:w.options.maxOptionsText,m="function"==typeof g?g(c,h):g,v=m[0].replace("{n}",c),y=m[1].replace("{n}",h),b=M('<div class="notify"></div>');m[2]&&(v=v.replace("{var}",m[2][1<c?0:1]),y=y.replace("{var}",m[2][1<h?0:1])),s.prop("selected",!1),w.$menu.append(b),c&&f&&(b.append(M("<div>"+v+"</div>")),o=!1,w.$element.trigger("maxReached.bs.select")),h&&d&&(b.append(M("<div>"+y+"</div>")),o=!1,w.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){w.setSelected(n,!1)},10),b.delay(750).fadeOut(300,function(){M(this).remove()})}}}else a.prop("selected",!1),s.prop("selected",!0),w.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),w.setSelected(n,!0);!w.multiple||w.multiple&&1===w.options.maxOptions?w.$button.focus():w.options.liveSearch&&w.$searchbox.focus(),o&&(i!=w.$element.val()&&w.multiple||r!=w.$element.prop("selectedIndex")&&!w.multiple)&&(x=[n,s.prop("selected"),l],w.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),w.options.liveSearch&&!M(t.target).hasClass("close")?w.$searchbox.focus():w.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),w.options.liveSearch?w.$searchbox.focus():w.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){w.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){w.options.liveSearch?w.$searchbox.focus():w.$button.focus(),t.preventDefault(),t.stopPropagation(),M(this).hasClass("bs-select-all")?w.selectAll():w.deselectAll()}),this.$element.change(function(){w.render(!1),w.$element.trigger("changed.bs.select",x),x=null})},liveSearchListener:function(){var r=this,o=M('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){r.$menuInner.find(".active").removeClass("active"),r.$searchbox.val()&&(r.$searchbox.val(""),r.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length&&o.remove()),r.multiple||r.$menuInner.find(".selected").addClass("active"),setTimeout(function(){r.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(r.$lis.not(".is-hidden").removeClass("hidden"),r.$lis.filter(".active").removeClass("active"),o.remove(),r.$searchbox.val()){var t,e=r.$lis.not(".is-hidden, .divider, .dropdown-header");if((t=r.options.liveSearchNormalize?e.not(":a"+r._searchStyle()+'("'+a(r.$searchbox.val())+'")'):e.not(":"+r._searchStyle()+'("'+r.$searchbox.val()+'")')).length===e.length)o.html(r.options.noneResultsText.replace("{0}",'"'+T(r.$searchbox.val())+'"')),r.$menuInner.append(o),r.$lis.addClass("hidden");else{t.addClass("hidden");var n,i=r.$lis.not(".hidden");i.each(function(t){var e=M(this);e.hasClass("divider")?void 0===n?e.addClass("hidden"):(n&&n.addClass("hidden"),n=e):e.hasClass("dropdown-header")&&i.eq(t+1).data("optgroup")!==e.data("optgroup")?e.addClass("hidden"):n=null}),n&&n.addClass("hidden"),e.not(".hidden").first().addClass("active"),r.$menuInner.scrollTop(0)}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0),this.findLis();var e=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),i=n.length,r=[];if(t){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",t);for(var o=0;o<i;o++){var a=n[o].getAttribute("data-original-index");r[r.length]=e.eq(a)[0]}M(r).prop("selected",t),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(e){var t,n,i,r,o=M(this),a=(o.is("input")?o.parent().parent():o.parent()).data("this"),s=":not(.disabled, .hidden, .dropdown-header, .divider)",l={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(!(r=a.$newElement.hasClass("open"))&&(48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||65<=e.keyCode&&e.keyCode<=90))return a.options.container?a.$button.trigger("click"):(a.setSize(),a.$menu.parent().addClass("open"),r=!0),void a.$searchbox.focus();if(a.options.liveSearch&&/(^9$|27)/.test(e.keyCode.toString(10))&&r&&(e.preventDefault(),e.stopPropagation(),a.$menuInner.click(),a.$button.focus()),/(38|40)/.test(e.keyCode.toString(10))){if(!(t=a.$lis.filter(s)).length)return;n=a.options.liveSearch?t.index(t.filter(".active")):t.index(t.find("a").filter(":focus").parent()),i=a.$menuInner.data("prevIndex"),38==e.keyCode?(!a.options.liveSearch&&n!=i||-1==n||n--,n<0&&(n+=t.length)):40==e.keyCode&&((a.options.liveSearch||n==i)&&n++,n%=t.length),a.$menuInner.data("prevIndex",n),a.options.liveSearch?(e.preventDefault(),o.hasClass("dropdown-toggle")||(t.removeClass("active").eq(n).addClass("active").children("a").focus(),o.focus())):t.eq(n).children("a").focus()}else if(!o.is("input")){var u,c=[];(t=a.$lis.filter(s)).each(function(t){M.trim(M(this).children("a").text().toLowerCase()).substring(0,1)==l[e.keyCode]&&c.push(t)}),u=M(document).data("keycount"),u++,M(document).data("keycount",u),M.trim(M(":focus").text().toLowerCase()).substring(0,1)!=l[e.keyCode]?(u=1,M(document).data("keycount",u)):u>=c.length&&(M(document).data("keycount",0),u>c.length&&(u=1)),t.eq(c[u-1]).children("a").focus()}if((/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&a.options.selectOnTab)&&r){if(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),a.options.liveSearch)/(32)/.test(e.keyCode.toString(10))||(a.$menuInner.find(".active a").click(),o.focus());else{var h=M(":focus");h.click(),h.focus(),e.preventDefault(),M(document).data("spaceSelect",!0)}M(document).data("keycount",0)}(/(^9$|27)/.test(e.keyCode.toString(10))&&r&&(a.multiple||a.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!r)&&(a.$menu.parent().removeClass("open"),a.options.container&&a.$newElement.removeClass("open"),a.$button.focus())},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var p=M.fn.selectpicker;M.fn.selectpicker=d,M.fn.selectpicker.Constructor=f,M.fn.selectpicker.noConflict=function(){return M.fn.selectpicker=p,this},M(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',f.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),M(window).on("load.bs.select.data-api",function(){M(".selectpicker").each(function(){var t=M(this);d.call(t,t.data())})})}(t)}),function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{e(t.jquery),t.bootstrapSwitch={}}}(this,function(t){"use strict";var e,n=(e=t)&&e.__esModule?e:{default:e};var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var r=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),s=n.default||window.jQuery||window.$,l=function(){function e(i){var r=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=s(i),this.options=s.extend({},s.fn.bootstrapSwitch.defaults,this._getElementOptions(),t),this.prevOptions={},this.$wrapper=s("<div>",{class:function(){var t=[];return t.push(r.options.state?"on":"off"),r.options.size&&t.push(r.options.size),r.options.disabled&&t.push("disabled"),r.options.readonly&&t.push("readonly"),r.options.indeterminate&&t.push("indeterminate"),r.options.inverse&&t.push("inverse"),r.$element.attr("id")&&t.push("id-"+r.$element.attr("id")),t.map(r._getClass.bind(r)).concat([r.options.baseClass],r._getClasses(r.options.wrapperClass)).join(" ")}}),this.$container=s("<div>",{class:this._getClass("container")}),this.$on=s("<span>",{html:this.options.onText,class:this._getClass("handle-on")+" "+this._getClass(this.options.onColor)}),this.$off=s("<span>",{html:this.options.offText,class:this._getClass("handle-off")+" "+this._getClass(this.options.offColor)}),this.$label=s("<span>",{html:this.options.labelText,class:this._getClass("label")}),this.$element.on("init.bootstrapSwitch",this.options.onInit.bind(this,i)),this.$element.on("switchChange.bootstrapSwitch",function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];!1===r.options.onSwitchChange.apply(i,e)&&(r.$element.is(":radio")?s('[name="'+r.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):r.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return r(e,[{key:"setPrevOptions",value:function(){this.prevOptions=i({},this.options)}},{key:"state",value:function(t,e){return void 0===t?this.options.state:(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")||(this.$element.is(":radio")?s('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",Boolean(t)).trigger("change.bootstrapSwitch",e)),this.$element)}},{key:"toggleState",value:function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)}},{key:"size",value:function(t){return void 0===t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),t&&this.$wrapper.addClass(this._getClass(t)),this._width(),this._containerPosition(),this.options.size=t,this.$element)}},{key:"animate",value:function(t){return void 0===t?this.options.animate:this.options.animate===Boolean(t)?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass("animate")),this.$element}},{key:"disabled",value:function(t){return void 0===t?this.options.disabled:this.options.disabled===Boolean(t)?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this._getClass("disabled")),this.$element}},{key:"readonly",value:function(t){return void 0===t?this.options.readonly:this.options.readonly===Boolean(t)?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this._getClass("readonly")),this.$element}},{key:"indeterminate",value:function(t){return void 0===t?this.options.indeterminate:this.options.indeterminate===Boolean(t)?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this._getClass("indeterminate")),this._containerPosition(),this.$element}},{key:"inverse",value:function(t){return void 0===t?this.options.inverse:this.options.inverse===Boolean(t)?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(this._getClass("inverse"));var t=this.$on.clone(!0),e=this.$off.clone(!0);return this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(t){return void 0===t?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(t)),this.options.onColor=t,this.$element)}},{key:"offColor",value:function(t){return void 0===t?this.options.offColor:(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(t)),this.options.offColor=t,this.$element)}},{key:"onText",value:function(t){return void 0===t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)}},{key:"offText",value:function(t){return void 0===t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)}},{key:"labelText",value:function(t){return void 0===t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)}},{key:"handleWidth",value:function(t){return void 0===t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)}},{key:"labelWidth",value:function(t){return void 0===t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)}},{key:"baseClass",value:function(t){return this.options.baseClass}},{key:"wrapperClass",value:function(t){return void 0===t?this.options.wrapperClass:(t||(t=s.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)}},{key:"radioAllOff",value:function(t){if(void 0===t)return this.options.radioAllOff;var e=Boolean(t);return this.options.radioAllOff===e||(this.options.radioAllOff=e),this.$element}},{key:"onInit",value:function(t){return void 0===t?this.options.onInit:(t||(t=s.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)}},{key:"onSwitchChange",value:function(t){return void 0===t?this.options.onSwitchChange:(t||(t=s.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)}},{key:"destroy",value:function(){var t=this.$element.closest("form");return t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}},{key:"_getElementOptions",value:function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}},{key:"_width",value:function(){var n=this,t=this.$on.add(this.$off).add(this.$label).css("width",""),i="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return t.width(i),this.$label.width(function(t,e){return"auto"!==n.options.labelWidth?n.options.labelWidth:e<i?i:e}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:"_containerPosition",value:function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.state;arguments[1];this.$container.css("margin-left",function(){var t=[0,"-"+e._handleWidth+"px"];return e.options.indeterminate?"-"+e._handleWidth/2+"px":n?e.options.inverse?t[1]:t[0]:e.options.inverse?t[0]:t[1]})}},{key:"_init",value:function(){var t=this,e=function(){t.setPrevOptions(),t._width(),t._containerPosition(),setTimeout(function(){if(t.options.animate)return t.$wrapper.addClass(t._getClass("animate"))},50)};if(this.$wrapper.is(":visible"))e();else var n=window.setInterval(function(){if(t.$wrapper.is(":visible"))return e(),window.clearInterval(n)},50)}},{key:"_elementHandlers",value:function(){var i=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":this.setPrevOptions.bind(this),"previousState.bootstrapSwitch":function(){i.options=i.prevOptions,i.options.indeterminate&&i.$wrapper.addClass(i._getClass("indeterminate")),i.$element.prop("checked",i.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(t,e){t.preventDefault(),t.stopImmediatePropagation();var n=i.$element.is(":checked");i._containerPosition(n),n!==i.options.state&&(i.options.state=n,i.$wrapper.toggleClass(i._getClass("off")).toggleClass(i._getClass("on")),e||(i.$element.is(":radio")&&s('[name="'+i.$element.attr("name")+'"]').not(i.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),i.$element.trigger("switchChange.bootstrapSwitch",[n])))},"focus.bootstrapSwitch":function(t){t.preventDefault(),i.$wrapper.addClass(i._getClass("focused"))},"blur.bootstrapSwitch":function(t){t.preventDefault(),i.$wrapper.removeClass(i._getClass("focused"))},"keydown.bootstrapSwitch":function(t){!t.which||i.options.disabled||i.options.readonly||37!==t.which&&39!==t.which||(t.preventDefault(),t.stopImmediatePropagation(),i.state(39===t.which))}})}},{key:"_handleHandlers",value:function(){var e=this;return this.$on.on("click.bootstrapSwitch",function(t){return t.preventDefault(),t.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(t){return t.preventDefault(),t.stopPropagation(),e.state(!0),e.$element.trigger("focus.bootstrapSwitch")})}},{key:"_labelHandlers",value:function(){var n=this,t={click:function(t){t.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){n._dragStart||n.options.disabled||n.options.readonly||(t.preventDefault(),t.stopPropagation(),n._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(n.$container.css("margin-left"),10),n.options.animate&&n.$wrapper.removeClass(n._getClass("animate")),n.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){if(null!=n._dragStart){var e=(t.pageX||t.originalEvent.touches[0].pageX)-n._dragStart;t.preventDefault(),e<-n._handleWidth||0<e||(n._dragEnd=e,n.$container.css("margin-left",n._dragEnd+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){if(n._dragStart){if(t.preventDefault(),n.options.animate&&n.$wrapper.addClass(n._getClass("animate")),n._dragEnd){var e=n._dragEnd>-n._handleWidth/2;n._dragEnd=!1,n.state(n.options.inverse?!e:e)}else n.state(!n.options.state);n._dragStart=!1}},"mouseleave.bootstrapSwitch":function(){n.$label.trigger("mouseup.bootstrapSwitch")}};this.$label.on(t)}},{key:"_externalLabelHandler",value:function(){var e=this,n=this.$element.closest("label");n.on("click",function(t){t.preventDefault(),t.stopImmediatePropagation(),t.target===n[0]&&e.toggleState()})}},{key:"_formHandler",value:function(){var t=this.$element.closest("form");t.data("bootstrap-switch")||t.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){t.find("input").filter(function(){return s(this).data("bootstrap-switch")}).each(function(){return s(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)}},{key:"_getClass",value:function(t){return this.options.baseClass+"-"+t}},{key:"_getClasses",value:function(t){return s.isArray(t)?t.map(this._getClass.bind(this)):[this._getClass(t)]}}]),e}();s.fn.bootstrapSwitch=function(o){for(var t=arguments.length,a=Array(1<t?t-1:0),e=1;e<t;e++)a[e-1]=arguments[e];return Array.prototype.reduce.call(this,function(t,e){var n=s(e),i=n.data("bootstrap-switch"),r=i||new l(e,o);return i||n.data("bootstrap-switch",r),"string"==typeof o?r[o].apply(r,a):t},this)},s.fn.bootstrapSwitch.Constructor=l,s.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(){var I={version:"3.5.17"},o=[].slice,f=function(t){return o.call(t)},b=this.document;function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function F(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(b)try{f(b.documentElement.childNodes)[0].nodeType}catch(t){f=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),b)try{b.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var e=this.Element.prototype,n=e.setAttribute,i=e.setAttributeNS,r=this.CSSStyleDeclaration.prototype,a=r.setProperty;e.setAttribute=function(t,e){n.call(this,t,e+"")},e.setAttributeNS=function(t,e,n){i.call(this,t,e,n+"")},r.setProperty=function(t,e,n){a.call(this,t,e+"",n)}}function l(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function u(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=r+1}return n}}}I.ascending=l,I.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},I.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},I.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},I.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},I.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=+t[o])&&(i+=n);else for(;++o<r;)c(n=+e.call(t,t[o],o))&&(i+=n);return i},I.mean=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)c(n=u(t[o]))?i+=n:--a;else for(;++o<r;)c(n=u(e.call(t,t[o],o)))?i+=n:--a;if(a)return i/a},I.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},I.median=function(t,e){var n,i=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=u(t[o]))&&i.push(n);else for(;++o<r;)c(n=u(e.call(t,t[o],o)))&&i.push(n);if(i.length)return I.quantile(i.sort(l),.5)},I.variance=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)c(n=u(t[s]))&&(a+=(i=n-o)*(n-(o+=i/++l)));else for(;++s<r;)c(n=u(e.call(t,t[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++l)));if(1<l)return a/(l-1)},I.deviation=function(){var t=I.variance.apply(this,arguments);return t?Math.sqrt(t):t};var h=t(l);function d(t){return t.length}I.bisectLeft=h.left,I.bisect=I.bisectRight=h.right,I.bisector=function(n){return t(1===n.length?function(t,e){return l(n(t),e)}:n)},I.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},I.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},I.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},I.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=I.min(t,d),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},I.zip=function(){return I.transpose(arguments)},I.keys=function(t){var e=[];for(var n in t)e.push(n);return e},I.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},I.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},I.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--a]=i[e];return n};var P=Math.abs;function p(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function y(){this._=Object.create(null)}I.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(P(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},I.map=function(t,e){var n=new y;if(t instanceof y)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var g="__proto__",m="\0";function v(t){return(t+="")===g||t[0]===m?m+t:t}function w(t){return(t+="")[0]===m?t.slice(1):t}function x(t){return v(t)in this._}function C(t){return(t=v(t))in this._&&delete this._[t]}function k(){var t=[];for(var e in this._)t.push(w(e));return t}function S(){var t=0;for(var e in this._)++t;return t}function _(){for(var t in this._)return!1;return!0}function T(){this._=Object.create(null)}function O(t){return t}function M(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function D(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=E.length;n<i;++n){var r=E[n]+e;if(r in t)return r}}p(y,{has:x,get:function(t){return this._[v(t)]},set:function(t,e){return this._[v(t)]=e},remove:C,keys:k,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:w(e),value:this._[e]});return t},size:S,empty:_,forEach:function(t){for(var e in this._)t.call(this,w(e),this._[e])}}),I.nest=function(){var h,f,d={},p=[],e=[];function g(n,t,i){if(i>=p.length)return f?f.call(d,t):h?t.sort(h):t;for(var e,r,o,a,s=-1,l=t.length,u=p[i++],c=new y;++s<l;)(a=c.get(e=u(r=t[s])))?a.push(r):c.set(e,[r]);return n?(r=n(),o=function(t,e){r.set(t,g(n,e,i))}):(r={},o=function(t,e){r[t]=g(n,e,i)}),c.forEach(o),r}return d.map=function(t,e){return g(e,t,0)},d.entries=function(t){return function n(t,i){if(i>=p.length)return t;var r=[],o=e[i++];return t.forEach(function(t,e){r.push({key:t,values:n(e,i)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}(g(I.map,t,0),0)},d.key=function(t){return p.push(t),d},d.sortKeys=function(t){return e[p.length-1]=t,d},d.sortValues=function(t){return h=t,d},d.rollup=function(t){return f=t,d},d},I.set=function(t){var e=new T;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},p(T,{has:x,add:function(t){return this._[v(t+="")]=!0,t},remove:C,values:k,size:S,empty:_,forEach:function(t){for(var e in this._)t.call(this,w(e))}}),I.behavior={},I.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=M(t,e,e[n]);return t};var E=["webkit","ms","moz","Moz","o","O"];function $(){}function A(){}function N(r){var o=[],a=new y;function t(){for(var t,e=o,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}return t.on=function(t,e){var n,i=a.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,o=o.slice(0,n=o.indexOf(i)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),r)},t}function R(){I.event.preventDefault()}function j(){for(var t,e=I.event;t=e.sourceEvent;)e=t;return e}function L(r){for(var o=new A,t=0,e=arguments.length;++t<e;)o[arguments[t]]=N(o);return o.of=function(n,i){return function(t){try{var e=t.sourceEvent=I.event;t.target=r,I.event=t,o[t.type].apply(n,i)}finally{I.event=e}}},o}I.dispatch=function(){for(var t=new A,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=N(t);return t},A.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},I.event=null,I.requote=function(t){return t.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function U(t){return q(t,V),t}var z=function(t,e){return e.querySelector(t)},W=function(t,e){return e.querySelectorAll(t)},B=function(t,e){var n=t.matches||t[D(t,"matchesSelector")];return(B=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(z=function(t,e){return Sizzle(t,e)[0]||null},W=Sizzle,B=Sizzle.matchesSelector),I.selection=function(){return I.select(b.documentElement)};var V=I.selection.prototype=[];function G(t){return"function"==typeof t?t:function(){return z(t,this)}}function Y(t){return"function"==typeof t?t:function(){return W(t,this)}}V.select=function(t){var e,n,i,r,o=[];t=G(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return U(o)},V.selectAll=function(t){var e,n,i=[];t=Y(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(e=f(t.call(n,n.__data__,s,r))),e.parentNode=n);return U(i)};var X="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(e,n){return e=I.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function Z(t){return t.trim().replace(/\s+/g," ")}function J(t){return new RegExp("(?:^|\\s+)"+I.requote(t)+"(?:\\s+|$)","g")}function tt(t){return(t+"").trim().split(/^|\s+/)}function et(n,i){var r=(n=tt(n).map(nt)).length;return"function"==typeof i?function(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}:function(){for(var t=-1;++t<r;)n[t](this,i)}}function nt(i){var r=J(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",Z(n+" "+i))):t.setAttribute("class",Z(n.replace(r," ")))}}function it(e,n,i){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}:function(){this.style.setProperty(e,n,i)}}function rt(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function ot(n){return"function"==typeof n?n:(n=I.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,e=this.namespaceURI;return e===X&&t.documentElement.namespaceURI===X?t.createElement(n):t.createElementNS(e,n)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function lt(t){return function(){return B(this,t)}}function ut(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function ct(t){return q(t,ht),t}I.ns={prefix:Q,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Q.hasOwnProperty(n)?{space:Q[n],local:t}:t}},V.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=I.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(K(e,t[e]));return this}return this.each(K(t,e))},V.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=tt(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!J(t[r]).test(e))return!1;return!0}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},V.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(it(n,t[n],e));return this}if(i<2){var r=this.node();return F(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(it(t,e,n))},V.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(rt(e,t[e]));return this}return this.each(rt(t,e))},V.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},V.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},V.append=function(t){return t=ot(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},V.insert=function(t,e){return t=ot(t),e=G(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},V.remove=function(){return this.each(at)},V.data=function(t,p){var e,n,i=-1,r=this.length;if(!arguments.length){for(t=new Array(r=(e=this[0]).length);++i<r;)(n=e[i])&&(t[i]=n.__data__);return t}function o(t,e){var n,i,r,o=t.length,a=e.length,s=Math.min(o,a),l=new Array(a),u=new Array(a),c=new Array(o);if(p){var h,f=new y,d=new Array(o);for(n=-1;++n<o;)(i=t[n])&&(f.has(h=p.call(i,i.__data__,n))?c[n]=i:f.set(h,i),d[n]=h);for(n=-1;++n<a;)(i=f.get(h=p.call(e,r=e[n],n)))?!0!==i&&((l[n]=i).__data__=r):u[n]=st(r),f.set(h,!0);for(n=-1;++n<o;)n in d&&!0!==f.get(d[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],r=e[n],i?(i.__data__=r,l[n]=i):u[n]=st(r);for(;n<a;++n)u[n]=st(e[n]);for(;n<o;++n)c[n]=t[n]}u.update=l,u.parentNode=l.parentNode=c.parentNode=t.parentNode,g.push(u),m.push(l),v.push(c)}var g=ct([]),m=U([]),v=U([]);if("function"==typeof t)for(;++i<r;)o(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<r;)o(e=this[i],t);return m.enter=function(){return g},m.exit=function(){return v},m},V.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},V.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=lt(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return U(r)},V.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];0<=--r;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},V.sort=function(t){t=function(n){arguments.length||(n=l);return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},V.each=function(i){return ut(this,function(t,e,n){i.call(t,t.__data__,e,n)})},V.call=function(t){var e=f(arguments);return t.apply(e[0]=this,e),this},V.empty=function(){return!this.node()},V.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},V.size=function(){var t=0;return ut(this,function(){++t}),t};var ht=[];function ft(r,e,n){var i="__on"+r,t=r.indexOf("."),o=pt;0<t&&(r=r.slice(0,t));var a=dt.get(r);function s(){var t=this[i];t&&(this.removeEventListener(r,t,t.$),delete this[i])}return a&&(r=a,o=gt),t?e?function(){var t=o(e,f(arguments));s.call(this),this.addEventListener(r,this[i]=t,t.$=n),t._=e}:s:e?$:function(){var t,e=new RegExp("^__on([^.]+)"+I.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}}I.selection.enter=ct,(I.selection.enter.prototype=ht).append=V.append,ht.empty=V.empty,ht.node=V.node,ht.call=V.call,ht.size=V.size,ht.select=function(t){for(var e,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return U(a)},ht.insert=function(t,e){var a,s,l;return arguments.length<2&&(a=this,e=function(t,e,n){var i,r=a[n].update,o=r.length;for(n!=l&&(l=n,s=0),s<=e&&(s=e+1);!(i=r[s])&&++s<o;);return i}),V.insert.call(this,t,e)},I.select=function(t){var e;return"string"==typeof t?(e=[z(t,b)]).parentNode=b.documentElement:(e=[t]).parentNode=s(t),U([e])},I.selectAll=function(t){var e;return"string"==typeof t?(e=f(W(t,b))).parentNode=b.documentElement:(e=f(t)).parentNode=null,U([e])},V.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(ft(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(ft(t,e,n))};var dt=I.map({mouseenter:"mouseover",mouseleave:"mouseout"});function pt(n,i){return function(t){var e=I.event;I.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{I.event=e}}}function gt(t,e){var n=pt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}b&&dt.forEach(function(t){"on"+t in b&&dt.remove(t)});var mt,vt=0;function yt(t){var n=".dragsuppress-"+ ++vt,i="click"+n,r=I.select(F(t)).on("touchmove"+n,R).on("dragstart"+n,R).on("selectstart"+n,R);if(null==mt&&(mt=!("onselectstart"in t)&&D(t.style,"userSelect")),mt){var o=s(t).style,a=o[mt];o[mt]="none"}return function(t){if(r.on(n,null),mt&&(o[mt]=a),t){var e=function(){r.on(i,null)};r.on(i,function(){R(),e()},!0),setTimeout(e,0)}}}I.mouse=function(t){return wt(t,j())};var bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function wt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(bt<0){var r=F(t);if(r.scrollX||r.scrollY){var o=(n=I.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bt=!(o.f||o.e),n.remove()}}return bt?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function xt(){return I.event.changedTouches[0].identifier}I.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=j().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return wt(t,i)},I.behavior.drag=function(){var g=L(n,"drag","dragstart","dragend"),m=null,t=i($,I.mouse,F,"mousemove","mouseup"),e=i(xt,I.touch,O,"touchmove","touchend");function n(){this.on("mousedown.drag",t).on("touchstart.drag",e)}function i(c,h,f,d,p){return function(){var i,t=I.event.target.correspondingElement||I.event.target,r=this.parentNode,o=g.of(this,arguments),a=0,s=c(),e=".drag"+(null==s?"":"-"+s),n=I.select(f(t)).on(d+e,function(){var t,e,n=h(r,s);if(!n)return;t=n[0]-u[0],e=n[1]-u[1],a|=t|e,o({type:"drag",x:(u=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e})}).on(p+e,function(){if(!h(r,s))return;n.on(d+e,null).on(p+e,null),l(a),o({type:"dragend"})}),l=yt(t),u=h(r,s);i=m?[(i=m.apply(this,arguments)).x-u[0],i.y-u[1]]:[0,0],o({type:"dragstart"})}}return n.origin=function(t){return arguments.length?(m=t,n):m},I.rebind(n,g,"on")},I.touches=function(n,t){return arguments.length<2&&(t=j().touches),t?f(t).map(function(t){var e=wt(n,t);return e.identifier=t.identifier,e}):[]};var Ct=1e-6,kt=Ct*Ct,St=Math.PI,_t=2*St,Tt=_t-Ct,Mt=St/2,Dt=St/180,Et=180/St;function $t(t){return 0<t?1:t<0?-1:0}function At(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Nt(t){return 1<t?0:t<-1?St:Math.acos(t)}function Pt(t){return 1<t?Mt:t<-1?-Mt:Math.asin(t)}function It(t){return((t=Math.exp(t))+1/t)/2}function Ft(t){return(t=Math.sin(t/2))*t}var Ot=Math.SQRT2;I.interpolateZoom=function(t,e){var n,a,s=t[0],l=t[1],u=t[2],i=e[0],r=e[1],o=e[2],c=i-s,h=r-l,f=c*c+h*h;if(f<kt)a=Math.log(o/u)/Ot,n=function(t){return[s+t*c,l+t*h,u*Math.exp(Ot*t*a)]};else{var d=Math.sqrt(f),p=(o*o-u*u+4*f)/(2*u*2*d),g=(o*o-u*u-4*f)/(2*o*2*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);a=(v-m)/Ot,n=function(t){var e,n,i=t*a,r=It(m),o=u/(2*d)*(r*(n=Ot*i+m,((n=Math.exp(2*n))-1)/(n+1))-(e=m,((e=Math.exp(e))-1/e)/2));return[s+o*c,l+o*h,u*r/It(Ot*i+m)]}}return n.duration=1e3*a,n},I.behavior.zoom=function(){var e,l,n,i,w,r,o,a,s,x={x:0,y:0,k:1},u=[960,500],c=Lt,h=250,f=0,C="mousedown.zoom",d="mousemove.zoom",p="mouseup.zoom",k="touchstart.zoom",S=L(g,"zoomstart","zoom","zoomend");function g(t){t.on(C,N).on(jt+".zoom",v).on("dblclick.zoom",y).on(k,P)}function _(t){return[(t[0]-x.x)/x.k,(t[1]-x.y)/x.k]}function T(t){x.k=Math.max(c[0],Math.min(c[1],t))}function M(t,e){var n;e=[(n=e)[0]*x.k+x.x,n[1]*x.k+x.y],x.x+=t[0]-e[0],x.y+=t[1]-e[1]}function D(t,e,n,i){t.__chart__={x:x.x,y:x.y,k:x.k},T(Math.pow(2,i)),M(l=e,n),t=I.select(t),0<h&&(t=t.transition().duration(h)),t.call(g.event)}function m(){o&&o.domain(r.range().map(function(t){return(t-x.x)/x.k}).map(r.invert)),s&&s.domain(a.range().map(function(t){return(t-x.y)/x.k}).map(a.invert))}function E(t){f++||t({type:"zoomstart"})}function $(t){m(),t({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function A(t){--f||(t({type:"zoomend"}),l=null)}function N(){var t=this,e=S.of(t,arguments),n=0,i=I.select(F(t)).on(d,function(){n=1,M(I.mouse(t),r),$(e)}).on(p,function(){i.on(d,null).on(p,null),o(n),A(e)}),r=_(I.mouse(t)),o=yt(t);us.call(t),E(e)}function P(){var u,c=this,h=S.of(c,arguments),f={},d=0,r=".zoom-"+I.event.changedTouches[0].identifier,p="touchmove"+r,g="touchend"+r,m=[],o=I.select(c),a=yt(c);function v(){var t=I.touches(c);return u=x.k,t.forEach(function(t){t.identifier in f&&(f[t.identifier]=_(t))}),t}function t(){var t=I.event.target;I.select(t).on(p,y).on(g,b),m.push(t);for(var e=I.event.changedTouches,n=0,i=e.length;n<i;++n)f[e[n].identifier]=null;var r=v(),o=Date.now();if(1===r.length){if(o-w<500){var a=r[0];D(c,a,f[a.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),R()}w=o}else if(1<r.length){a=r[0];var s=r[1],l=a[0]-s[0],u=a[1]-s[1];d=l*l+u*u}}function y(){var t,e,n,i,r=I.touches(c);us.call(c);for(var o=0,a=r.length;o<a;++o,i=null)if(n=r[o],i=f[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,l=d&&Math.sqrt(s/d);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],T(l*u)}w=null,M(t,e),$(h)}function b(){if(I.event.touches.length){for(var t=I.event.changedTouches,e=0,n=t.length;e<n;++e)delete f[t[e].identifier];for(var i in f)return void v()}I.selectAll(m).on(r,null),o.on(C,N).on(k,P),a(),A(h)}t(),E(h),o.on(C,null).on(k,t)}function v(){var t=S.of(this,arguments);i?clearTimeout(i):(us.call(this),e=_(l=n||I.mouse(this)),E(t)),i=setTimeout(function(){i=null,A(t)},50),R(),T(Math.pow(2,.002*Rt())*x.k),M(l,e),$(t)}function y(){var t=I.mouse(this),e=Math.log(x.k)/Math.LN2;D(this,t,_(t),I.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return jt||(jt="onwheel"in b?(Rt=function(){return-I.event.deltaY*(I.event.deltaMode?120:1)},"wheel"):"onmousewheel"in b?(Rt=function(){return I.event.wheelDelta},"mousewheel"):(Rt=function(){return-I.event.detail},"MozMousePixelScroll")),g.event=function(t){t.each(function(){var s=S.of(this,arguments),e=x;fs?I.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},E(s)}).tween("zoom:zoom",function(){var i=u[0],t=u[1],r=l?l[0]:i/2,o=l?l[1]:t/2,a=I.interpolateZoom([(r-x.x)/x.k,(o-x.y)/x.k,i/x.k],[(r-e.x)/e.k,(o-e.y)/e.k,i/e.k]);return function(t){var e=a(t),n=i/e[2];this.__chart__=x={x:r-e[0]*n,y:o-e[1]*n,k:n},$(s)}}).each("interrupt.zoom",function(){A(s)}).each("end.zoom",function(){A(s)}):(this.__chart__=x,E(s),$(s),A(s))})},g.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},m(),g):[x.x,x.y]},g.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:null},T(+t),m(),g):x.k},g.scaleExtent=function(t){return arguments.length?(c=null==t?Lt:[+t[0],+t[1]],g):c},g.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],g):n},g.size=function(t){return arguments.length?(u=t&&[+t[0],+t[1]],g):u},g.duration=function(t){return arguments.length?(h=+t,g):h},g.x=function(t){return arguments.length?(r=(o=t).copy(),x={x:0,y:0,k:1},g):o},g.y=function(t){return arguments.length?(a=(s=t).copy(),x={x:0,y:0,k:1},g):s},I.rebind(g,S,"on")};var Rt,jt,Lt=[0,1/0];function Ht(){}function qt(t,e,n){return this instanceof qt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof qt?new qt(t.h,t.s,t.l):ue(""+t,ce,qt):new qt(t,e,n)}(I.color=Ht).prototype.toString=function(){return this.rgb()+""};var Ut=(I.hsl=qt).prototype=new Ht;function zt(t,e,n){var i,r;function o(t){return Math.round(255*(360<(e=t)?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i));var e}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,i=2*(n=n<0?0:1<n?1:n)-(r=n<=.5?n*(1+e):n+e-n*e),new re(o(t+120),o(t),o(t-120))}function Wt(t,e,n){return this instanceof Wt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Wt?new Wt(t.h,t.c,t.l):te(t instanceof Gt?t.l:(t=he((t=I.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Wt(t,e,n)}Ut.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new qt(this.h,this.s,this.l/t)},Ut.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new qt(this.h,this.s,t*this.l)},Ut.rgb=function(){return zt(this.h,this.s,this.l)};var Bt=(I.hcl=Wt).prototype=new Ht;function Vt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Gt(n,Math.cos(t*=Dt)*e,Math.sin(t)*e)}function Gt(t,e,n){return this instanceof Gt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Gt?new Gt(t.l,t.a,t.b):t instanceof Wt?Vt(t.h,t.c,t.l):he((t=re(t)).r,t.g,t.b):new Gt(t,e,n)}Bt.brighter=function(t){return new Wt(this.h,this.c,Math.min(100,this.l+Yt*(arguments.length?t:1)))},Bt.darker=function(t){return new Wt(this.h,this.c,Math.max(0,this.l-Yt*(arguments.length?t:1)))},Bt.rgb=function(){return Vt(this.h,this.c,this.l).rgb()},I.lab=Gt;var Yt=18,Xt=.95047,Qt=1,Kt=1.08883,Zt=Gt.prototype=new Ht;function Jt(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new re(ie(3.2404542*(r=ee(r)*Xt)-1.5371385*(i=ee(i)*Qt)-.4985314*(o=ee(o)*Kt)),ie(-.969266*r+1.8760108*i+.041556*o),ie(.0556434*r-.2040259*i+1.0572252*o))}function te(t,e,n){return 0<t?new Wt(Math.atan2(n,e)*Et,Math.sqrt(e*e+n*n),t):new Wt(NaN,NaN,t)}function ee(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function ne(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function ie(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function re(t,e,n){return this instanceof re?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof re?new re(t.r,t.g,t.b):ue(""+t,re,zt):new re(t,e,n)}function oe(t){return new re(t>>16,t>>8&255,255&t)}function ae(t){return oe(t)+""}Zt.brighter=function(t){return new Gt(Math.min(100,this.l+Yt*(arguments.length?t:1)),this.a,this.b)},Zt.darker=function(t){return new Gt(Math.max(0,this.l-Yt*(arguments.length?t:1)),this.a,this.b)},Zt.rgb=function(){return Jt(this.l,this.a,this.b)};var se=(I.rgb=re).prototype=new Ht;function le(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ue(t,e,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(de(r[0]),de(r[1]),de(r[2]))}return(o=pe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function ce(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=0<l&&l<1?0:i),new qt(i,r,l)}function he(t,e,n){var i=ne((.4124564*(t=fe(t))+.3575761*(e=fe(e))+.1804375*(n=fe(n)))/Xt),r=ne((.2126729*t+.7151522*e+.072175*n)/Qt);return Gt(116*r-16,500*(i-r),200*(r-ne((.0193339*t+.119192*e+.9503041*n)/Kt)))}function fe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function de(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}se.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b;return e||n||i?(e&&e<30&&(e=30),n&&n<30&&(n=30),i&&i<30&&(i=30),new re(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new re(30,30,30)},se.darker=function(t){return new re((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},se.hsl=function(){return ce(this.r,this.g,this.b)},se.toString=function(){return"#"+le(this.r)+le(this.g)+le(this.b)};var pe=I.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ge(t){return"function"==typeof t?t:function(){return t}}function me(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),ve(t,e,i,n)}}function ve(r,o,a,t){var n,s={},l=I.dispatch("beforesend","progress","load","error"),u={},c=new XMLHttpRequest,h=null;function e(){var t,e,n,i=c.status;if(!i&&((n=(e=c).responseType)&&"text"!==n?e.response:e.responseText)||200<=i&&i<300||304===i){try{t=a.call(s,c)}catch(t){return void l.error.call(s,t)}l.load.call(s,t)}else l.error.call(s,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(r)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=e:c.onreadystatechange=function(){3<c.readyState&&e()},c.onprogress=function(t){var e=I.event;I.event=t;try{l.progress.call(s,c)}finally{I.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",s):o},s.responseType=function(t){return arguments.length?(h=t,s):h},s.response=function(t){return a=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(f(arguments)))}}),s.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),c.open(t,r,!0),null==o||"accept"in u||(u.accept=o+",*/*"),c.setRequestHeader)for(var i in u)c.setRequestHeader(i,u[i]);return null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=h&&(c.responseType=h),null!=n&&s.on("error",n).on("load",function(t){n(null,t)}),l.beforesend.call(s,c),c.send(null==e?null:e),s},s.abort=function(){return c.abort(),s},I.rebind(s,l,"on"),null==t?s:s.get(1===(n=t).length?function(t,e){n(null==t?e:null)}:n)}pe.forEach(function(t,e){pe.set(t,oe(e))}),I.functor=ge,I.xhr=me(O),I.dsv=function(r,o){var e=new RegExp('["'+r+"\n]"),f=r.charCodeAt(0);function a(t,e,n){arguments.length<3&&(n=e,e=null);var i=ve(t,o,null==e?s:l(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?s:l(t)):e},i}function s(t){return a.parse(t.responseText)}function l(e){return function(t){return a.parse(t.responseText,e)}}function n(t){return t.map(u).join(r)}function u(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return a.parse=function(t,i){var r;return a.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},a.parseRows=function(r,t){var e,o,a={},s={},n=[],l=r.length,u=0,i=0;function c(){if(l<=u)return s;if(o)return o=!1,a;var t=u;if(34===r.charCodeAt(t)){for(var e=t;e++<l;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return u=e+2,13===(n=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++u):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;u<l;){var n,i=1;if(10===(n=r.charCodeAt(u++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(u)&&(++u,++i);else if(n!==f)continue;return r.slice(t,u-i)}return r.slice(t)}for(;(e=c())!==s;){for(var h=[];e!==a&&e!==s;)h.push(e),e=c();t&&null==(h=t(h,i++))||n.push(h)}return n},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new T,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(u).join(r)].concat(t.map(function(e){return i.map(function(t){return u(e[t])}).join(r)})).join("\n")},a.formatRows=function(t){return t.map(n).join("\n")},a},I.csv=I.dsv(",","text/csv"),I.tsv=I.dsv("\t","text/tab-separated-values");var ye,be,we,xe,Ce=this[D(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function ke(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return be?be.n=r:ye=r,be=r,we||(xe=clearTimeout(xe),we=1,Ce(Se)),r}function Se(){var t=_e(),e=Te()-t;24<e?(isFinite(e)&&(clearTimeout(xe),xe=setTimeout(Se,e)),we=0):(we=1,Ce(Se))}function _e(){for(var t=Date.now(),e=ye;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Te(){for(var t,e=ye,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ye=e.n;return be=t,n}function Me(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}I.timer=function(){ke.apply(this,arguments)},I.timer.flush=function(){_e(),Te()},I.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var De=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*P(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}});I.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=I.round(t,Me(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),De[8+n/3]};var Ee=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,$e=I.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=I.round(t,Me(t,e))).toFixed(Math.max(0,Math.min(20,Me(t*(1+1e-15),e))))}});function Ae(t){return t+""}var Ne=I.time={},Pe=Date;function Ie(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Ie.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Fe.setUTCDate.apply(this._,arguments)},setDay:function(){Fe.setUTCDay.apply(this._,arguments)},setFullYear:function(){Fe.setUTCFullYear.apply(this._,arguments)},setHours:function(){Fe.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Fe.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Fe.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Fe.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Fe.setUTCSeconds.apply(this._,arguments)},setTime:function(){Fe.setTime.apply(this._,arguments)}};var Fe=Date.prototype;function Oe(i,o,a){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function s(t){return o(t=i(new Pe(t-1)),1),t}function r(t,e){return o(t=new Pe(+t),e),t}function l(t,e,n){var i=s(t),r=[];if(1<n)for(;i<e;)a(i)%n||r.push(new Date(+i)),o(i,1);else for(;i<e;)r.push(new Date(+i)),o(i,1);return r}(i.floor=i).round=t,i.ceil=s,i.offset=r,i.range=l;var e=i.utc=Re(i);return(e.floor=e).round=Re(t),e.ceil=Re(s),e.offset=Re(r),e.range=function(t,e,n){try{var i=new(Pe=Ie);return i._=t,l(i,e,n)}finally{Pe=Date}},i}function Re(i){return function(t,e){try{var n=new(Pe=Ie);return n._=t,i(n,e)._}finally{Pe=Date}}}Ne.year=Oe(function(t){return(t=Ne.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ne.years=Ne.year.range,Ne.years.utc=Ne.year.utc.range,Ne.day=Oe(function(t){var e=new Pe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ne.days=Ne.day.range,Ne.days.utc=Ne.day.utc.range,Ne.dayOfYear=function(t){var e=Ne.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=Ne[t]=Oe(function(t){return(t=Ne.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Ne[t+"s"]=e.range,Ne[t+"s"].utc=e.utc.range,Ne[t+"OfYear"]=function(t){var e=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(e+n)%7)/7)}}),Ne.week=Ne.sunday,Ne.weeks=Ne.sunday.range,Ne.weeks.utc=Ne.sunday.utc.range,Ne.weekOfYear=Ne.sundayOfYear;var je={"-":"",_:" ",0:"0"},Le=/^\s*\d+/,He=/^%/;function qe(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Ue(t){return new RegExp("^(?:"+t.map(I.requote).join("|")+")","i")}function ze(t){for(var e=new y,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function We(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Be(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ve(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Ge(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ye(t,e,n){Le.lastIndex=0;var i,r=Le.exec(e.slice(n,n+2));return r?(t.y=(i=+r[0])+(68<i?1900:2e3),n+r[0].length):-1}function Xe(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Qe(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Ke(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ze(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Je(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function tn(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function en(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function nn(t,e,n){Le.lastIndex=0;var i=Le.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function rn(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=P(e)/60|0,r=P(e)%60;return n+qe(i,"0",2)+qe(r,"0",2)}function on(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function an(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}I.locale=function(t){return{numberFormat:(e=t,S=e.decimal,s=e.thousands,l=e.grouping,i=e.currency,_=l&&s?function(t,e){for(var n=t.length,i=[],r=0,o=l[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=l[r=(r+1)%l.length];return i.reverse().join(s)}:O,function(t){var e=Ee.exec(t),c=e[1]||" ",h=e[2]||">",f=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],m=e[8],v=e[9],y=1,b="",w="",x=!1,C=!0;switch(m&&(m=+m.substring(1)),(d||"0"===c&&"="===h)&&(d=c="0",h="="),v){case"n":g=!0,v="g";break;case"%":y=100,w="%",v="f";break;case"p":y=100,w="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(b="0"+v.toLowerCase());case"c":C=!1;case"d":x=!0,m=0;break;case"s":y=-1,v="r"}"$"===n&&(b=i[0],w=i[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=$e.get(v)||Ae;var k=d&&g;return function(t){var e=w;if(x&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===f?"":f;if(y<0){var i=I.formatPrefix(t,m);t=i.scale(t),e=i.symbol+w}else t*=y;var r,o,a=(t=v(t,m)).lastIndexOf(".");if(a<0){var s=C?t.lastIndexOf("e"):-1;s<0?(r=t,o=""):(r=t.substring(0,s),o=t.substring(s))}else r=t.substring(0,a),o=S+t.substring(a+1);!d&&g&&(r=_(r,1/0));var l=b.length+r.length+o.length+(k?0:n.length),u=l<p?new Array(l=p-l+1).join(c):"";return k&&(r=_(u+r,u.length?p-o.length:1/0)),n+=b,t=r+o,("<"===h?n+t+u:">"===h?u+n+t:"^"===h?u.substring(0,l>>=1)+n+t+u.substring(l):n+(k?t:u+t))+e}}),timeFormat:function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths;function u(s){var l=s.length;function t(t){for(var e,n,i,r=[],o=-1,a=0;++o<l;)37===s.charCodeAt(o)&&(r.push(s.slice(a,o)),null!=(n=je[e=s.charAt(++o)])&&(e=s.charAt(++o)),(i=w[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),a=o+1);return r.push(s.slice(a,o)),r.join("")}return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&Pe!==Ie,i=new(n?Ie:Pe);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function c(t,e,n,i){for(var r,o,a,s=0,l=e.length,u=n.length;s<l;){if(u<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=x[a in je?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}u.multi=(u.utc=function(t){var n=u(t);function e(t){try{var e=new(Pe=Ie);return e._=t,n(e)}finally{Pe=Date}}return e.parse=function(t){try{Pe=Ie;var e=n.parse(t);return e&&e._}finally{Pe=Date}},e.toString=n.toString,e}).multi=an;var h=I.map(),f=Ue(o),d=ze(o),p=Ue(a),g=ze(a),m=Ue(s),v=ze(s),y=Ue(l),b=ze(l);r.forEach(function(t,e){h.set(t.toLowerCase(),e)});var w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:u(e),d:function(t,e){return qe(t.getDate(),e,2)},e:function(t,e){return qe(t.getDate(),e,2)},H:function(t,e){return qe(t.getHours(),e,2)},I:function(t,e){return qe(t.getHours()%12||12,e,2)},j:function(t,e){return qe(1+Ne.dayOfYear(t),e,3)},L:function(t,e){return qe(t.getMilliseconds(),e,3)},m:function(t,e){return qe(t.getMonth()+1,e,2)},M:function(t,e){return qe(t.getMinutes(),e,2)},p:function(t){return r[+(12<=t.getHours())]},S:function(t,e){return qe(t.getSeconds(),e,2)},U:function(t,e){return qe(Ne.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qe(Ne.mondayOfYear(t),e,2)},x:u(n),X:u(i),y:function(t,e){return qe(t.getFullYear()%100,e,2)},Y:function(t,e){return qe(t.getFullYear()%1e4,e,4)},Z:rn,"%":function(){return"%"}},x={a:function(t,e,n){p.lastIndex=0;var i=p.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){f.lastIndex=0;var i=f.exec(e.slice(n));return i?(t.w=d.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){y.lastIndex=0;var i=y.exec(e.slice(n));return i?(t.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){m.lastIndex=0;var i=m.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return c(t,w.c.toString(),e,n)},d:Ke,e:Ke,H:Je,I:Je,j:Ze,L:nn,m:Qe,M:tn,p:function(t,e,n){var i=h.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:en,U:Be,w:We,W:Ve,x:function(t,e,n){return c(t,w.x.toString(),e,n)},X:function(t,e,n){return c(t,w.X.toString(),e,n)},y:Ye,Y:Ge,Z:Xe,"%":on};return u}(t)};var e,S,s,l,i,_};var sn=I.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ln(){}I.format=sn.numberFormat,I.geo={},ln.prototype={s:0,t:0,add:function(t){cn(t,this.t,un),cn(un.s,this.s,this),this.s?this.t+=un.t:this.s=un.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var un=new ln;function cn(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function hn(t,e){t&&dn.hasOwnProperty(t.type)&&dn[t.type](t,e)}I.geo.stream=function(t,e){t&&fn.hasOwnProperty(t.type)?fn[t.type](t,e):hn(t,e)};var fn={Feature:function(t,e){hn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)hn(n[i].geometry,e)}},dn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){pn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)pn(n[i],e,0)},Polygon:function(t,e){gn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)gn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)hn(n[i],e)}};function pn(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function gn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)pn(t[n],e,1);e.polygonEnd()}I.geo.area=function(t){return mn=0,I.geo.stream(t,En),mn};var mn,vn,yn,bn,wn,xn,Cn,kn,Sn,_n,Tn,Mn,Dn=new ln,En={sphere:function(){mn+=4*St},point:$,lineStart:$,lineEnd:$,polygonStart:function(){Dn.reset(),En.lineStart=$n},polygonEnd:function(){var t=2*Dn;mn+=t<0?4*St+t:t,En.lineStart=En.lineEnd=En.point=$}};function $n(){var n,i,c,h,f;function r(t,e){e=e*Dt/2+St/4;var n=(t*=Dt)-c,i=0<=n?1:-1,r=i*n,o=Math.cos(e),a=Math.sin(e),s=f*a,l=h*o+s*Math.cos(r),u=s*i*Math.sin(r);Dn.add(Math.atan2(u,l)),c=t,h=o,f=a}En.point=function(t,e){En.point=r,c=(n=t)*Dt,h=Math.cos(e=(i=e)*Dt/2+St/4),f=Math.sin(e)},En.lineEnd=function(){r(n,i)}}function An(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Nn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function In(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Fn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function On(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Rn(t){return[Math.atan2(t[1],t[0]),Pt(t[2])]}function jn(t,e){return P(t[0]-e[0])<Ct&&P(t[1]-e[1])<Ct}I.geo.bounds=function(){var c,h,f,d,p,i,r,g,o,l,u,m={point:v,lineStart:t,lineEnd:e,polygonStart:function(){m.point=n,m.lineStart=s,m.lineEnd=y,o=0,En.polygonStart()},polygonEnd:function(){En.polygonEnd(),m.point=v,m.lineStart=t,m.lineEnd=e,Dn<0?(c=-(f=180),h=-(d=90)):Ct<o?d=90:o<-Ct&&(h=-90),u[0]=c,u[1]=f}};function v(t,e){l.push(u=[c=t,f=t]),e<h&&(h=e),d<e&&(d=e)}function a(t,e){var n=An([t*Dt,e*Dt]);if(g){var i=Pn(g,n),r=Pn([i[1],-i[0],0],i);On(r),r=Rn(r);var o=t-p,a=0<o?1:-1,s=r[0]*Et*a,l=180<P(o);if(l^(a*p<s&&s<a*t)){var u=r[1]*Et;d<u&&(d=u)}else if(l^(a*p<(s=(s+360)%360-180)&&s<a*t)){(u=-r[1]*Et)<h&&(h=u)}else e<h&&(h=e),d<e&&(d=e);l?t<p?b(c,t)>b(c,f)&&(f=t):b(t,f)>b(c,f)&&(c=t):c<=f?(t<c&&(c=t),f<t&&(f=t)):p<t?b(c,t)>b(c,f)&&(f=t):b(t,f)>b(c,f)&&(c=t)}else v(t,e);g=n,p=t}function t(){m.point=a}function e(){u[0]=c,u[1]=f,m.point=v,g=null}function n(t,e){if(g){var n=t-p;o+=180<P(n)?n+(0<n?360:-360):n}else i=t,r=e;En.point(t,e),a(t,e)}function s(){En.lineStart()}function y(){n(i,r),En.lineEnd(),P(o)>Ct&&(c=-(f=180)),u[0]=c,u[1]=f,g=null}function b(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function x(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(t){if(d=f=-(c=h=1/0),l=[],I.geo.stream(t,m),r=l.length){l.sort(w);for(var e=1,n=[s=l[0]];e<r;++e)x((o=l[e])[0],s)||x(o[1],s)?(b(s[0],o[1])>b(s[0],s[1])&&(s[1]=o[1]),b(o[0],s[1])>b(s[0],s[1])&&(s[0]=o[0])):n.push(s=o);for(var i,r,o,a=-1/0,s=(e=0,n[r=n.length-1]);e<=r;s=o,++e)o=n[e],(i=b(s[1],o[0]))>a&&(a=i,c=o[0],f=s[1])}return l=u=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[f,d]]}}(),I.geo.centroid=function(t){vn=yn=bn=wn=xn=Cn=kn=Sn=_n=Tn=Mn=0,I.geo.stream(t,Ln);var e=_n,n=Tn,i=Mn,r=e*e+n*n+i*i;return r<kt&&(e=Cn,n=kn,i=Sn,yn<Ct&&(e=bn,n=wn,i=xn),(r=e*e+n*n+i*i)<kt)?[NaN,NaN]:[Math.atan2(n,e)*Et,Pt(i/Math.sqrt(r))*Et]};var Ln={sphere:$,point:Hn,lineStart:Un,lineEnd:zn,polygonStart:function(){Ln.lineStart=Wn},polygonEnd:function(){Ln.lineStart=Un}};function Hn(t,e){t*=Dt;var n=Math.cos(e*=Dt);qn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function qn(t,e,n){bn+=(t-bn)/++vn,wn+=(e-wn)/vn,xn+=(n-xn)/vn}function Un(){var s,l,u;function i(t,e){t*=Dt;var n=Math.cos(e*=Dt),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=l*o-u*r)*a+(a=u*i-s*o)*a+(a=s*r-l*i)*a),s*i+l*r+u*o);yn+=a,Cn+=a*(s+(s=i)),kn+=a*(l+(l=r)),Sn+=a*(u+(u=o)),qn(s,l,u)}Ln.point=function(t,e){t*=Dt;var n=Math.cos(e*=Dt);s=n*Math.cos(t),l=n*Math.sin(t),u=Math.sin(e),Ln.point=i,qn(s,l,u)}}function zn(){Ln.point=Hn}function Wn(){var i,r,d,p,g;function o(t,e){t*=Dt;var n=Math.cos(e*=Dt),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=p*o-g*r,s=g*i-d*o,l=d*r-p*i,u=Math.sqrt(a*a+s*s+l*l),c=d*i+p*r+g*o,h=u&&-Nt(c)/u,f=Math.atan2(u,c);_n+=h*a,Tn+=h*s,Mn+=h*l,yn+=f,Cn+=f*(d+(d=i)),kn+=f*(p+(p=r)),Sn+=f*(g+(g=o)),qn(d,p,g)}Ln.point=function(t,e){i=t,r=e,Ln.point=o,t*=Dt;var n=Math.cos(e*=Dt);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),qn(d,p,g)},Ln.lineEnd=function(){o(i,r),Ln.lineEnd=zn,Ln.point=Hn}}function Bn(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Vn(){return!0}function Gn(t,e,n,i,s){var l=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(jn(n,i)){s.lineStart();for(var r=0;r<e;++r)s.point((n=t[r])[0],n[1]);s.lineEnd()}else{var o=new Xn(n,t,null,!0),a=new Xn(n,null,o,!1);o.o=a,l.push(o),u.push(a),a=new Xn(i,null,o=new Xn(i,t,null,!1),!0),o.o=a,l.push(o),u.push(a)}}}),u.sort(e),Yn(l),Yn(u),l.length){for(var r=0,o=n,a=u.length;r<a;++r)u[r].e=o=!o;for(var c,h,f=l[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(r=0,a=c.length;r<a;++r)s.point((h=c[r])[0],h[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(p)for(r=(c=d.p.z).length-1;0<=r;--r)s.point((h=c[r])[0],h[1]);else i(d.x,d.p.x,-1,s);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function Yn(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Xn(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Qn(y,b,w,x){return function(i,a){var s,r=b(a),e=i.invert(x[0],x[1]),n={point:o,lineStart:l,lineEnd:u,polygonStart:function(){n.point=g,n.lineStart=m,n.lineEnd=v,s=[],c=[]},polygonEnd:function(){n.point=o,n.lineStart=l,n.lineEnd=u,s=I.merge(s);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Dn.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],f=h[0],d=h[1]/2+St/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],y=t[1]/2+St/4,b=Math.sin(y),w=Math.cos(y),x=v-f,C=0<=x?1:-1,k=C*x,S=St<k,_=p*b;if(Dn.add(Math.atan2(_*C*Math.sin(k),g*w+_*Math.cos(k))),o+=S?x+C*_t:x,S^n<=f^n<=v){var T=Pn(An(h),An(t));On(T);var M=Pn(r,T);On(M);var D=(S^0<=x?-1:1)*Pt(M[2]);(D<i||i===D&&(T[0]||T[1]))&&(a+=S^0<=x?1:-1)}if(!m++)break;f=v,p=b,g=w,h=t}}return(o<-Ct||o<Ct&&Dn<-Ct)^1&a}(e,c);s.length?(p||(a.polygonStart(),p=!0),Gn(s,Jn,t,w,a)):t&&(p||(a.polygonStart(),p=!0),a.lineStart(),w(null,null,1,a),a.lineEnd()),p&&(a.polygonEnd(),p=!1),s=c=null},sphere:function(){a.polygonStart(),a.lineStart(),w(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(t,e){var n=i(t,e);y(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=i(t,e);r.point(n[0],n[1])}function l(){n.point=t,r.lineStart()}function u(){n.point=o,r.lineEnd()}var c,h,f=Zn(),d=b(f),p=!1;function g(t,e){h.push([t,e]);var n=i(t,e);d.point(n[0],n[1])}function m(){d.lineStart(),h=[]}function v(){g(h[0][0],h[0][1]),d.lineEnd();var t,e=d.clean(),n=f.buffer(),i=n.length;if(h.pop(),c.push(h),h=null,i)if(1&e){var r,o=-1;if(0<(i=(t=n[0]).length-1)){for(p||(a.polygonStart(),p=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Kn))}return n}}function Kn(t){return 1<t.length}function Zn(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:$,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Jn(t,e){return((t=t.x)[0]<0?t[1]-Mt-Ct:Mt-t[1])-((e=e.x)[0]<0?e[1]-Mt-Ct:Mt-e[1])}var ti=Qn(Vn,function(h){var f,d=NaN,p=NaN,g=NaN;return{lineStart:function(){h.lineStart(),f=1},point:function(t,e){var n,i,r,o,a,s,l,u=0<t?St:-St,c=P(t-d);P(c-St)<Ct?(h.point(d,p=0<(p+e)/2?Mt:-Mt),h.point(g,p),h.lineEnd(),h.lineStart(),h.point(u,p),h.point(t,p),f=0):g!==u&&St<=c&&(P(d-g)<Ct&&(d-=g*Ct),P(t-u)<Ct&&(t-=u*Ct),n=d,i=p,r=t,o=e,l=Math.sin(n-r),p=P(l)>Ct?Math.atan((Math.sin(i)*(s=Math.cos(o))*Math.sin(r)-Math.sin(o)*(a=Math.cos(i))*Math.sin(n))/(a*s*l)):(i+o)/2,h.point(g,p),h.lineEnd(),h.lineStart(),h.point(u,p),f=0),h.point(d=t,p=e),g=u},lineEnd:function(){h.lineEnd(),d=p=NaN},clean:function(){return 2-f}}},function(t,e,n,i){var r;if(null==t)r=n*Mt,i.point(-St,r),i.point(0,r),i.point(St,r),i.point(St,0),i.point(St,-r),i.point(0,-r),i.point(-St,-r),i.point(-St,0),i.point(-St,r);else if(P(t[0]-e[0])>Ct){var o=t[0]<e[0]?St:-St;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-St,-St/2]);function ei(c,h,f,d){return function(t){var e,n=t.a,i=t.b,r=n.x,o=n.y,a=0,s=1,l=i.x-r,u=i.y-o;if(e=c-r,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=f-r,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}if(e=h-o,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=d-o,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:r+a*l,y:o+a*u}),s<1&&(t.b={x:r+s*l,y:o+s*u}),t}}}}}}var ni=1e9;function ii(w,x,C,k){return function(r){var i,c,o,a,s,l,u,h,f,d,p,g=r,t=Zn(),m=ei(w,x,C,k),e={point:n,lineStart:function(){e.point=b,c&&c.push(o=[]);d=!0,f=!1,u=h=NaN},lineEnd:function(){i&&(b(a,s),l&&f&&t.rejoin(),i.push(t.buffer()));e.point=n,f&&r.lineEnd()},polygonStart:function(){r=t,i=[],c=[],p=!0},polygonEnd:function(){r=g,i=I.merge(i);var t=function(t){for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=c[r],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=i?o[1]>i&&0<At(u,o,t)&&++e:o[1]<=i&&At(u,o,t)<0&&--e,u=o;return 0!==e}([w,k]),e=p&&t,n=i.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),v(null,null,1,r),r.lineEnd()),n&&Gn(i,_,t,v,r),r.polygonEnd()),i=c=o=null}};function v(t,e,n,i){var r=0,o=0;if(null==t||(r=S(t,n))!==(o=S(e,n))||T(t,e)<0^0<n)for(;i.point(0===r||3===r?w:C,1<r?k:x),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function y(t,e){return w<=t&&t<=C&&x<=e&&e<=k}function n(t,e){y(t,e)&&r.point(t,e)}function b(t,e){var n=y(t=Math.max(-ni,Math.min(ni,t)),e=Math.max(-ni,Math.min(ni,e)));if(c&&o.push([t,e]),d)a=t,s=e,d=!1,(l=n)&&(r.lineStart(),r.point(t,e));else if(n&&f)r.point(t,e);else{var i={a:{x:u,y:h},b:{x:t,y:e}};m(i)?(f||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),p=!1):n&&(r.lineStart(),r.point(t,e),p=!1)}u=t,h=e,f=n}return e};function S(t,e){return P(t[0]-w)<Ct?0<e?0:3:P(t[0]-C)<Ct?0<e?2:1:P(t[1]-x)<Ct?0<e?1:0:0<e?3:2}function _(t,e){return T(t.x,e.x)}function T(t,e){var n=S(t,1),i=S(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function ri(t){var e=0,n=St/3,i=Di(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*St/180,n=t[1]*St/180):[e/St*180,n/St*180]},r}function oi(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function a(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,Pt((r-(t*t+n*n)*i*i)/(2*i))]},a}I.geo.clipExtent=function(){var e,n,i,r,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=ii(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(I.geo.conicEqualArea=function(){return ri(oi)}).raw=oi,I.geo.albers=function(){return I.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},I.geo.albersUsa=function(){var i,r,o,a,s=I.geo.albers(),l=I.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=I.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){i=[t,e]}};function h(t){var e=t[0],n=t[1];return i=null,r(e,n),i||(o(e,n),i)||a(e,n),i}return h.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?u:s).invert(t)},h.stream=function(t){var n=s.stream(t),i=l.stream(t),r=u.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},h.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),u.precision(t),h):s.precision()},h.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),u.scale(t),h.translate(s.translate())):s.scale()},h.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],i=+t[1];return r=s.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(c).point,o=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+Ct,i+.12*e+Ct],[n-.214*e-Ct,i+.234*e-Ct]]).stream(c).point,a=u.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+Ct,i+.166*e+Ct],[n-.115*e-Ct,i+.234*e-Ct]]).stream(c).point,h},h.scale(1070)};var ai,si,li,ui,ci,hi,fi={point:$,lineStart:$,lineEnd:$,polygonStart:function(){si=0,fi.lineStart=di},polygonEnd:function(){fi.lineStart=fi.lineEnd=fi.point=$,ai+=P(si/2)}};function di(){var n,i,r,o;function a(t,e){si+=o*t-r*e,r=t,o=e}fi.point=function(t,e){fi.point=a,n=r=t,i=o=e},fi.lineEnd=function(){a(n,i)}}var pi={point:function(t,e){t<li&&(li=t);ci<t&&(ci=t);e<ui&&(ui=e);hi<e&&(hi=e)},lineStart:$,lineEnd:$,polygonStart:$,polygonEnd:$};function gi(){var n=mi(4.5),i=[],r={point:t,lineStart:function(){r.point=e},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=t},pointRadius:function(t){return n=mi(t),r},result:function(){if(i.length){var t=i.join("");return i=[],t}}};function t(t,e){i.push("M",t,",",e,n)}function e(t,e){i.push("M",t,",",e),r.point=o}function o(t,e){i.push("L",t,",",e)}function a(){r.point=t}function s(){i.push("Z")}return r}function mi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var vi,yi={point:bi,lineStart:wi,lineEnd:xi,polygonStart:function(){yi.lineStart=Ci},polygonEnd:function(){yi.point=bi,yi.lineStart=wi,yi.lineEnd=xi}};function bi(t,e){bn+=t,wn+=e,++xn}function wi(){var o,a;function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Cn+=r*(o+t)/2,kn+=r*(a+e)/2,Sn+=r,bi(o=t,a=e)}yi.point=function(t,e){yi.point=n,bi(o=t,a=e)}}function xi(){yi.point=bi}function Ci(){var n,i,o,a;function r(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Cn+=r*(o+t)/2,kn+=r*(a+e)/2,Sn+=r,_n+=(r=a*t-o*e)*(o+t),Tn+=r*(a+e),Mn+=3*r,bi(o=t,a=e)}yi.point=function(t,e){yi.point=r,bi(n=o=t,i=a=e)},yi.lineEnd=function(){r(n,i)}}function ki(n){var i=4.5,r={point:t,lineStart:function(){r.point=e},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=t},pointRadius:function(t){return i=t,r},result:$};function t(t,e){n.moveTo(t+i,e),n.arc(t,e,i,0,_t)}function e(t,e){n.moveTo(t,e),r.point=o}function o(t,e){n.lineTo(t,e)}function a(){r.point=t}function s(){n.closePath()}return r}function Si(E){var $=.5,A=Math.cos(30*Dt),x=16;function e(t){return(x?function(r){var n,i,o,a,s,l,u,c,h,f,d,p,g={point:t,lineStart:e,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=y},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=E(t,e),r.point(t[0],t[1])}function e(){c=NaN,g.point=m,r.lineStart()}function m(t,e){var n=An([t,e]),i=E(t,e);N(c,h,u,f,d,p,c=i[0],h=i[1],u=t,f=n[0],d=n[1],p=n[2],x,r),r.point(c,h)}function v(){g.point=t,r.lineEnd()}function y(){e(),g.point=b,g.lineEnd=w}function b(t,e){m(n=t,e),i=c,o=h,a=f,s=d,l=p,g.point=m}function w(){N(c,h,u,f,d,p,i,o,n,a,s,l,x,r),(g.lineEnd=v)()}return g}:function(n){return Ti(n,function(t,e){t=E(t,e),n.point(t[0],t[1])})})(t)}function N(t,e,n,i,r,o,a,s,l,u,c,h,f,d){var p=a-t,g=s-e,m=p*p+g*g;if(4*$<m&&f--){var v=i+u,y=r+c,b=o+h,w=Math.sqrt(v*v+y*y+b*b),x=Math.asin(b/=w),C=P(P(b)-1)<Ct||P(n-l)<Ct?(n+l)/2:Math.atan2(y,v),k=E(C,x),S=k[0],_=k[1],T=S-t,M=_-e,D=g*T-p*M;($<D*D/m||.3<P((p*T+g*M)/m-.5)||i*u+r*c+o*h<A)&&(N(t,e,n,i,r,o,S,_,C,v/=w,y/=w,b,f,d),d.point(S,_),N(S,_,C,v,y,b,a,s,l,u,c,h,f,d))}}return e.precision=function(t){return arguments.length?(x=0<($=t*t)&&16,e):Math.sqrt($)},e}function _i(t){this.stream=t}function Ti(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Mi(t){return Di(function(){return t})()}function Di(t){var n,e,i,r,o,a,s=Si(function(t,e){return[(t=n(t,e))[0]*l+r,o-t[1]*l]}),l=150,u=480,c=250,h=0,f=0,d=0,p=0,g=0,m=ti,v=O,y=null,b=null;function w(t){return[(t=i(t[0]*Dt,t[1]*Dt))[0]*l+r,o-t[1]*l]}function x(t){return(t=i.invert((t[0]-r)/l,(o-t[1])/l))&&[t[0]*Et,t[1]*Et]}function C(){i=Bn(e=Ni(d,p,g),n);var t=n(h,f);return r=u-t[0]*l,o=c+t[1]*l,k()}function k(){return a&&(a.valid=!1,a=null),w}return w.stream=function(t){return a&&(a.valid=!1),(a=Ei(m(e,s(v(t))))).valid=!0,a},w.clipAngle=function(t){return arguments.length?(m=null==t?(y=t,ti):function(r){var T=Math.cos(r),d=0<T,p=P(T)>Ct;return Qn(g,function(s){var l,u,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,i=[t,e],r=g(t,e),o=d?r?0:v(t,e):r?v(t+(t<0?St:-St),e):0;if(!l&&(h=c=r)&&s.lineStart(),r!==c&&(n=m(l,i),(jn(l,n)||jn(i,n))&&(i[0]+=Ct,i[1]+=Ct,r=g(i[0],i[1]))),r!==c)f=0,r?(s.lineStart(),n=m(i,l),s.point(n[0],n[1])):(n=m(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(p&&l&&d^r){var a;o&u||!(a=m(i,l,!0))||(f=0,d?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||l&&jn(l,i)||s.point(i[0],i[1]),l=i,c=r,u=o},lineEnd:function(){c&&s.lineEnd(),l=null},clean:function(){return f|(h&&c)<<1}}},Oi(r,6*Dt),d?[0,-r]:[-St,r-St]);function g(t,e){return Math.cos(t)*Math.cos(e)>T}function m(t,e,n){var i=[1,0,0],r=Pn(An(t),An(e)),o=Nn(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var l=T*o/s,u=-T*a/s,c=Pn(i,r),h=Fn(i,l);In(h,Fn(r,u));var f=c,d=Nn(h,f),p=Nn(f,f),g=d*d-p*(Nn(h,h)-1);if(!(g<0)){var m=Math.sqrt(g),v=Fn(f,(-d-m)/p);if(In(v,h),v=Rn(v),!n)return v;var y,b=t[0],w=e[0],x=t[1],C=e[1];w<b&&(y=b,b=w,w=y);var k=w-b,S=P(k-St)<Ct;if(!S&&C<x&&(y=x,x=C,C=y),S||k<Ct?S?0<x+C^v[1]<(P(v[0]-b)<Ct?x:C):x<=v[1]&&v[1]<=C:St<k^(b<=v[0]&&v[0]<=w)){var _=Fn(f,(-d+m)/p);return In(_,h),[v,Rn(_)]}}}function v(t,e){var n=d?r:St-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}}((y=+t)*Dt),k()):y},w.clipExtent=function(t){return arguments.length?(v=(b=t)?ii(t[0][0],t[0][1],t[1][0],t[1][1]):O,k()):b},w.scale=function(t){return arguments.length?(l=+t,C()):l},w.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],C()):[u,c]},w.center=function(t){return arguments.length?(h=t[0]%360*Dt,f=t[1]%360*Dt,C()):[h*Et,f*Et]},w.rotate=function(t){return arguments.length?(d=t[0]%360*Dt,p=t[1]%360*Dt,g=2<t.length?t[2]%360*Dt:0,C()):[d*Et,p*Et,g*Et]},I.rebind(w,s,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&x,C()}}function Ei(n){return Ti(n,function(t,e){n.point(t*Dt,e*Dt)})}function $i(t,e){return[t,e]}function Ai(t,e){return[St<t?t-_t:t<-St?t+_t:t,e]}function Ni(t,e,n){return t?e||n?Bn(Ii(t),Fi(e,n)):Ii(t):e||n?Fi(e,n):Ai}function Pi(n){return function(t,e){return[St<(t+=n)?t-_t:t<-St?t+_t:t,e]}}function Ii(t){var e=Pi(t);return e.invert=Pi(-t),e}function Fi(t,e){var s=Math.cos(t),l=Math.sin(t),u=Math.cos(e),c=Math.sin(e);function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*s+i*l;return[Math.atan2(r*u-a*c,i*s-o*l),Pt(a*u+r*c)]}return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*u-r*c;return[Math.atan2(r*u+o*c,i*s+a*l),Pt(a*s-i*l)]},n}function Oi(s,l){var u=Math.cos(s),c=Math.sin(s);return function(t,e,n,i){var r=n*l;null!=t?(t=Ri(u,t),e=Ri(u,e),(0<n?t<e:e<t)&&(t+=n*_t)):(t=s+n*_t,e=s-.5*r);for(var o,a=t;0<n?e<a:a<e;a-=r)i.point((o=Rn([u,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function Ri(t,e){var n=An(e);n[0]-=t,On(n);var i=Nt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ct)%(2*Math.PI)}function ji(t,e,n){var i=I.range(t,e-Ct,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function Li(t,e,n){var i=I.range(t,e-Ct,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function Hi(t){return t.source}function qi(t){return t.target}I.geo.path=function(){var i,e,r,n,o,a=4.5;function s(t){return t&&("function"==typeof a&&n.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(n)),I.geo.stream(t,o)),n.result()}function l(){return o=null,s}return s.area=function(t){return ai=0,I.geo.stream(t,r(fi)),ai},s.centroid=function(t){return bn=wn=xn=Cn=kn=Sn=_n=Tn=Mn=0,I.geo.stream(t,r(yi)),Mn?[_n/Mn,Tn/Mn]:Sn?[Cn/Sn,kn/Sn]:xn?[bn/xn,wn/xn]:[NaN,NaN]},s.bounds=function(t){return ci=hi=-(li=ui=1/0),I.geo.stream(t,r(pi)),[[li,ui],[ci,hi]]},s.projection=function(t){return arguments.length?(r=(i=t)?t.stream||(n=t,e=Si(function(t,e){return n([t*Et,e*Et])}),function(t){return Ei(e(t))}):O,l()):i;var n,e},s.context=function(t){return arguments.length?(n=null==(e=t)?new gi:new ki(t),"function"!=typeof a&&n.pointRadius(a),l()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(n.pointRadius(+t),+t),s):a},s.projection(I.geo.albersUsa()).context(null)},I.geo.transform=function(i){return{stream:function(t){var e=new _i(t);for(var n in i)e[n]=i[n];return e}}},_i.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},I.geo.projection=Mi,I.geo.projectionMutator=Di,(I.geo.equirectangular=function(){return Mi($i)}).raw=$i.invert=$i,I.geo.rotation=function(e){function t(t){return(t=e(t[0]*Dt,t[1]*Dt))[0]*=Et,t[1]*=Et,t}return e=Ni(e[0]%360*Dt,e[1]*Dt,2<e.length?e[2]*Dt:0),t.invert=function(t){return(t=e.invert(t[0]*Dt,t[1]*Dt))[0]*=Et,t[1]*=Et,t},t},Ai.invert=$i,I.geo.circle=function(){var e,r,o=[0,0],n=6;function i(){var t="function"==typeof o?o.apply(this,arguments):o,n=Ni(-t[0]*Dt,-t[1]*Dt,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Et,t[1]*=Et}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(o=t,i):o},i.angle=function(t){return arguments.length?(r=Oi((e=+t)*Dt,n*Dt),i):e},i.precision=function(t){return arguments.length?(r=Oi(e*Dt,(n=+t)*Dt),i):n},i.angle(90)},I.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Dt,r=t[1]*Dt,o=e[1]*Dt,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},I.geo.graticule=function(){var e,n,i,r,o,a,s,l,u,c,h,f,d=10,p=d,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return I.range(Math.ceil(r/g)*g,i,g).map(h).concat(I.range(Math.ceil(l/m)*m,s,m).map(f)).concat(I.range(Math.ceil(n/d)*d,e,d).filter(function(t){return P(t%g)>Ct}).map(u)).concat(I.range(Math.ceil(a/p)*p,o,p).filter(function(t){return P(t%m)>Ct}).map(c))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(s).slice(1),h(i).reverse().slice(1),f(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],l=+t[0][1],s=+t[1][1],i<r&&(t=r,r=i,i=t),s<l&&(t=l,l=s,s=t),y.precision(v)):[[r,l],[i,s]]},y.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),y.precision(v)):[[n,a],[e,o]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(d=+t[0],p=+t[1],y):[d,p]},y.precision=function(t){return arguments.length?(v=+t,u=ji(a,o,90),c=Li(n,e,v),h=ji(l,s,90),f=Li(r,i,v),y):v},y.majorExtent([[-180,-90+Ct],[180,90-Ct]]).minorExtent([[-180,-80-Ct],[180,80+Ct]])},I.geo.greatArc=function(){var e,n,i=Hi,r=qi;function o(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}return o.distance=function(){return I.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},o.source=function(t){return arguments.length?(e="function"==typeof(i=t)?null:t,o):i},o.target=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,o):r},o.precision=function(){return arguments.length?o:0},o},I.geo.interpolate=function(t,e){return n=t[0]*Dt,i=t[1]*Dt,r=e[0]*Dt,o=e[1]*Dt,a=Math.cos(i),s=Math.sin(i),l=Math.cos(o),u=Math.sin(o),c=a*Math.cos(n),h=a*Math.sin(n),f=l*Math.cos(r),d=l*Math.sin(r),p=2*Math.asin(Math.sqrt(Ft(o-i)+a*l*Ft(r-n))),g=1/Math.sin(p),(m=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,i=n*c+e*f,r=n*h+e*d,o=n*s+e*u;return[Math.atan2(r,i)*Et,Math.atan2(o,Math.sqrt(i*i+r*r))*Et]}:function(){return[n*Et,i*Et]}).distance=p,m;var n,i,r,o,a,s,l,u,c,h,f,d,p,g,m},I.geo.length=function(t){return vi=0,I.geo.stream(t,Ui),vi};var Ui={sphere:$,point:$,lineStart:function(){var a,s,l;function n(t,e){var n=Math.sin(e*=Dt),i=Math.cos(e),r=P((t*=Dt)-a),o=Math.cos(r);vi+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=l*n-s*i*o)*r),s*n+l*i*o),a=t,s=n,l=i}Ui.point=function(t,e){a=t*Dt,s=Math.sin(e*=Dt),l=Math.cos(e),Ui.point=n},Ui.lineEnd=function(){Ui.point=Ui.lineEnd=$}},lineEnd:$,polygonStart:$,polygonEnd:$};function zi(o,a){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=o(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=a(n),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*r,n*o),Math.asin(n&&e*r/n)]},t}var Wi=zi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(I.geo.azimuthalEqualArea=function(){return Mi(Wi)}).raw=Wi;var Bi=zi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},O);function Vi(t,e){var n=Math.cos(t),i=function(t){return Math.tan(St/4+t/2)},r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),o=n*Math.pow(i(t),r)/r;if(!r)return Xi;function a(t,e){0<o?e<-Mt+Ct&&(e=-Mt+Ct):Mt-Ct<e&&(e=Mt-Ct);var n=o/Math.pow(i(e),r);return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}return a.invert=function(t,e){var n=o-e,i=$t(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Mt]},a}function Gi(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/i+t;if(P(i)<Ct)return $i;function o(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}return o.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-$t(i)*Math.sqrt(t*t+n*n)]},o}(I.geo.azimuthalEquidistant=function(){return Mi(Bi)}).raw=Bi,(I.geo.conicConformal=function(){return ri(Vi)}).raw=Vi,(I.geo.conicEquidistant=function(){return ri(Gi)}).raw=Gi;var Yi=zi(function(t){return 1/t},Math.atan);function Xi(t,e){return[t,Math.log(Math.tan(St/4+e/2))]}function Qi(t){var r,o=Mi(t),a=o.scale,s=o.translate,l=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=l.apply(o,arguments);if(e===o){if(r=null==t){var n=St*a(),i=s();l([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},o.clipExtent(null)}(I.geo.gnomonic=function(){return Mi(Yi)}).raw=Yi,Xi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Mt]},(I.geo.mercator=function(){return Qi(Xi)}).raw=Xi;var Ki=zi(function(){return 1},Math.asin);(I.geo.orthographic=function(){return Mi(Ki)}).raw=Ki;var Zi=zi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Ji(t,e){return[Math.log(Math.tan(St/4+e/2)),-t]}function tr(t){return t[0]}function er(t){return t[1]}function nr(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&At(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ir(t,e){return t[0]-e[0]||t[1]-e[1]}(I.geo.stereographic=function(){return Mi(Zi)}).raw=Zi,Ji.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Mt]},(I.geo.transverseMercator=function(){var t=Qi(Ji),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Ji,I.geom={},I.geom.hull=function(t){var f=tr,d=er;if(arguments.length)return e(t);function e(t){if(t.length<3)return[];var e,n=ge(f),i=ge(d),r=t.length,o=[],a=[];for(e=0;e<r;e++)o.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(o.sort(ir),e=0;e<r;e++)a.push([o[e][0],-o[e][1]]);var s=nr(o),l=nr(a),u=l[0]===s[0],c=l[l.length-1]===s[s.length-1],h=[];for(e=s.length-1;0<=e;--e)h.push(t[o[s[e]][2]]);for(e=+u;e<l.length-c;++e)h.push(t[o[l[e]][2]]);return h}return e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(d=t,e):d},e},I.geom.polygon=function(t){return q(t,rr),t};var rr=I.geom.polygon.prototype=[];function or(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ar(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,f=(s*(l-u)-h*(r-o))/(h*a-s*c);return[r+f*a,l+f*c]}function sr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}rr.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},rr.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},rr.clip=function(t){for(var e,n,i,r,o,a,s=sr(t),l=-1,u=this.length-sr(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-s)-1],n=-1;++n<i;)or(a=e[n],c,r)?(or(o,c,r)||t.push(ar(o,a,c,r)),t.push(a)):or(o,c,r)&&t.push(ar(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var lr,ur,cr,hr,fr,dr=[],pr=[];function gr(){Pr(this),this.edge=this.site=this.circle=null}function mr(t){var e=dr.pop()||new gr;return e.site=t,e}function vr(t){Tr(t),cr.remove(t),dr.push(t),Pr(t)}function yr(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];vr(t);for(var l=o;l.circle&&P(n-l.circle.x)<Ct&&P(i-l.circle.cy)<Ct;)o=l.P,s.unshift(l),vr(l),l=o;s.unshift(l),Tr(l);for(var u=a;u.circle&&P(n-u.circle.x)<Ct&&P(i-u.circle.cy)<Ct;)a=u.N,s.push(u),vr(u),u=a;s.push(u),Tr(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],$r(u.edge,l.site,u.site,r);l=s[0],(u=s[h-1]).edge=Er(l.site,u.site,null,r),_r(l),_r(u)}function br(t){for(var e,n,i,r,o=t.x,a=t.y,s=cr._;s;)if(i=wr(s,a)-o,Ct<i)s=s.L;else{if(r=o-xr(s,a),!(Ct<r)){-Ct<i?(e=s.P,n=s):-Ct<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=mr(t);if(cr.insert(e,l),e||n){if(e===n)return Tr(e),n=mr(e.site),cr.insert(l,n),l.edge=n.edge=Er(e.site,l.site),_r(e),void _r(n);if(n){Tr(e),Tr(n);var u=e.site,c=u.x,h=u.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(f*m-d*g),y=f*f+d*d,b=g*g+m*m,w={x:(m*y-d*b)/v+c,y:(f*b-g*y)/v+h};$r(n.edge,u,p,w),l.edge=Er(u,t,null,w),n.edge=Er(t,p,null,w),_r(e),_r(n)}else l.edge=Er(e.site,l.site)}}function wr(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-i,h=1/o-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+s)/2}function xr(t,e){var n=t.N;if(n)return wr(n,e);var i=t.site;return i.y===e?i.x:1/0}function Cr(t){this.site=t,this.edges=[]}function kr(t,e){return e.angle-t.angle}function Sr(){Pr(this),this.x=this.y=this.arc=this.site=this.cy=null}function _r(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,u=i.y-s,c=o.x-a,h=2*(l*(m=o.y-s)-u*c);if(!(-kt<=h)){var f=l*l+u*u,d=c*c+m*m,p=(m*f-u*d)/h,g=(l*d-c*f)/h,m=g+s,v=pr.pop()||new Sr;v.arc=t,v.site=r,v.x=p+a,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,b=fr._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}fr.insert(y,v),y||(hr=v)}}}}function Tr(t){var e=t.circle;e&&(e.P||(hr=e.N),fr.remove(e),pr.push(e),Pr(e),t.circle=null)}function Mr(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(m<a||s<=m)return;if(p<f){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(r=v-(i=(f-p)/(g-d))*m,i<-1||1<i)if(p<f){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Dr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Er(t,e,n,i){var r=new Dr(t,e);return lr.push(r),n&&$r(r,t,e,n),i&&$r(r,e,t,i),ur[t.i].edges.push(new Ar(r,t,e)),ur[e.i].edges.push(new Ar(r,e,t)),r}function $r(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Ar(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Nr(){this._=null}function Pr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ir(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Fr(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Or(t){for(;t.L;)t=t.L;return t}function Rr(t,e){var n,i,r,o=t.sort(jr).pop();for(lr=[],ur=new Array(t.length),cr=new Nr,fr=new Nr;;)if(r=hr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(ur[o.i]=new Cr(o),br(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;yr(r.arc)}e&&(function(t){for(var e,n=lr,i=ei(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Mr(e=n[r],t)||!i(e)||P(e.a.x-e.b.x)<Ct&&P(e.a.y-e.b.y)<Ct)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,o,a,s,l,u,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=ur,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)i=(c=s[a].end()).x,r=c.y,e=(u=s[++a%l].start()).x,n=u.y,(P(i-e)>Ct||P(r-n)>Ct)&&(s.splice(a,0,new Ar((v=o.site,y=c,b=P(i-h)<Ct&&Ct<p-r?{x:h,y:P(e-h)<Ct?n:p}:P(r-p)<Ct&&Ct<f-i?{x:P(n-p)<Ct?e:f,y:p}:P(i-f)<Ct&&Ct<r-d?{x:f,y:P(e-f)<Ct?n:d}:P(r-d)<Ct&&Ct<i-h?{x:P(n-d)<Ct?e:h,y:d}:null,w=void 0,w=new Dr(v,null),w.a=y,w.b=b,lr.push(w),w),o.site,null)),++l);var v,y,b,w}(e));var a={cells:ur,edges:lr};return cr=fr=lr=ur=null,a}function jr(t,e){return e.y-t.y||e.x-t.x}Cr.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(kr),e.length},Ar.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Nr.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Or(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Ir(this,n),n=(t=n).U),n.C=!1,i.C=!0,Fr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Fr(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ir(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?Or(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,((n.L=o).U=n)!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=a).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Ir(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Fr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Ir(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Fr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ir(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Fr(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},I.geom.voronoi=function(t){var e=tr,n=er,i=e,r=n,c=Lr;if(t)return o(t);function o(r){var o=new Array(r.length),a=c[0][0],s=c[0][1],l=c[1][0],u=c[1][1];return Rr(h(r),c).cells.forEach(function(t,e){var n=t.edges,i=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=a&&i.x<=l&&i.y>=s&&i.y<=u?[[a,u],[l,u],[l,s],[a,s]]:[]).point=r[e]}),o}function h(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/Ct)*Ct,y:Math.round(r(t,e)/Ct)*Ct,i:e}})}return o.links=function(e){return Rr(h(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(f){var d=[];return Rr(h(f)).cells.forEach(function(t,e){for(var n,i,r,o,a=t.site,s=t.edges.sort(kr),l=-1,u=s.length,c=s[u-1].edge,h=c.l===a?c.r:c.l;++l<u;)c,n=h,h=(c=s[l].edge).l===a?c.r:c.l,e<n.i&&e<h.i&&(r=n,o=h,((i=a).x-o.x)*(r.y-i.y)-(i.x-r.x)*(o.y-i.y)<0)&&d.push([f[e],f[n.i],f[h.i]])}),d},o.x=function(t){return arguments.length?(i=ge(e=t),o):e},o.y=function(t){return arguments.length?(r=ge(n=t),o):n},o.clipExtent=function(t){return arguments.length?(c=null==t?Lr:t,o):c===Lr?null:c},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):c===Lr?null:c&&c[1]},o};var Lr=[[-1e6,-1e6],[1e6,1e6]];function Hr(t){return t.x}function qr(t){return t.y}function Ur(t,e){t=I.rgb(t),e=I.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+le(Math.round(n+o*t))+le(Math.round(i+a*t))+le(Math.round(r+s*t))}}function zr(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Yr(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function Wr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function Br(t,i){var e,n,r,o=Vr.lastIndex=Gr.lastIndex=0,a=-1,s=[],l=[];for(t+="",i+="";(e=Vr.exec(t))&&(n=Gr.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:Wr(e,n)})),o=Gr.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(i=l[0].x,function(t){return i(t)+""}):function(){return i}:(i=l.length,function(t){for(var e,n=0;n<i;++n)s[(e=l[n]).i]=e.x(t);return s.join("")})}I.geom.delaunay=function(t){return I.geom.voronoi().triangles(t)},I.geom.quadtree=function(t,y,b,w,x){var C,k=tr,_=er;if(C=arguments.length)return k=Hr,_=qr,3===C&&(x=b,w=y,b=y=0),e(t);function e(t){var e,n,i,r,o,a,s,l,u,c=ge(k),h=ge(_);if(null!=y)a=y,s=b,l=w,u=x;else if(l=u=-(a=s=1/0),n=[],i=[],o=t.length,C)for(r=0;r<o;++r)(e=t[r]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>u&&(u=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<o;++r){var f=+c(e=t[r],r),d=+h(e,r);f<a&&(a=f),d<s&&(s=d),l<f&&(l=f),u<d&&(u=d),n.push(f),i.push(d)}var p=l-a,g=u-s;function m(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(P(l-n)+P(u-i)<.01)v(t,e,n,i,r,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,v(t,c,l,u,r,o,a,s),v(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else v(t,e,n,i,r,o,a,s)}function v(t,e,n,i,r,o,a,s){var l=.5*(r+a),u=.5*(o+s),c=l<=n,h=u<=i,f=h<<1|c;t.leaf=!1,c?r=l:a=l,h?o=u:s=u,m(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,r,o,a,s)}g<p?u=s+p:l=a+g;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){m(S,t,+c(t,++r),+h(t,r),a,s,l,u)}};if(S.visit=function(t){!function t(e,n,i,r,o,a){if(!e(n,i,r,o,a)){var s=.5*(i+o),l=.5*(r+a),u=n.nodes;u[0]&&t(e,u[0],i,r,s,l),u[1]&&t(e,u[1],s,r,o,l),u[2]&&t(e,u[2],i,l,s,a),u[3]&&t(e,u[3],s,l,o,a)}}(t,S,a,s,l,u)},S.find=function(t){return e=S,m=t[0],v=t[1],k=1/0,function t(e,n,i,r,o){if(!(w<n||x<i||r<y||o<b)){if(a=e.point){var a,s=m-e.x,l=v-e.y,u=s*s+l*l;if(u<k){var c=Math.sqrt(k=u);y=m-c,b=v-c,w=m+c,x=v+c,C=a}}for(var h=e.nodes,f=.5*(n+r),d=.5*(i+o),p=(d<=v)<<1|f<=m,g=p+4;p<g;++p)if(e=h[3&p])switch(3&p){case 0:t(e,n,i,f,d);break;case 1:t(e,f,i,r,d);break;case 2:t(e,n,d,f,o);break;case 3:t(e,f,d,r,o)}}}(e,y=a,b=s,w=l,x=u),C;var e,m,v,y,b,w,x,C,k},r=-1,null==y){for(;++r<o;)m(S,t[r],n[r],i[r],a,s,l,u);--r}else t.forEach(S.add);return n=i=t=e=null,S}return e.x=function(t){return arguments.length?(k=t,e):k},e.y=function(t){return arguments.length?(_=t,e):_},e.extent=function(t){return arguments.length?(null==t?y=b=w=x=null:(y=+t[0][0],b=+t[0][1],w=+t[1][0],x=+t[1][1]),e):null==y?null:[[y,b],[w,x]]},e.size=function(t){return arguments.length?(null==t?y=b=w=x=null:(y=b=0,w=+t[0],x=+t[1]),e):null==y?null:[w-y,x-b]},e},I.interpolateRgb=Ur,I.interpolateObject=zr,I.interpolateNumber=Wr,I.interpolateString=Br;var Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gr=new RegExp(Vr.source,"g");function Yr(t,e){for(var n,i=I.interpolators.length;0<=--i&&!(n=I.interpolators[i](t,e)););return n}function Xr(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(Yr(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}I.interpolate=Yr,I.interpolators=[function(t,e){var n=typeof e;return("string"===n?pe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Ur:Br:e instanceof Ht?Ur:Array.isArray(e)?Xr:"object"===n&&isNaN(e)?zr:Wr)(t,e)}],I.interpolateArray=Xr;var Qr=function(){return O},Kr=I.map({linear:Qr,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return eo},cubic:function(){return no},sin:function(){return ro},exp:function(){return oo},circle:function(){return ao},elastic:function(e,n){var i;arguments.length<2&&(n=.45);arguments.length?i=n/_t*Math.asin(1/e):(e=1,i=n/4);return function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*_t/n)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return so}}),Zr=I.map({in:O,out:Jr,"in-out":to,"out-in":function(t){return to(Jr(t))}});function Jr(e){return function(t){return 1-e(1-t)}}function to(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function eo(t){return t*t}function no(t){return t*t*t}function io(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ro(t){return 1-Math.cos(t*Mt)}function oo(t){return Math.pow(2,10*(t-1))}function ao(t){return 1-Math.sqrt(1-t*t)}function so(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function lo(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function uo(t){var e,n,i,r=[t.a,t.b],o=[t.c,t.d],a=ho(r),s=co(r,o),l=ho(((e=o)[0]+=(i=-s)*(n=r)[0],e[1]+=i*n[1],e))||0;r[0]*o[1]<o[0]*r[1]&&(r[0]*=-1,r[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(r[1],r[0]):Math.atan2(-o[0],o[1]))*Et,this.translate=[t.e,t.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Et:0}function co(t,e){return t[0]*e[0]+t[1]*e[1]}function ho(t){var e=Math.sqrt(co(t,t));return e&&(t[0]/=e,t[1]/=e),e}I.ease=function(t){var e,n=t.indexOf("-"),i=0<=n?t.slice(0,n):t,r=0<=n?t.slice(n+1):"in";return i=Kr.get(i)||Qr,r=Zr.get(r)||O,e=r(i.apply(null,o.call(arguments,1))),function(t){return t<=0?0:1<=t?1:e(t)}},I.interpolateHcl=function(t,e){t=I.hcl(t),e=I.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;isNaN(a)&&(a=0,i=isNaN(i)?e.c:i);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return Vt(n+o*t,i+a*t,r+s*t)+""}},I.interpolateHsl=function(t,e){t=I.hsl(t),e=I.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;isNaN(a)&&(a=0,i=isNaN(i)?e.s:i);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return zt(n+o*t,i+a*t,r+s*t)+""}},I.interpolateLab=function(t,e){t=I.lab(t),e=I.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return Jt(n+o*t,i+a*t,r+s*t)+""}},I.interpolateRound=lo,I.transform=function(t){var n=b.createElementNS(I.ns.prefix.svg,"g");return(I.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new uo(e?e.matrix:fo)})(t)},uo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fo={a:1,b:0,c:0,d:1,e:0,f:0};function po(t){return t.length?t.pop()+",":""}function go(t,e){var n,i,r,o,a,s,l,u,c=[],h=[];return t=I.transform(t),e=I.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Wr(t[0],e[0])},{i:r-2,x:Wr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,c,h),n=t.rotate,i=e.rotate,r=c,o=h,n!==i?(180<n-i?i+=360:180<i-n&&(n+=360),o.push({i:r.push(po(r)+"rotate(",null,")")-2,x:Wr(n,i)})):i&&r.push(po(r)+"rotate("+i+")"),a=t.skew,s=e.skew,l=c,u=h,a!==s?u.push({i:l.push(po(l)+"skewX(",null,")")-2,x:Wr(a,s)}):s&&l.push(po(l)+"skewX("+s+")"),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(po(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Wr(t[0],e[0])},{i:r-2,x:Wr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(po(n)+"scale("+e+")")}(t.scale,e.scale,c,h),t=e=null,function(t){for(var e,n=-1,i=h.length;++n<i;)c[(e=h[n]).i]=e.x(t);return c.join("")}}function mo(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function vo(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function yo(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=bo(t),i=bo(e),r=n.pop(),o=i.pop(),a=null;for(;r===o;)a=r,r=n.pop(),o=i.pop();return a}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function bo(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function wo(t){t.fixed|=2}function xo(t){t.fixed&=-7}function Co(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ko(t){t.fixed&=-5}I.interpolateTransform=go,I.layout={},I.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(yo(t[n]));return e}},I.layout.chord=function(){var m,v,y,b,w,x,C,e={},k=0;function t(){var t,e,n,i,r,o={},a=[],s=I.range(b),l=[];for(m=[],v=[],t=0,i=-1;++i<b;){for(e=0,r=-1;++r<b;)e+=y[i][r];a.push(e),l.push(I.range(b)),t+=e}for(w&&s.sort(function(t,e){return w(a[t],a[e])}),x&&l.forEach(function(t,n){t.sort(function(t,e){return x(y[n][t],y[n][e])})}),t=(_t-k*b)/t,e=0,i=-1;++i<b;){for(n=e,r=-1;++r<b;){var u=s[i],c=l[u][r],h=y[u][c],f=e,d=e+=h*t;o[u+"-"+c]={index:u,subindex:c,startAngle:f,endAngle:d,value:h}}v[u]={index:u,startAngle:n,endAngle:e,value:a[u]},e+=k}for(i=-1;++i<b;)for(r=i-1;++r<b;){var p=o[i+"-"+r],g=o[r+"-"+i];(p.value||g.value)&&m.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}C&&S()}function S(){m.sort(function(t,e){return C((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return e.matrix=function(t){return arguments.length?(b=(y=t)&&y.length,m=v=null,e):y},e.padding=function(t){return arguments.length?(k=t,m=v=null,e):k},e.sortGroups=function(t){return arguments.length?(w=t,m=v=null,e):w},e.sortSubgroups=function(t){return arguments.length?(x=t,m=null,e):x},e.sortChords=function(t){return arguments.length?(C=t,m&&S(),e):C},e.chords=function(){return m||t(),m},e.groups=function(){return v||t(),v},e},I.layout.force=function(){var h,t,f,d,p,g,r={},m=I.dispatch("start","tick","end"),v=[1,1],y=.9,o=So,a=_o,b=-30,c=To,w=.1,x=.64,C=[],k=[];function S(u){return function(t,e,n,i){if(t.point!==u){var r=t.cx-u.x,o=t.cy-u.y,a=i-e,s=r*r+o*o;if(a*a/x<s){if(s<c){var l=t.charge/s;u.px-=r*l,u.py-=o*l}return!0}if(t.point&&s&&s<c){l=t.pointCharge/s;u.px-=r*l,u.py-=o*l}}return!t.charge}}function e(t){t.px=I.event.x,t.py=I.event.y,r.resume()}return r.tick=function(){if((f*=.99)<.005)return h=null,m.end({type:"end",alpha:f=0}),!0;var t,e,n,i,r,o,a,s,l,u=C.length,c=k.length;for(e=0;e<c;++e)i=(n=k[e]).source,(o=(s=(r=n.target).x-i.x)*s+(l=r.y-i.y)*l)&&(s*=o=f*p[e]*((o=Math.sqrt(o))-d[e])/o,l*=o,r.x-=s*(a=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=l*a,i.x+=s*(a=1-a),i.y+=l*a);if((a=f*w)&&(s=v[0]/2,l=v[1]/2,e=-1,a))for(;++e<u;)(n=C[e]).x+=(s-n.x)*a,n.y+=(l-n.y)*a;if(b)for(!function t(e,n,i){var r=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,l=s.length,u=-1;++u<l;)null!=(a=s[u])&&(t(a,n,i),e.charge+=a.charge,r+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*i[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,o+=c*e.point.y}e.cx=r/e.charge;e.cy=o/e.charge}(t=I.geom.quadtree(C),f,g),e=-1;++e<u;)(n=C[e]).fixed||t.visit(S(n));for(e=-1;++e<u;)(n=C[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*y,n.y-=(n.py-(n.py=n.y))*y);m.tick({type:"tick",alpha:f})},r.nodes=function(t){return arguments.length?(C=t,r):C},r.links=function(t){return arguments.length?(k=t,r):k},r.size=function(t){return arguments.length?(v=t,r):v},r.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,r):a},r.friction=function(t){return arguments.length?(y=+t,r):y},r.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,r):b},r.chargeDistance=function(t){return arguments.length?(c=t*t,r):Math.sqrt(c)},r.gravity=function(t){return arguments.length?(w=+t,r):w},r.theta=function(t){return arguments.length?(x=t*t,r):Math.sqrt(x)},r.alpha=function(t){return arguments.length?(t=+t,f?0<t?f=t:(h.c=null,h.t=NaN,h=null,m.end({type:"end",alpha:f=0})):0<t&&(m.start({type:"start",alpha:f=t}),h=ke(r.tick)),r):f},r.start=function(){var s,l,t,u=C.length,c=k.length,e=v[0],n=v[1];for(s=0;s<u;++s)(t=C[s]).index=s,t.weight=0;for(s=0;s<c;++s)"number"==typeof(t=k[s]).source&&(t.source=C[t.source]),"number"==typeof t.target&&(t.target=C[t.target]),++t.source.weight,++t.target.weight;for(s=0;s<u;++s)t=C[s],isNaN(t.x)&&(t.x=i("x",e)),isNaN(t.y)&&(t.y=i("y",n)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(d=[],"function"==typeof o)for(s=0;s<c;++s)d[s]=+o.call(this,k[s],s);else for(s=0;s<c;++s)d[s]=o;if(p=[],"function"==typeof a)for(s=0;s<c;++s)p[s]=+a.call(this,k[s],s);else for(s=0;s<c;++s)p[s]=a;if(g=[],"function"==typeof b)for(s=0;s<u;++s)g[s]=+b.call(this,C[s],s);else for(s=0;s<u;++s)g[s]=b;function i(t,e){if(!l){for(l=new Array(u),o=0;o<u;++o)l[o]=[];for(o=0;o<c;++o){var n=k[o];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var i,r=l[s],o=-1,a=r.length;++o<a;)if(!isNaN(i=r[o][t]))return i;return Math.random()*e}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(t||(t=I.behavior.drag().origin(O).on("dragstart.force",wo).on("drag.force",e).on("dragend.force",xo)),!arguments.length)return t;this.on("mouseover.force",Co).on("mouseout.force",ko).call(t)},I.rebind(r,m,"on")};var So=20,_o=1,To=1/0;function Mo(t,e){return I.rebind(t,e,"sort","children","value"),(t.nodes=t).links=Po,t}function Do(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function Eo(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function $o(t){return t.children}function Ao(t){return t.value}function No(t,e){return e.value-t.value}function Po(t){return I.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}I.layout.hierarchy=function(){var s=No,l=$o,u=Ao;function c(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(o=l.call(c,e,e.depth))&&(r=o.length)){for(var r,o,a;0<=--r;)n.push(a=o[r]),a.parent=e,a.depth=e.depth+1;u&&(e.value=0),e.children=o}else u&&(e.value=+u.call(c,e,e.depth)||0),delete e.children;return Eo(t,function(t){var e,n;s&&(e=t.children)&&e.sort(s),u&&(n=t.parent)&&(n.value+=t.value)}),i}return c.sort=function(t){return arguments.length?(s=t,c):s},c.children=function(t){return arguments.length?(l=t,c):l},c.value=function(t){return arguments.length?(u=t,c):u},c.revalue=function(t){return u&&(Do(t,function(t){t.children&&(t.value=0)}),Eo(t,function(t){var e;t.children||(t.value=+u.call(c,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},c},I.layout.partition=function(){var i=I.layout.hierarchy(),r=[1,1];function e(t,e){var n=i.call(this,t,e);return function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,l,u=-1;for(i=e.value?i/e.value:0;++u<a;)t(s=o[u],n,l=s.value*i,r),n+=l}}(n[0],0,r[0],r[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,t(n[o]));return 1+i}(n[0])),n}return e.size=function(t){return arguments.length?(r=t,e):r},Mo(e,i)},I.layout.pie=function(){var f=Number,d=Io,p=0,g=_t,m=0;function v(n){var e,t=n.length,i=n.map(function(t,e){return+f.call(v,t,e)}),r=+("function"==typeof p?p.apply(this,arguments):p),o=("function"==typeof g?g.apply(this,arguments):g)-r,a=Math.min(Math.abs(o)/t,+("function"==typeof m?m.apply(this,arguments):m)),s=a*(o<0?-1:1),l=I.sum(i),u=l?(o-t*s)/l:0,c=I.range(t),h=[];return null!=d&&c.sort(d===Io?function(t,e){return i[e]-i[t]}:function(t,e){return d(n[t],n[e])}),c.forEach(function(t){h[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*u+s,padAngle:a}}),h}return v.value=function(t){return arguments.length?(f=t,v):f},v.sort=function(t){return arguments.length?(d=t,v):d},v.startAngle=function(t){return arguments.length?(p=t,v):p},v.endAngle=function(t){return arguments.length?(g=t,v):g},v.padAngle=function(t){return arguments.length?(m=t,v):m},v};var Io={};function Fo(t){return t.x}function Oo(t){return t.y}function Ro(t,e,n){t.y0=e,t.y=n}I.layout.stack=function(){var h=O,f=Ho,d=qo,p=Ro,g=Fo,m=Oo;function v(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return h.call(v,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[g.call(v,t,e),m.call(v,t,e)]})}),r=f.call(v,i,e);n=I.permute(n,r),i=I.permute(i,r);var o,a,s,l,u=d.call(v,i,e),c=n[0].length;for(s=0;s<c;++s)for(p.call(v,n[0][s],l=u[s],i[0][s][1]),a=1;a<o;++a)p.call(v,n[a][s],l+=i[a-1][s][1],i[a][s][1]);return t}return v.values=function(t){return arguments.length?(h=t,v):h},v.order=function(t){return arguments.length?(f="function"==typeof t?t:jo.get(t)||Ho,v):f},v.offset=function(t){return arguments.length?(d="function"==typeof t?t:Lo.get(t)||qo,v):d},v.x=function(t){return arguments.length?(g=t,v):g},v.y=function(t){return arguments.length?(m=t,v):m},v.out=function(t){return arguments.length?(p=t,v):p},v};var jo=I.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(Uo),o=t.map(zo),a=I.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,u=[],c=[];for(e=0;e<i;++e)n=a[e],s<l?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return I.range(t.length).reverse()},default:Ho}),Lo=I.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];s<i&&(s=i),a.push(i)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,r,o,a,s,l,u,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=l=u=0,n=1;n<f;++n){for(r=e=0;e<c;++e)r+=t[e][n][1];for(o=e=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=l-=r?o/r*s:0,l<u&&(u=l)}for(n=0;n<f;++n)d[n]-=u;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:qo});function Ho(t){return I.range(t.length)}function qo(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Uo(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function zo(t){return t.reduce(Wo,0)}function Wo(t,e){return t+e[1]}function Bo(t,e){return Vo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Vo(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function Go(t){return[I.min(t),I.max(t)]}function Yo(t,e){return t.value-e.value}function Xo(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Qo(t,e){(t._pack_next=e)._pack_prev=t}function Ko(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function Zo(t){if((e=t.children)&&(l=e.length)){var e,n,i,r,o,a,s,l,u=1/0,c=-1/0,h=1/0,f=-1/0;if(e.forEach(Jo),(n=e[0]).x=-n.r,n.y=0,b(n),1<l&&((i=e[1]).x=i.r,i.y=0,b(i),2<l))for(ea(n,i,r=e[2]),b(r),Xo(n,r),Xo(n._pack_prev=r,i),i=n._pack_next,o=3;o<l;o++){ea(n,i,r=e[o]);var d=0,p=1,g=1;for(a=i._pack_next;a!==i;a=a._pack_next,p++)if(Ko(a,r)){d=1;break}if(1==d)for(s=n._pack_prev;s!==a._pack_prev&&!Ko(s,r);s=s._pack_prev,g++);d?(p<g||p==g&&i.r<n.r?Qo(n,i=a):Qo(n=s,i),o--):(Xo(n,r),b(i=r))}var m=(u+c)/2,v=(h+f)/2,y=0;for(o=0;o<l;o++)(r=e[o]).x-=m,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=y,e.forEach(ta)}function b(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}}function Jo(t){t._pack_next=t._pack_prev=t}function ta(t){delete t._pack_next,delete t._pack_prev}function ea(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,l=.5+((i*=i)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function na(t,e){return t.parent==e.parent?1:2}function ia(t){var e=t.children;return e.length?e[0]:t.t}function ra(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function oa(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function aa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function sa(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function la(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ua(t){return t.rangeExtent?t.rangeExtent():la(t.range())}function ca(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function ha(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function fa(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:da}I.layout.histogram=function(){var h=!0,f=Number,d=Go,p=Bo;function n(t,e){for(var n,i,r=[],o=t.map(f,this),a=d.call(this,o,e),s=p.call(this,a,o,e),l=(e=-1,o.length),u=s.length-1,c=h?1:1/l;++e<u;)(n=r[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<u)for(e=-1;++e<l;)(i=o[e])>=a[0]&&i<=a[1]&&((n=r[I.bisect(s,i,1,u)-1]).y+=c,n.push(t[e]));return r}return n.value=function(t){return arguments.length?(f=t,n):f},n.range=function(t){return arguments.length?(d=ge(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return Vo(t,e)}:ge(e),n):p},n.frequency=function(t){return arguments.length?(h=!!t,n):h},n},I.layout.pack=function(){var l,u=I.layout.hierarchy().sort(Yo),c=0,h=[1,1];function e(t,e){var n=u.call(this,t,e),i=n[0],r=h[0],o=h[1],a=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(i.x=i.y=0,Eo(i,function(t){t.r=+a(t.value)}),Eo(i,Zo),c){var s=c*(l?1:Math.max(2*i.r/r,2*i.r/o))/2;Eo(i,function(t){t.r+=s}),Eo(i,Zo),Eo(i,function(t){t.r-=s})}return function t(e,n,i,r){var o=e.children;e.x=n+=r*e.x;e.y=i+=r*e.y;e.r*=r;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,i,r)}(i,r/2,o/2,l?1:1/Math.max(2*i.r/r,2*i.r/o)),n}return e.size=function(t){return arguments.length?(h=t,e):h},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(c=+t,e):c},Mo(e,u)},I.layout.tree=function(){var h=I.layout.hierarchy().sort(null).value(null),g=na,f=[1,1],d=null;function e(t,e){var n=h.call(this,t,e),i=n[0],r=function(t){var e,n={A:null,children:[t]},i=[n];for(;null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}(i);if(Eo(r,p),r.parent.m=-r.z,Do(r,m),d)Do(i,v);else{var o=i,a=i,s=i;Do(i,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var l=g(o,a)/2-o.x,u=f[0]/(a.x+g(a,o)/2+l),c=f[1]/(s.depth||1);Do(i,function(t){t.x=(t.x+l)*u,t.y=t.depth*c})}return n}function p(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){!function(t){var e,n=0,i=0,r=t.children,o=r.length;for(;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+g(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+g(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],l=r.m,u=o.m,c=a.m,h=s.m;a=ra(a),r=ia(r),a&&r;)s=ia(s),(o=ra(o)).a=t,0<(i=a.z+c-r.z-l+g(a._,r._))&&(oa((d=t,p=n,(f=a).a.parent===d.parent?f.a:p),t,i),l+=i,u+=i),c+=a.m,l+=r.m,h+=s.m,u+=o.m;a&&!ra(o)&&(o.t=a,o.m+=c-u),r&&!ia(s)&&(s.t=r,s.m+=l-h,n=t)}var f,d,p;return n}(t,i,t.parent.A||n[0])}function m(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function v(t){t.x*=f[0],t.y=t.depth*f[1]}return e.separation=function(t){return arguments.length?(g=t,e):g},e.size=function(t){return arguments.length?(d=null==(f=t)?v:null,e):d?null:f},e.nodeSize=function(t){return arguments.length?(d=null==(f=t)?null:v,e):d?f:null},Mo(e,h)},I.layout.cluster=function(){var c=I.layout.hierarchy().sort(null).value(null),h=na,f=[1,1],d=!1;function e(t,e){var r,n=c.call(this,t,e),i=n[0],o=0;Eo(i,function(t){var e,n,i=t.children;i&&i.length?(t.x=(n=i).reduce(function(t,e){return t+e.x},0)/n.length,t.y=(e=i,1+I.max(e,function(t){return t.y}))):(t.x=r?o+=h(t,r):0,t.y=0,r=t)});var a=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(i),s=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(i),l=a.x-h(a,s)/2,u=s.x+h(s,a)/2;return Eo(i,d?function(t){t.x=(t.x-i.x)*f[0],t.y=(i.y-t.y)*f[1]}:function(t){t.x=(t.x-l)/(u-l)*f[0],t.y=(1-(i.y?t.y/i.y:1))*f[1]}),n}return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(d=null==(f=t),e):d?null:f},e.nodeSize=function(t){return arguments.length?(d=null!=(f=t),e):d?f:null},Mo(e,c)},I.layout.treemap=function(){var i,r=I.layout.hierarchy(),c=Math.round,o=[1,1],a=null,h=aa,s=!1,f="squarify",l=.5*(1+Math.sqrt(5));function d(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function p(t){var e=t.children;if(e&&e.length){var n,i,r,o=h(t),a=[],s=e.slice(),l=1/0,u="slice"===f?o.dx:"dice"===f?o.dy:"slice-dice"===f?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(d(s,o.dx*o.dy/t.value),a.area=0;0<(r=s.length);)a.push(n=s[r-1]),a.area+=n.area,"squarify"!==f||(i=g(a,u))<=l?(s.pop(),l=i):(a.area-=a.pop().area,m(a,u,o,!1),u=Math.min(o.dx,o.dy),a.length=a.area=0,l=1/0);a.length&&(m(a,u,o,!0),a.length=a.area=0),e.forEach(p)}}function u(t){var e=t.children;if(e&&e.length){var n,i=h(t),r=e.slice(),o=[];for(d(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(m(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(u)}}function g(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*l/i,i/(e*o*l)):1/0}function m(t,e,n,i){var r,o=-1,a=t.length,s=n.x,l=n.y,u=e?c(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++o<a;)(r=t[o]).x=s,r.y=l,r.dy=u,s+=r.dx=Math.min(n.x+n.dx-s,u?c(r.area/u):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++o<a;)(r=t[o]).x=s,r.y=l,r.dx=u,l+=r.dy=Math.min(n.y+n.dy-l,u?c(r.area/u):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=u,n.dx-=u}}function v(t){var e=i||r(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=o[0],n.dy=o[1]):n.dx=n.dy=0,i&&r.revalue(n),d([n],n.dx*n.dy/n.value),(i?u:p)(n),s&&(i=e),e}return v.size=function(t){return arguments.length?(o=t,v):o},v.padding=function(n){if(!arguments.length)return a;function t(t){return sa(t,n)}var e;return h=null==(a=n)?aa:"function"==(e=typeof n)?function(t){var e=n.call(v,t,t.depth);return null==e?aa(t):sa(t,"number"==typeof e?[e,e,e,e]:e)}:("number"===e&&(n=[n,n,n,n]),t),v},v.round=function(t){return arguments.length?(c=t?Math.round:Number,v):c!=Number},v.sticky=function(t){return arguments.length?(s=t,i=null,v):s},v.ratio=function(t){return arguments.length?(l=t,v):l},v.mode=function(t){return arguments.length?(f=t+"",v):f},Mo(v,r)},I.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=I.random.normal.apply(I,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=I.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},I.scale={};var da={floor:O,ceil:O};function pa(n,t,e,i){var r=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)r.push(e(n[a-1],n[a])),o.push(i(t[a-1],t[a]));return function(t){var e=I.bisect(n,t,1,s)-1;return o[e](r[e](t))}}function ga(t,e){return I.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ma(t,e){return ha(t,fa(va(t,e)[2])),ha(t,fa(va(t,e)[2])),t}function va(t,e){null==e&&(e=10);var n=la(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ya(t,e){return I.range.apply(I,va(t,e))}function ba(t,e,n){var i,r,o,a=va(t,e);if(n){var s=Ee.exec(n);if(s.shift(),"s"===s[8]){var l=I.formatPrefix(Math.max(P(a[0]),P(a[1])));return s[7]||(s[7]="."+xa(l.scale(a[2]))),s[8]="f",n=I.format(s.join("")),function(t){return n(l.scale(t))+l.symbol}}s[7]||(s[7]="."+(i=s[8],o=xa((r=a)[2]),i in wa?Math.abs(o-xa(Math.max(P(r[0]),P(r[1]))))+ +("e"!==i):o-2*("%"===i))),n=s.join("")}else n=",."+xa(a[2])+"f";return I.format(n)}I.scale.linear=function(){return function t(n,i,r,o){var a,s;function e(){var t=2<Math.min(n.length,i.length)?pa:ca,e=o?vo:mo;return a=t(n,i,e,r),s=t(i,n,e,Yr),l}function l(t){return a(t)}l.invert=function(t){return s(t)};l.domain=function(t){return arguments.length?(n=t.map(Number),e()):n};l.range=function(t){return arguments.length?(i=t,e()):i};l.rangeRound=function(t){return l.range(t).interpolate(lo)};l.clamp=function(t){return arguments.length?(o=t,e()):o};l.interpolate=function(t){return arguments.length?(r=t,e()):r};l.ticks=function(t){return ya(n,t)};l.tickFormat=function(t,e){return ba(n,t,e)};l.nice=function(t){return ma(n,t),e()};l.copy=function(){return t(n,i,r,o)};return e()}([0,1],[0,1],Yr,!1)};var wa={s:1,g:1,p:1,r:1,e:1};function xa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}I.scale.log=function(){return function t(e,l,u,c){function h(t){return(u?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function f(t){return u?Math.pow(l,t):-Math.pow(l,-t)}function r(t){return e(h(t))}r.invert=function(t){return f(e.invert(t))};r.domain=function(t){return arguments.length?(u=0<=t[0],e.domain((c=t.map(Number)).map(h)),r):c};r.base=function(t){return arguments.length?(l=+t,e.domain(c.map(h)),r):l};r.nice=function(){var t=ha(c.map(h),u?Math:ka);return e.domain(t),c=t.map(f),r};r.ticks=function(){var t=la(c),e=[],n=t[0],i=t[1],r=Math.floor(h(n)),o=Math.ceil(h(i)),a=l%1?2:l;if(isFinite(o-r)){if(u){for(;r<o;r++)for(var s=1;s<a;s++)e.push(f(r)*s);e.push(f(r))}else for(e.push(f(r));r++<o;)for(var s=a-1;0<s;s--)e.push(f(r)*s);for(r=0;e[r]<n;r++);for(o=e.length;e[o-1]>i;o--);e=e.slice(r,o)}return e};r.tickFormat=function(t,n){if(!arguments.length)return Ca;arguments.length<2?n=Ca:"function"!=typeof n&&(n=I.format(n));var i=Math.max(1,l*t/r.ticks().length);return function(t){var e=t/f(Math.round(h(t)));return e*l<l-.5&&(e*=l),e<=i?n(t):""}};r.copy=function(){return t(e.copy(),l,u,c)};return ga(r,e)}(I.scale.linear().domain([0,1]),10,!0,[1,10])};var Ca=I.format(".0e"),ka={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Sa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}I.scale.pow=function(){return function t(e,n,i){var r=Sa(n),o=Sa(1/n);function a(t){return e(r(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),a):i};a.ticks=function(t){return ya(i,t)};a.tickFormat=function(t,e){return ba(i,t,e)};a.nice=function(t){return a.domain(ma(i,t))};a.exponent=function(t){return arguments.length?(r=Sa(n=t),o=Sa(1/n),e.domain(i.map(r)),a):n};a.copy=function(){return t(e.copy(),n,i)};return ga(a,e)}(I.scale.linear(),1,[0,1])},I.scale.sqrt=function(){return I.scale.pow().exponent(.5)},I.scale.ordinal=function(){return function t(s,l){var r,u,c;function h(t){return u[((r.get(t)||("range"===l.t?r.set(t,s.push(t)):NaN))-1)%u.length]}function f(e,n){return I.range(s.length).map(function(t){return e+n*t})}h.domain=function(t){if(!arguments.length)return s;s=[],r=new y;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,s.push(e));return h[l.t].apply(h,l.a)};h.range=function(t){return arguments.length?(u=t,c=0,l={t:"range",a:arguments},h):u};h.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+e);return u=f(n+r*e/2,r),c=0,l={t:"rangePoints",a:arguments},h};h.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+e)|0;return u=f(n+Math.round(r*e/2+(i-n-(s.length-1+e)*r)/2),r),c=0,l={t:"rangeRoundPoints",a:arguments},h};h.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],a=(o-r)/(s.length-e+2*n);return u=f(r+a*n,a),i&&u.reverse(),c=a*(1-e),l={t:"rangeBands",a:arguments},h};h.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],a=Math.floor((o-r)/(s.length-e+2*n));return u=f(r+Math.round((o-r-(s.length-e)*a)/2),a),i&&u.reverse(),c=Math.round(a*(1-e)),l={t:"rangeRoundBands",a:arguments},h};h.rangeBand=function(){return c};h.rangeExtent=function(){return la(l.a[0])};h.copy=function(){return t(s,l)};return h.domain(s)}([],{t:"range",a:[[]]})},I.scale.category10=function(){return I.scale.ordinal().range(_a)},I.scale.category20=function(){return I.scale.ordinal().range(Ta)},I.scale.category20b=function(){return I.scale.ordinal().range(Ma)},I.scale.category20c=function(){return I.scale.ordinal().range(Da)};var _a=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),Ta=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),Ma=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),Da=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);function Ea(){return 0}I.scale.quantile=function(){return function t(n,i){var r;function e(){var t=0,e=i.length;for(r=[];++t<e;)r[t-1]=I.quantile(n,t/e);return o}function o(t){if(!isNaN(t=+t))return i[I.bisect(r,t)]}o.domain=function(t){return arguments.length?(n=t.map(u).filter(c).sort(l),e()):n};o.range=function(t){return arguments.length?(i=t,e()):i};o.quantiles=function(){return r};o.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]};o.copy=function(){return t(n,i)};return e()}([],[])},I.scale.quantize=function(){return function t(e,n,i){var r,o;function a(t){return i[Math.max(0,Math.min(o,Math.floor(r*(t-e))))]}function s(){return r=i.length/(n-e),o=i.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(i=t,s()):i};a.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/r+e,t+1/r]};a.copy=function(){return t(e,n,i)};return s()}(0,1,[0,1])},I.scale.threshold=function(){return function t(e,n){function i(t){if(t<=t)return n[I.bisect(e,t)]}i.domain=function(t){return arguments.length?(e=t,i):e};i.range=function(t){return arguments.length?(n=t,i):n};i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};i.copy=function(){return t(e,n)};return i}([.5],[0,1])},I.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return ya(n,t)};e.tickFormat=function(t,e){return ba(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},I.svg={},I.svg.arc=function(){var j=Aa,L=Na,H=Ea,q=$a,U=Pa,z=Ia,W=Fa;function e(){var t=Math.max(0,+j.apply(this,arguments)),e=Math.max(0,+L.apply(this,arguments)),n=U.apply(this,arguments)-Mt,i=z.apply(this,arguments)-Mt,r=Math.abs(i-n),o=i<n?0:1;if(e<t&&(a=e,e=t,t=a),Tt<=r)return B(e,o)+(t?B(t,1-o):"")+"Z";var a,s,l,u,c,h,f,d,p,g,m,v,y=0,b=0,w=[];if((u=(+W.apply(this,arguments)||0)/2)&&(l=q===$a?Math.sqrt(t*t+e*e):+q.apply(this,arguments),o||(b*=-1),e&&(b=Pt(l/e*Math.sin(u))),t&&(y=Pt(l/t*Math.sin(u)))),e){c=e*Math.cos(n+b),h=e*Math.sin(n+b),f=e*Math.cos(i-b),d=e*Math.sin(i-b);var x=Math.abs(i-n-2*b)<=St?0:1;if(b&&Oa(c,h,f,d)===o^x){var C=(n+i)/2;c=e*Math.cos(C),h=e*Math.sin(C),f=d=null}}else c=h=0;if(t){p=t*Math.cos(i-y),g=t*Math.sin(i-y),m=t*Math.cos(n+y),v=t*Math.sin(n+y);var k=Math.abs(n-i+2*y)<=St?0:1;if(y&&Oa(p,g,m,v)===1-o^k){var S=(n+i)/2;p=t*Math.cos(S),g=t*Math.sin(S),m=v=null}}else p=g=0;if(Ct<r&&.001<(a=Math.min(Math.abs(e-t)/2,+H.apply(this,arguments)))){s=t<e^o?0:1;var _=a,T=a;if(r<St){var M=null==m?[p,g]:null==f?[c,h]:ar([c,h],[m,v],[f,d],[p,g]),D=c-M[0],E=h-M[1],$=f-M[0],A=d-M[1],N=1/Math.sin(Math.acos((D*$+E*A)/(Math.sqrt(D*D+E*E)*Math.sqrt($*$+A*A)))/2),P=Math.sqrt(M[0]*M[0]+M[1]*M[1]);T=Math.min(a,(t-P)/(N-1)),_=Math.min(a,(e-P)/(N+1))}if(null!=f){var I=Ra(null==m?[p,g]:[m,v],[c,h],e,_,o),F=Ra([f,d],[p,g],e,_,o);a===_?w.push("M",I[0],"A",_,",",_," 0 0,",s," ",I[1],"A",e,",",e," 0 ",1-o^Oa(I[1][0],I[1][1],F[1][0],F[1][1]),",",o," ",F[1],"A",_,",",_," 0 0,",s," ",F[0]):w.push("M",I[0],"A",_,",",_," 0 1,",s," ",F[0])}else w.push("M",c,",",h);if(null!=m){var O=Ra([c,h],[m,v],t,-T,o),R=Ra([p,g],null==f?[c,h]:[f,d],t,-T,o);a===T?w.push("L",R[0],"A",T,",",T," 0 0,",s," ",R[1],"A",t,",",t," 0 ",o^Oa(R[1][0],R[1][1],O[1][0],O[1][1]),",",1-o," ",O[1],"A",T,",",T," 0 0,",s," ",O[0]):w.push("L",R[0],"A",T,",",T," 0 0,",s," ",O[0])}else w.push("L",p,",",g)}else w.push("M",c,",",h),null!=f&&w.push("A",e,",",e," 0 ",x,",",o," ",f,",",d),w.push("L",p,",",g),null!=m&&w.push("A",t,",",t," 0 ",k,",",1-o," ",m,",",v);return w.push("Z"),w.join("")}function B(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return e.innerRadius=function(t){return arguments.length?(j=ge(t),e):j},e.outerRadius=function(t){return arguments.length?(L=ge(t),e):L},e.cornerRadius=function(t){return arguments.length?(H=ge(t),e):H},e.padRadius=function(t){return arguments.length?(q=t==$a?$a:ge(t),e):q},e.startAngle=function(t){return arguments.length?(U=ge(t),e):U},e.endAngle=function(t){return arguments.length?(z=ge(t),e):z},e.padAngle=function(t){return arguments.length?(W=ge(t),e):W},e.centroid=function(){var t=(+j.apply(this,arguments)+ +L.apply(this,arguments))/2,e=(+U.apply(this,arguments)+ +z.apply(this,arguments))/2-Mt;return[Math.cos(e)*t,Math.sin(e)*t]},e};var $a="auto";function Aa(t){return t.innerRadius}function Na(t){return t.outerRadius}function Pa(t){return t.startAngle}function Ia(t){return t.endAngle}function Fa(t){return t&&t.padAngle}function Oa(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function Ra(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,h=t[1]+u,f=e[0]+l,d=e[1]+u,p=(c+f)/2,g=(h+d)/2,m=f-c,v=d-h,y=m*m+v*v,b=n-i,w=c*d-f*h,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),C=(w*v-m*x)/y,k=(-w*m-v*x)/y,S=(w*v+m*x)/y,_=(-w*m+v*x)/y,T=C-p,M=k-g,D=S-p,E=_-g;return D*D+E*E<T*T+M*M&&(C=S,k=_),[[C-l,k-u],[C*n/b,k*n/b]]}function ja(u){var c=tr,h=er,f=Vn,d=Ha,e=d.key,p=.7;function n(t){var e,n=[],i=[],r=-1,o=t.length,a=ge(c),s=ge(h);function l(){n.push("M",d(u(i),p))}for(;++r<o;)f.call(this,e=t[r],r)?i.push([+a.call(this,e,r),+s.call(this,e,r)]):i.length&&(l(),i=[]);return i.length&&l(),n.length?n.join(""):null}return n.x=function(t){return arguments.length?(c=t,n):c},n.y=function(t){return arguments.length?(h=t,n):h},n.defined=function(t){return arguments.length?(f=t,n):f},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?d=t:(d=La.get(t)||Ha).key,n):e},n.tension=function(t){return arguments.length?(p=t,n):p},n}I.svg.line=function(){return ja(O)};var La=I.map({linear:Ha,"linear-closed":qa,step:function(t){var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];for(;++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);1<n&&r.push("H",i[0]);return r.join("")},"step-before":Ua,"step-after":za,basis:Va,"basis-open":function(t){if(t.length<4)return Ha(t);var e,n=[],i=-1,r=t.length,o=[0],a=[0];for(;++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);n.push(Ga(Qa,o)+","+Ga(Qa,a)),--i;for(;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ka(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];for(;++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);e=[Ga(Qa,a),",",Ga(Qa,s)],--i;for(;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ka(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*l);return Va(t)},cardinal:function(t,e){return t.length<3?Ha(t):t[0]+Wa(t,Ba(t,e))},"cardinal-open":function(t,e){return t.length<4?Ha(t):t[1]+Wa(t.slice(1,-1),Ba(t,e))},"cardinal-closed":function(t,e){return t.length<3?qa(t):t[0]+Wa((t.push(t[0]),t),Ba([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ha(t):t[0]+Wa(t,function(t){var e,n,i,r,o=[],a=function(t){var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Za(r,o);for(;++e<n;)i[e]=(a+(a=Za(r=o,o=t[e+1])))/2;return i[e]=a,i}(t),s=-1,l=t.length-1;for(;++s<l;)e=Za(t[s],t[s+1]),P(e)<Ct?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,9<(r=n*n+i*i)&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));s=-1;for(;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}(t))}});function Ha(t){return 1<t.length?t.join("L"):t+"Z"}function qa(t){return t.join("L")+"Z"}function Ua(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function za(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Wa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ha(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),1<e.length){s=e[1],o=t[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Ba(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Va(t){if(t.length<3)return Ha(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",Ga(Qa,a),",",Ga(Qa,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Ka(l,a,s);return t.pop(),l.push("L",i),l.join("")}function Ga(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}La.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ya=[0,2/3,1/3,0],Xa=[0,1/3,2/3,0],Qa=[0,1/6,2/3,1/6];function Ka(t,e,n){t.push("C",Ga(Ya,e),",",Ga(Ya,n),",",Ga(Xa,e),",",Ga(Xa,n),",",Ga(Qa,e),",",Ga(Qa,n))}function Za(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ja(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-Mt,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function ts(p){var g=tr,m=tr,v=0,y=er,b=Vn,w=Ha,e=w.key,x=w,C="L",k=.7;function n(t){var e,n,i,r=[],o=[],a=[],s=-1,l=t.length,u=ge(g),c=ge(v),h=g===m?function(){return n}:ge(m),f=v===y?function(){return i}:ge(y);function d(){r.push("M",w(p(a),k),C,x(p(o.reverse()),k),"Z")}for(;++s<l;)b.call(this,e=t[s],s)?(o.push([n=+u.call(this,e,s),i=+c.call(this,e,s)]),a.push([+h.call(this,e,s),+f.call(this,e,s)])):o.length&&(d(),o=[],a=[]);return o.length&&d(),r.length?r.join(""):null}return n.x=function(t){return arguments.length?(g=m=t,n):m},n.x0=function(t){return arguments.length?(g=t,n):g},n.x1=function(t){return arguments.length?(m=t,n):m},n.y=function(t){return arguments.length?(v=y=t,n):y},n.y0=function(t){return arguments.length?(v=t,n):v},n.y1=function(t){return arguments.length?(y=t,n):y},n.defined=function(t){return arguments.length?(b=t,n):b},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?w=t:(w=La.get(t)||Ha).key,x=w.reverse||w,C=w.closed?"M":"L",n):e},n.tension=function(t){return arguments.length?(k=t,n):k},n}function es(t){return t.radius}function ns(t){return[t.x,t.y]}function is(){return 64}function rs(){return"circle"}function os(t){var e=Math.sqrt(t/St);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}I.svg.line.radial=function(){var t=ja(Ja);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(Ua.reverse=za).reverse=Ua,I.svg.area=function(){return ts(O)},I.svg.area.radial=function(){var t=ts(Ja);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},I.svg.chord=function(){var a=Hi,s=qi,l=es,u=Pa,c=Ia;function e(t,e){var n,i,r=h(this,a,t,e),o=h(this,s,t,e);return"M"+r.p0+f(r.r,r.p1,r.a1-r.a0)+(i=o,(n=r).a0==i.a0&&n.a1==i.a1?d(r.r,r.p1,r.r,r.p0):d(r.r,r.p1,o.r,o.p0)+f(o.r,o.p1,o.a1-o.a0)+d(o.r,o.p1,r.r,r.p0))+"Z"}function h(t,e,n,i){var r=e.call(t,n,i),o=l.call(t,r,i),a=u.call(t,r,i)-Mt,s=c.call(t,r,i)-Mt;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function f(t,e,n){return"A"+t+","+t+" 0 "+ +(St<n)+",1 "+e}function d(t,e,n,i){return"Q 0,0 "+i}return e.radius=function(t){return arguments.length?(l=ge(t),e):l},e.source=function(t){return arguments.length?(a=ge(t),e):a},e.target=function(t){return arguments.length?(s=ge(t),e):s},e.startAngle=function(t){return arguments.length?(u=ge(t),e):u},e.endAngle=function(t){return arguments.length?(c=ge(t),e):c},e},I.svg.diagonal=function(){var a=Hi,s=qi,l=ns;function e(t,e){var n=a.call(this,t,e),i=s.call(this,t,e),r=(n.y+i.y)/2,o=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(o=o.map(l))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}return e.source=function(t){return arguments.length?(a=ge(t),e):a},e.target=function(t){return arguments.length?(s=ge(t),e):s},e.projection=function(t){return arguments.length?(l=t,e):l},e},I.svg.diagonal.radial=function(){var t=I.svg.diagonal(),e=ns,n=t.projection;return t.projection=function(t){return arguments.length?n((i=e=t,function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-Mt;return[e*Math.cos(n),e*Math.sin(n)]})):e;var i},t},I.svg.symbol=function(){var n=rs,i=is;function e(t,e){return(as.get(n.call(this,t,e))||os)(i.call(this,t,e))}return e.type=function(t){return arguments.length?(n=ge(t),e):n},e.size=function(t){return arguments.length?(i=ge(t),e):i},e};var as=I.map({circle:os,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ls)),n=e*ls;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});I.svg.symbolTypes=as.keys();var ss=Math.sqrt(3),ls=Math.tan(30*Dt);V.transition=function(t){for(var e,n,i=fs||++gs,r=ys(t),o=[],a=ds||{time:Date.now(),ease:io,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&bs(n,c,r,i,a),e.push(n)}return hs(o,r,i)},V.interrupt=function(t){return this.each(null==t?us:cs(ys(t)))};var us=cs(ys());function cs(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function hs(t,e,n){return q(t,ps),t.namespace=e,t.id=n,t}var fs,ds,ps=[],gs=0;function ms(t,i,r,o){var a=t.id,s=t.namespace;return ut(t,"function"==typeof r?function(t,e,n){t[s][a].tween.set(i,o(r.call(t,t.__data__,e,n)))}:(r=o(r),function(t){t[s][a].tween.set(i,r)}))}function vs(t){return null==t&&(t=""),function(){this.textContent=t}}function ys(t){return null==t?"__transition__":"__transition_"+t+"__"}function bs(o,a,r,s,t){var l,u,c,h,f,d=o[r]||(o[r]={active:0,count:0}),p=d[s];function n(t){var e=d.active,n=d[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--d.count,delete d[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),d)if(+i<s){var r=d[i];r.timer.c=null,r.timer.t=NaN,--d.count,delete d[i]}u.c=g,ke(function(){return u.c&&g(t||1)&&(u.c=null,u.t=NaN),1},0,l),d.active=s,p.event&&p.event.start.call(o,o.__data__,a),f=[],p.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&f.push(e)}),h=p.ease,c=p.duration}function g(t){for(var e=t/c,n=h(e),i=f.length;0<i;)f[--i].call(o,n);if(1<=e)return p.event&&p.event.end.call(o,o.__data__,a),--d.count?delete d[s]:delete o[r],1}p||(l=t.time,u=ke(function(t){var e=p.delay;if(u.t=e+l,e<=t)return n(t-e);u.c=n},0,l),p=d[s]={tween:new y,time:l,timer:u,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++d.count)}ps.call=V.call,ps.empty=V.empty,ps.node=V.node,ps.size=V.size,I.transition=function(t,e){return t&&t.transition?fs?t.transition(e):t:I.selection().transition(t)},(I.transition.prototype=ps).select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=G(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),bs(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return hs(a,o,r)},ps.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,l=[];t=Y(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],f=-1,d=h.length;++f<d;)if(i=h[f]){o=i[s][a],n=t.call(i,i.__data__,f,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&bs(r,p,s,a,o),e.push(r)}return hs(l,s,a)},ps.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=lt(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var a,s=0,l=(a=this[r]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return hs(i,this.namespace,this.id)},ps.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):ut(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},ps.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var i="transform"==t?go:Yr,r=I.ns.qualify(t);function o(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}return ms(this,"attr."+t,e,r.local?function(n){return null==n?a:(n+="",function(){var e,t=this.getAttributeNS(r.space,r.local);return t!==n&&(e=i(t,n),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(n){return null==n?o:(n+="",function(){var e,t=this.getAttribute(r);return t!==n&&(e=i(t,n),function(t){this.setAttribute(r,e(t))})})})},ps.attrTween=function(t,i){var r=I.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}:function(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}})},ps.style=function(i,t,r){var e=arguments.length;if(e<3){if("string"!=typeof i){for(r in e<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}function o(){this.style.removeProperty(i)}return ms(this,"style."+i,t,function(n){return null==n?o:(n+="",function(){var e,t=F(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=Yr(t,n),function(t){this.style.setProperty(i,e(t),r)})})})},ps.styleTween=function(i,r,o){return arguments.length<3&&(o=""),this.tween("style."+i,function(t,e){var n=r.call(this,t,e,F(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),o)}})},ps.text=function(t){return ms(this,"text",t,vs)},ps.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},ps.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=I.ease.apply(I,arguments)),ut(this,function(t){t[i][n].ease=e}))},ps.delay=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:ut(this,"function"==typeof i?function(t,e,n){t[o][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[o][r].delay=i}))},ps.duration=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:ut(this,"function"==typeof i?function(t,e,n){t[o][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[o][r].duration=i}))},ps.each=function(i,n){var r=this.id,o=this.namespace;if(arguments.length<2){var t=ds,e=fs;try{fs=r,ut(this,function(t,e,n){ds=t[o][r],i.call(t,t.__data__,e,n)})}finally{ds=t,fs=e}}else ut(this,function(t){var e=t[o][r];(e.event||(e.event=I.dispatch("start","end","interrupt"))).on(i,n)});return this},ps.transition=function(){for(var t,e,n,i=this.id,r=++gs,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var u,c=0,h=(u=this[s]).length;c<h;c++)(e=u[c])&&bs(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return hs(a,o,r)},I.svg.axis=function(){var T,M=I.scale.linear(),D=ws,E=6,$=6,A=3,N=[10],P=null;function n(t){t.each(function(){var t,e=I.select(this),n=this.__chart__||M,i=this.__chart__=M.copy(),r=null==P?i.ticks?i.ticks.apply(i,N):i.domain():P,o=null==T?i.tickFormat?i.tickFormat.apply(i,N):O:T,a=e.selectAll(".tick").data(r,i),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Ct),l=I.transition(a.exit()).style("opacity",Ct).remove(),u=I.transition(a.order()).style("opacity",1),c=Math.max(E,0)+A,h=ua(i),f=e.selectAll(".domain").data([0]),d=(f.enter().append("path").attr("class","domain"),I.transition(f));s.append("line"),s.append("text");var p,g,m,v,y=s.select("line"),b=u.select("line"),w=a.select("text").text(o),x=s.select("text"),C=u.select("text"),k="top"===D||"left"===D?-1:1;if("bottom"===D||"top"===D?(t=Cs,p="x",m="y",g="x2",v="y2",w.attr("dy",k<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+h[0]+","+k*$+"V0H"+h[1]+"V"+k*$)):(t=ks,p="y",m="x",g="y2",v="x2",w.attr("dy",".32em").style("text-anchor",k<0?"end":"start"),d.attr("d","M"+k*$+","+h[0]+"H0V"+h[1]+"H"+k*$)),y.attr(v,k*E),x.attr(m,k*c),b.attr(g,0).attr(v,k*E),C.attr(p,0).attr(m,k*c),i.rangeBand){var S=i,_=S.rangeBand()/2;n=i=function(t){return S(t)+_}}else n.rangeBand?n=i:l.call(t,i,n);s.call(t,n,i),u.call(t,i,i)})}return n.scale=function(t){return arguments.length?(M=t,n):M},n.orient=function(t){return arguments.length?(D=t in xs?t+"":ws,n):D},n.ticks=function(){return arguments.length?(N=f(arguments),n):N},n.tickValues=function(t){return arguments.length?(P=t,n):P},n.tickFormat=function(t){return arguments.length?(T=t,n):T},n.tickSize=function(t){var e=arguments.length;return e?(E=+t,$=+arguments[e-1],n):E},n.innerTickSize=function(t){return arguments.length?(E=+t,n):E},n.outerTickSize=function(t){return arguments.length?($=+t,n):$},n.tickPadding=function(t){return arguments.length?(A=+t,n):A},n.tickSubdivide=function(){return arguments.length&&n},n};var ws="bottom",xs={top:1,right:1,bottom:1,left:1};function Cs(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function ks(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}I.svg.brush=function(){var y,b,w=L(M,"brushstart","brush","brushend"),x=null,C=null,k=[0,0],S=[0,0],_=!0,T=!0,a=_s[0];function M(t){t.each(function(){var t=I.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(a,O);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ss[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",M.empty()?"none":null);var i,r=I.transition(t),o=I.transition(e);x&&(i=ua(x),o.attr("x",i[0]).attr("width",i[1]-i[0]),E(r)),C&&(i=ua(C),o.attr("y",i[0]).attr("height",i[1]-i[0]),$(r)),D(r)})}function D(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+k[+/e$/.test(t)]+","+S[+/^s/.test(t)]+")"})}function E(t){t.select(".extent").attr("x",k[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",k[1]-k[0])}function $(t){t.select(".extent").attr("y",S[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",S[1]-S[0])}function s(){var h,n,i=this,t=I.select(I.event.target),r=w.of(i,arguments),o=I.select(i),e=t.datum(),a=!/^(n|s)$/.test(e)&&x,s=!/^(e|w)$/.test(e)&&C,f=t.classed("extent"),l=yt(i),d=I.mouse(i),u=I.select(F(i)).on("keydown.brush",function(){32==I.event.keyCode&&(f||(h=null,d[0]-=k[1],d[1]-=S[1],f=2),R())}).on("keyup.brush",function(){32==I.event.keyCode&&2==f&&(d[0]+=k[1],d[1]+=S[1],f=0,R())});if(I.event.changedTouches?u.on("touchmove.brush",g).on("touchend.brush",v):u.on("mousemove.brush",g).on("mouseup.brush",v),o.interrupt().selectAll("*").interrupt(),f)d[0]=k[0]-d[0],d[1]=S[0]-d[1];else if(e){var c=+/w$/.test(e),p=+/^n/.test(e);n=[k[1-c]-d[0],S[1-p]-d[1]],d[0]=k[c],d[1]=S[p]}else I.event.altKey&&(h=d.slice());function g(){var t=I.mouse(i),e=!1;n&&(t[0]+=n[0],t[1]+=n[1]),f||(I.event.altKey?(h||(h=[(k[0]+k[1])/2,(S[0]+S[1])/2]),d[0]=k[+(t[0]<h[0])],d[1]=S[+(t[1]<h[1])]):h=null),a&&m(t,x,0)&&(E(o),e=!0),s&&m(t,C,1)&&($(o),e=!0),e&&(D(o),r({type:"brush",mode:f?"move":"resize"}))}function m(t,e,n){var i,r,o=ua(e),a=o[0],s=o[1],l=d[n],u=n?S:k,c=u[1]-u[0];if(f&&(a-=l,s-=c+l),i=(n?T:_)?Math.max(a,Math.min(s,t[n])):t[n],f?r=(i+=l)+c:(h&&(l=Math.max(a,Math.min(s,2*h[n]-i))),l<i?(r=i,i=l):r=l),u[0]!=i||u[1]!=r)return n?b=null:y=null,u[0]=i,u[1]=r,!0}function v(){g(),o.style("pointer-events","all").selectAll(".resize").style("display",M.empty()?"none":null),I.select("body").style("cursor",null),u.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l(),r({type:"brushend"})}o.style("pointer-events","none").selectAll(".resize").style("display",null),I.select("body").style("cursor",t.style("cursor")),r({type:"brushstart"}),g()}return M.event=function(t){t.each(function(){var i=w.of(this,arguments),r={x:k,y:S,i:y,j:b},t=this.__chart__||r;this.__chart__=r,fs?I.select(this).transition().each("start.brush",function(){y=t.i,b=t.j,k=t.x,S=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=Xr(k,r.x),n=Xr(S,r.y);return y=b=null,function(t){k=r.x=e(t),S=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=r.i,b=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},M.x=function(t){return arguments.length?(a=_s[!(x=t)<<1|!C],M):x},M.y=function(t){return arguments.length?(a=_s[!x<<1|!(C=t)],M):C},M.clamp=function(t){return arguments.length?(x&&C?(_=!!t[0],T=!!t[1]):x?_=!!t:C&&(T=!!t),M):x&&C?[_,T]:x?_:C?T:null},M.extent=function(t){var e,n,i,r,o;return arguments.length?(x&&(e=t[0],n=t[1],C&&(e=e[0],n=n[0]),y=[e,n],x.invert&&(e=x(e),n=x(n)),n<e&&(o=e,e=n,n=o),e==k[0]&&n==k[1]||(k=[e,n])),C&&(i=t[0],r=t[1],x&&(i=i[1],r=r[1]),b=[i,r],C.invert&&(i=C(i),r=C(r)),r<i&&(o=i,i=r,r=o),i==S[0]&&r==S[1]||(S=[i,r])),M):(x&&(y?(e=y[0],n=y[1]):(e=k[0],n=k[1],x.invert&&(e=x.invert(e),n=x.invert(n)),n<e&&(o=e,e=n,n=o))),C&&(b?(i=b[0],r=b[1]):(i=S[0],r=S[1],C.invert&&(i=C.invert(i),r=C.invert(r)),r<i&&(o=i,i=r,r=o))),x&&C?[[e,i],[n,r]]:x?[e,n]:C&&[i,r])},M.clear=function(){return M.empty()||(k=[0,0],S=[0,0],y=b=null),M},M.empty=function(){return!!x&&k[0]==k[1]||!!C&&S[0]==S[1]},I.rebind(M,w,"on")};var Ss={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_s=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ts=Ne.format=sn.timeFormat,Ms=Ts.utc,Ds=Ms("%Y-%m-%dT%H:%M:%S.%LZ");function Es(t){return t.toISOString()}function $s(e,r,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=I.bisect(Ns,n);return i==Ns.length?[r.year,va(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/Ns[i-1]<Ns[i]/n?i-1:i]:[Fs,va(t,e)[2]]}return a.invert=function(t){return As(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(As)},a.nice=function(e,n){var t=a.domain(),i=la(t),r=null==e?s(i,10):"number"==typeof e&&s(i,e);function o(t){return!isNaN(t)&&!e.range(t,As(+t+1),n).length}return r&&(e=r[0],n=r[1]),a.domain(ha(t,1<n?{floor:function(t){for(;o(t=e.floor(t));)t=As(t-1);return t},ceil:function(t){for(;o(t=e.ceil(t));)t=As(+t+1);return t}}:e))},a.ticks=function(t,e){var n=la(a.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],As(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return $s(e.copy(),r,t)},ga(a,e)}function As(t){return new Date(t)}Ts.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Es:Ds,Es.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Es.toString=Ds.toString,Ne.second=Oe(function(t){return new Pe(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ne.seconds=Ne.second.range,Ne.seconds.utc=Ne.second.utc.range,Ne.minute=Oe(function(t){return new Pe(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ne.minutes=Ne.minute.range,Ne.minutes.utc=Ne.minute.utc.range,Ne.hour=Oe(function(t){var e=t.getTimezoneOffset()/60;return new Pe(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ne.hours=Ne.hour.range,Ne.hours.utc=Ne.hour.utc.range,Ne.month=Oe(function(t){return(t=Ne.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ne.months=Ne.month.range,Ne.months.utc=Ne.month.utc.range;var Ns=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ps=[[Ne.second,1],[Ne.second,5],[Ne.second,15],[Ne.second,30],[Ne.minute,1],[Ne.minute,5],[Ne.minute,15],[Ne.minute,30],[Ne.hour,1],[Ne.hour,3],[Ne.hour,6],[Ne.hour,12],[Ne.day,1],[Ne.day,2],[Ne.week,1],[Ne.month,1],[Ne.month,3],[Ne.year,1]],Is=Ts.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Vn]]),Fs={range:function(t,e,n){return I.range(Math.ceil(t/n)*n,+e,n).map(As)},floor:O,ceil:O};Ps.year=Ne.year,Ne.scale=function(){return $s(I.scale.linear(),Ps,Is)};var Os=Ps.map(function(t){return[t[0].utc,t[1]]}),Rs=Ms.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Vn]]);function js(t){return JSON.parse(t.responseText)}function Ls(t){var e=b.createRange();return e.selectNode(b.body),e.createContextualFragment(t.responseText)}Os.year=Ne.year.utc,Ne.scale.utc=function(){return $s(I.scale.linear(),Os,Rs)},I.text=me(function(t){return t.responseText}),I.json=function(t,e){return ve(t,"application/json",js,e)},I.html=function(t,e){return ve(t,"text/html",Ls,e)},I.xml=me(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=I,define(I)):"object"==typeof module&&module.exports?module.exports=I:this.d3=I}(),g11n={strings:{},stringsPlural:{},legacy:"",debug:"",pluralFunction:"",loadLanguageStrings:function(t){for(var e in t)this.strings[e]=t[e]},loadPluralStrings:function(t){for(var e in t)this.stringsPlural[e]=t[e]},setPluralFunction:function(t){this.pluralFunction=t},translate:function(t){return this.debug?this.debugTranslate(t):(test=phpjs.md5(t),void 0!==this.strings[test]?phpjs.base64_decode(this.strings[test]):(test=phpjs.md5(t.toUpperCase()),"mixed"!=this.legacy&&this.legacy||void 0===this.strings[test]?t:phpjs.base64_decode(this.strings[test])))},translatePlural:function(t,e,n){return key=phpjs.md5(t),index=phpjs.call_user_func(this.pluralFunction,n),void 0!==this.stringsPlural[key]&&void 0!==this.stringsPlural[key][index]?phpjs.base64_decode(this.stringsPlural[key][index]):1==n?t:e},debugTranslate:function(t){if(test=selfhtml.MD5(t),void 0!==this.strings[test]){var e=phpjs.sprintf("Translated:\nO: %s\nT: %s",t,phpjs.base64_decode(this.strings[test])),n=this.log(e);return phpjs.sprintf(n,phpjs.base64_decode(this.strings[test]))}return"mixed"!=this.legacy&&this.legacy||(test=selfhtml.MD5(t.toUpperCase()),void 0===this.strings[test])?(n=this.log(phpjs.sprintf("Untranslated:\nO: %s",t),"warn"),this.log("","trace"),phpjs.sprintf(n,t)):(e=phpjs.sprintf("Legacy:\nO: %s\nT: %s",t,phpjs.base64_decode(this.strings[test])),n=this.log(e,"info"),phpjs.sprintf(n,phpjs.base64_decode(this.strings[test])))},log:function(t,e){var n="%s";switch(e){case"info":n="L-%s-L","undefined"!=typeof console&&console.info(t);break;case"warn":n="Â¿-%s-Â¿","undefined"!=typeof console&&(console.warn(t),console.log(phpjs.md5(t)));break;case"trace":"undefined"!=typeof console&&console.trace("Trace");break;case void 0:default:n="+-%s-+","undefined"!=typeof console&&console.log(t)}return n}};var phpjs={sprintf:function(){var b=arguments,w=0,t=b[w++],x=function(t,e,n,i){n||(n=" ");var r=t.length>=e?"":Array(1+e-t.length>>>0).join(n);return i?t+r:r+t},C=function(t,e,n,i,r,o){var a=i-t.length;return 0<a&&(t=n||!r?x(t,i,o,n):t.slice(0,e.length)+x("",a,"0",!0)+t.slice(e.length)),t},k=function(t,e,n,i,r,o,a){var s=t>>>0;return t=(n=n&&s&&{2:"0b",8:"0",16:"0x"}[e]||"")+x(s.toString(e),o||0,"0",!1),C(t,n,i,r,a)},S=function(t,e,n,i,r,o){return null!=i&&(t=t.slice(0,i)),C(t,"",e,n,r,o)};return t.replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,function(t,e,n,i,r,o,a){var s,l,u,c,h;if("%%"==t)return"%";for(var f=!1,d="",p=!1,g=!1,m=" ",v=n.length,y=0;n&&y<v;y++)switch(n.charAt(y)){case" ":d=" ";break;case"+":d="+";break;case"-":f=!0;break;case"'":m=n.charAt(y+1);break;case"0":p=!0;break;case"#":g=!0}if((i=i?"*"==i?+b[w++]:"*"==i.charAt(0)?+b[i.slice(1,-1)]:+i:0)<0&&(i=-i,f=!0),!isFinite(i))throw new Error("sprintf: (minimum-)width must be finite");switch(o=o?"*"==o?+b[w++]:"*"==o.charAt(0)?+b[o.slice(1,-1)]:+o:-1<"fFeE".indexOf(a)?6:"d"==a?0:void 0,h=e?b[e.slice(0,-1)]:b[w++],a){case"s":return S(String(h),f,i,o,p,m);case"c":return S(String.fromCharCode(+h),f,i,o,p);case"b":return k(h,2,g,f,i,o,p);case"o":return k(h,8,g,f,i,o,p);case"x":return k(h,16,g,f,i,o,p);case"X":return k(h,16,g,f,i,o,p).toUpperCase();case"u":return k(h,10,g,f,i,o,p);case"i":case"d":return h=(l=(s=parseInt(+h,10))<0?"-":d)+x(String(Math.abs(s)),o,"0",!1),C(h,l,f,i,p);case"e":case"E":case"f":case"F":case"g":case"G":return l=(s=+h)<0?"-":d,u=["toExponential","toFixed","toPrecision"]["efg".indexOf(a.toLowerCase())],c=["toString","toUpperCase"]["eEfFgG".indexOf(a)%2],h=l+Math.abs(s)[u](o),C(h,l,f,i,p)[c]();default:return t}})},call_user_func:function(cb){var func;if("string"==typeof cb?func="function"==typeof this[cb]?this[cb]:func=new Function(null,"return "+cb)():cb instanceof Array?func="string"==typeof cb[0]?eval(cb[0]+"['"+cb[1]+"']"):func=cb[0][cb[1]]:"function"==typeof cb&&(func=cb),"function"!=typeof func)throw new Error(func+" is not a valid function");var parameters=Array.prototype.slice.call(arguments,1);return"string"==typeof cb[0]?func.apply(eval(cb[0]),parameters):"object"!=typeof cb[0]?func.apply(null,parameters):func.apply(cb[0],parameters)},call_user_func_array:function(cb,parameters){var func;if("string"==typeof cb?func="function"==typeof this[cb]?this[cb]:func=new Function(null,"return "+cb)():cb instanceof Array?func="string"==typeof cb[0]?eval(cb[0]+"['"+cb[1]+"']"):func=cb[0][cb[1]]:"function"==typeof cb&&(func=cb),"function"!=typeof func)throw new Error(func+" is not a valid function");return"string"==typeof cb[0]?func.apply(eval(cb[0]),parameters):"object"!=typeof cb[0]?func.apply(null,parameters):func.apply(cb[0],parameters)},create_function:function(t,e){try{return Function.apply(null,t.split(",").concat(e))}catch(t){return!1}},addslashes:function(t){return(t+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(t){return(t+"").replace(/\\(.?)/g,function(t,e){switch(e){case"\\":return"\\";case"0":return"\0";case"":return"";default:return e}})},strpos:function(t,e,n){var i=(t+"").indexOf(e,n||0);return-1!==i&&i},md5:function(t){var e,n,i,r,o,a,s,l,u,c,h,f=function(t,e){return t<<e|t>>>32-e},d=function(t,e){var n,i,r,o,a;return r=2147483648&t,o=2147483648&e,a=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(i=1073741824&e)?2147483648^a^r^o:n|i?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o},p=function(t,e,n,i,r,o,a){var s;return t=d(t,d(d((s=e)&n|~s&i,r),a)),d(f(t,o),e)},g=function(t,e,n,i,r,o,a){var s;return t=d(t,d(d(e&(s=i)|n&~s,r),a)),d(f(t,o),e)},m=function(t,e,n,i,r,o,a){return t=d(t,d(d(e^n^i,r),a)),d(f(t,o),e)},v=function(t,e,n,i,r,o,a){return t=d(t,d(d(n^(e|~i),r),a)),d(f(t,o),e)},y=function(t){var e,n="",i="";for(e=0;e<=3;e++)n+=(i="0"+(t>>>8*e&255).toString(16)).substr(i.length-2,2);return n};for(l=1732584193,u=4023233417,c=2562383102,h=271733878,e=(n=function(t){for(var e,n=t.length,i=n+8,r=16*((i-i%64)/64+1),o=new Array(r-1),a=0,s=0;s<n;)a=s%4*8,o[e=(s-s%4)/4]=o[e]|t.charCodeAt(s)<<a,s++;return a=s%4*8,o[e=(s-s%4)/4]=o[e]|128<<a,o[r-2]=n<<3,o[r-1]=n>>>29,o}(t=this.utf8_encode(t))).length,i=0;i<e;i+=16)u=v(u=v(u=v(u=v(u=m(u=m(u=m(u=m(u=g(u=g(u=g(u=g(u=p(u=p(u=p(u=p(o=u,c=p(a=c,h=p(s=h,l=p(r=l,u,c,h,n[i+0],7,3614090360),u,c,n[i+1],12,3905402710),l,u,n[i+2],17,606105819),h,l,n[i+3],22,3250441966),c=p(c,h=p(h,l=p(l,u,c,h,n[i+4],7,4118548399),u,c,n[i+5],12,1200080426),l,u,n[i+6],17,2821735955),h,l,n[i+7],22,4249261313),c=p(c,h=p(h,l=p(l,u,c,h,n[i+8],7,1770035416),u,c,n[i+9],12,2336552879),l,u,n[i+10],17,4294925233),h,l,n[i+11],22,2304563134),c=p(c,h=p(h,l=p(l,u,c,h,n[i+12],7,1804603682),u,c,n[i+13],12,4254626195),l,u,n[i+14],17,2792965006),h,l,n[i+15],22,1236535329),c=g(c,h=g(h,l=g(l,u,c,h,n[i+1],5,4129170786),u,c,n[i+6],9,3225465664),l,u,n[i+11],14,643717713),h,l,n[i+0],20,3921069994),c=g(c,h=g(h,l=g(l,u,c,h,n[i+5],5,3593408605),u,c,n[i+10],9,38016083),l,u,n[i+15],14,3634488961),h,l,n[i+4],20,3889429448),c=g(c,h=g(h,l=g(l,u,c,h,n[i+9],5,568446438),u,c,n[i+14],9,3275163606),l,u,n[i+3],14,4107603335),h,l,n[i+8],20,1163531501),c=g(c,h=g(h,l=g(l,u,c,h,n[i+13],5,2850285829),u,c,n[i+2],9,4243563512),l,u,n[i+7],14,1735328473),h,l,n[i+12],20,2368359562),c=m(c,h=m(h,l=m(l,u,c,h,n[i+5],4,4294588738),u,c,n[i+8],11,2272392833),l,u,n[i+11],16,1839030562),h,l,n[i+14],23,4259657740),c=m(c,h=m(h,l=m(l,u,c,h,n[i+1],4,2763975236),u,c,n[i+4],11,1272893353),l,u,n[i+7],16,4139469664),h,l,n[i+10],23,3200236656),c=m(c,h=m(h,l=m(l,u,c,h,n[i+13],4,681279174),u,c,n[i+0],11,3936430074),l,u,n[i+3],16,3572445317),h,l,n[i+6],23,76029189),c=m(c,h=m(h,l=m(l,u,c,h,n[i+9],4,3654602809),u,c,n[i+12],11,3873151461),l,u,n[i+15],16,530742520),h,l,n[i+2],23,3299628645),c=v(c,h=v(h,l=v(l,u,c,h,n[i+0],6,4096336452),u,c,n[i+7],10,1126891415),l,u,n[i+14],15,2878612391),h,l,n[i+5],21,4237533241),c=v(c,h=v(h,l=v(l,u,c,h,n[i+12],6,1700485571),u,c,n[i+3],10,2399980690),l,u,n[i+10],15,4293915773),h,l,n[i+1],21,2240044497),c=v(c,h=v(h,l=v(l,u,c,h,n[i+8],6,1873313359),u,c,n[i+15],10,4264355552),l,u,n[i+6],15,2734768916),h,l,n[i+13],21,1309151649),c=v(c,h=v(h,l=v(l,u,c,h,n[i+4],6,4149444226),u,c,n[i+11],10,3174756917),l,u,n[i+2],15,718787259),h,l,n[i+9],21,3951481745),l=d(l,r),u=d(u,o),c=d(c,a),h=d(h,s);return(y(l)+y(u)+y(c)+y(h)).toLowerCase()},utf8_encode:function(t){var e,n,i,r=t+"",o="";e=n=0,i=r.length;for(var a=0;a<i;a++){var s=r.charCodeAt(a),l=null;s<128?n++:l=127<s&&s<2048?String.fromCharCode(s>>6|192)+String.fromCharCode(63&s|128):String.fromCharCode(s>>12|224)+String.fromCharCode(s>>6&63|128)+String.fromCharCode(63&s|128),null!==l&&(e<n&&(o+=r.substring(e,n)),o+=l,e=n=a+1)}return e<n&&(o+=r.substring(e,r.length)),o},utf8_decode:function(t){var e=[],n=0,i=0,r=0,o=0,a=0;for(t+="";n<t.length;)(r=t.charCodeAt(n))<128?(e[i++]=String.fromCharCode(r),n++):191<r&&r<224?(o=t.charCodeAt(n+1),e[i++]=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),a=t.charCodeAt(n+2),e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a),n+=3);return e.join("")},base64_encode:function(t){var e,n,i,r,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,l=0,u="",c=[];if(!t)return t;for(t=this.utf8_encode(t+"");e=(o=t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++))>>18&63,n=o>>12&63,i=o>>6&63,r=63&o,c[l++]=a.charAt(e)+a.charAt(n)+a.charAt(i)+a.charAt(r),s<t.length;);switch(u=c.join(""),t.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},base64_decode:function(t){var e,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,u=0,c="",h=[];if(!t)return t;for(t+="";e=(a=s.indexOf(t.charAt(l++))<<18|s.indexOf(t.charAt(l++))<<12|(r=s.indexOf(t.charAt(l++)))<<6|(o=s.indexOf(t.charAt(l++))))>>16&255,n=a>>8&255,i=255&a,h[u++]=64==r?String.fromCharCode(e):64==o?String.fromCharCode(e,n):String.fromCharCode(e,n,i),l<t.length;);return c=h.join(""),c=this.utf8_decode(c)},nl2br:function(t,e){return(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(e||void 0===e?"<br />":"<br>")+"$2")}},selfhtml={array:function(t){for(i=0;i<t;i++)this[i]=0;this.length=t},integer:function(t){return t%4294967296},shr:function(t,e){return t=this.integer(t),e=this.integer(e),0<=t-2147483648?(t%=2147483648,t>>=e,t+=1073741824>>e-1):t>>=e,t},shl1:function(t){return!0&(t%=2147483648)?(t-=1073741824,t*=2,t+=2147483648):t*=2,t},shl:function(t,e){t=this.integer(t),e=this.integer(e);for(var n=0;n<e;n++)t=this.shl1(t);return t},and:function(t,e){var n=(t=this.integer(t))-2147483648,i=(e=this.integer(e))-2147483648;return 0<=n?0<=i?2147483648+(n&i):n&e:0<=i?t&i:t&e},or:function(t,e){var n=(t=this.integer(t))-2147483648,i=(e=this.integer(e))-2147483648;return 0<=n?0<=i?2147483648+(n|i):2147483648+(n|e):0<=i?2147483648+(t|i):t|e},xor:function(t,e){var n=(t=this.integer(t))-2147483648,i=(e=this.integer(e))-2147483648;return 0<=n?0<=i?n^i:2147483648+(n^e):0<=i?2147483648+(t^i):t^e},not:function(t){return 4294967295-(t=this.integer(t))},state:new Array(4),count:[0,1],buffer:new Array(64),transformBuffer:new Array(16),digestBits:new Array(16),S11:7,S12:12,S13:17,S14:22,S21:5,S22:9,S23:14,S24:20,S31:4,S32:11,S33:16,S34:23,S41:6,S42:10,S43:15,S44:21,F:function(t,e,n){return this.or(this.and(t,e),this.and(this.not(t),n))},G:function(t,e,n){return this.or(this.and(t,n),this.and(e,this.not(n)))},H:function(t,e,n){return this.xor(this.xor(t,e),n)},I:function(t,e,n){return this.xor(e,this.or(t,this.not(n)))},rotateLeft:function(t,e){return this.or(this.shl(t,e),this.shr(t,32-e))},FF:function(t,e,n,i,r,o,a){return t=t+this.F(e,n,i)+r+a,t=this.rotateLeft(t,o),t+=e},GG:function(t,e,n,i,r,o,a){return t=t+this.G(e,n,i)+r+a,t=this.rotateLeft(t,o),t+=e},HH:function(t,e,n,i,r,o,a){return t=t+this.H(e,n,i)+r+a,t=this.rotateLeft(t,o),t+=e},II:function(t,e,n,i,r,o,a){return t=t+this.I(e,n,i)+r+a,t=this.rotateLeft(t,o),t+=e},transform:function(t,e){var n=0,r=0,o=0,a=0,s=this.transformBuffer;for(n=this.state[0],r=this.state[1],o=this.state[2],a=this.state[3],i=0;i<16;i++)for(s[i]=this.and(t[4*i+e],255),j=1;j<4;j++)s[i]+=this.shl(this.and(t[4*i+j+e],255),8*j);n=this.FF(n,r,o,a,s[0],this.S11,3614090360),a=this.FF(a,n,r,o,s[1],this.S12,3905402710),o=this.FF(o,a,n,r,s[2],this.S13,606105819),r=this.FF(r,o,a,n,s[3],this.S14,3250441966),n=this.FF(n,r,o,a,s[4],this.S11,4118548399),a=this.FF(a,n,r,o,s[5],this.S12,1200080426),o=this.FF(o,a,n,r,s[6],this.S13,2821735955),r=this.FF(r,o,a,n,s[7],this.S14,4249261313),n=this.FF(n,r,o,a,s[8],this.S11,1770035416),a=this.FF(a,n,r,o,s[9],this.S12,2336552879),o=this.FF(o,a,n,r,s[10],this.S13,4294925233),r=this.FF(r,o,a,n,s[11],this.S14,2304563134),n=this.FF(n,r,o,a,s[12],this.S11,1804603682),a=this.FF(a,n,r,o,s[13],this.S12,4254626195),o=this.FF(o,a,n,r,s[14],this.S13,2792965006),r=this.FF(r,o,a,n,s[15],this.S14,1236535329),n=this.GG(n,r,o,a,s[1],this.S21,4129170786),a=this.GG(a,n,r,o,s[6],this.S22,3225465664),o=this.GG(o,a,n,r,s[11],this.S23,643717713),r=this.GG(r,o,a,n,s[0],this.S24,3921069994),n=this.GG(n,r,o,a,s[5],this.S21,3593408605),a=this.GG(a,n,r,o,s[10],this.S22,38016083),o=this.GG(o,a,n,r,s[15],this.S23,3634488961),r=this.GG(r,o,a,n,s[4],this.S24,3889429448),n=this.GG(n,r,o,a,s[9],this.S21,568446438),a=this.GG(a,n,r,o,s[14],this.S22,3275163606),o=this.GG(o,a,n,r,s[3],this.S23,4107603335),r=this.GG(r,o,a,n,s[8],this.S24,1163531501),n=this.GG(n,r,o,a,s[13],this.S21,2850285829),a=this.GG(a,n,r,o,s[2],this.S22,4243563512),o=this.GG(o,a,n,r,s[7],this.S23,1735328473),r=this.GG(r,o,a,n,s[12],this.S24,2368359562),n=this.HH(n,r,o,a,s[5],this.S31,4294588738),a=this.HH(a,n,r,o,s[8],this.S32,2272392833),o=this.HH(o,a,n,r,s[11],this.S33,1839030562),r=this.HH(r,o,a,n,s[14],this.S34,4259657740),n=this.HH(n,r,o,a,s[1],this.S31,2763975236),a=this.HH(a,n,r,o,s[4],this.S32,1272893353),o=this.HH(o,a,n,r,s[7],this.S33,4139469664),r=this.HH(r,o,a,n,s[10],this.S34,3200236656),n=this.HH(n,r,o,a,s[13],this.S31,681279174),a=this.HH(a,n,r,o,s[0],this.S32,3936430074),o=this.HH(o,a,n,r,s[3],this.S33,3572445317),r=this.HH(r,o,a,n,s[6],this.S34,76029189),n=this.HH(n,r,o,a,s[9],this.S31,3654602809),a=this.HH(a,n,r,o,s[12],this.S32,3873151461),o=this.HH(o,a,n,r,s[15],this.S33,530742520),r=this.HH(r,o,a,n,s[2],this.S34,3299628645),n=this.II(n,r,o,a,s[0],this.S41,4096336452),a=this.II(a,n,r,o,s[7],this.S42,1126891415),o=this.II(o,a,n,r,s[14],this.S43,2878612391),r=this.II(r,o,a,n,s[5],this.S44,4237533241),n=this.II(n,r,o,a,s[12],this.S41,1700485571),a=this.II(a,n,r,o,s[3],this.S42,2399980690),o=this.II(o,a,n,r,s[10],this.S43,4293915773),r=this.II(r,o,a,n,s[1],this.S44,2240044497),n=this.II(n,r,o,a,s[8],this.S41,1873313359),a=this.II(a,n,r,o,s[15],this.S42,4264355552),o=this.II(o,a,n,r,s[6],this.S43,2734768916),r=this.II(r,o,a,n,s[13],this.S44,1309151649),n=this.II(n,r,o,a,s[4],this.S41,4149444226),a=this.II(a,n,r,o,s[11],this.S42,3174756917),o=this.II(o,a,n,r,s[2],this.S43,718787259),r=this.II(r,o,a,n,s[9],this.S44,3951481745),this.state[0]+=n,this.state[1]+=r,this.state[2]+=o,this.state[3]+=a},init:function(){for(this.count[0]=this.count[1]=0,this.state[0]=1732584193,this.state[1]=4023233417,this.state[2]=2562383102,this.state[3]=271733878,i=0;i<this.digestBits.length;i++)this.digestBits[i]=0},update:function(t){var e;e=this.and(this.shr(this.count[0],3),63),this.count[0]<4294967288||(this.count[1]++,this.count[0]-=4294967296),this.count[0]+=8,this.buffer[e]=this.and(t,255),63<=e&&this.transform(this.buffer,0)},finish:function(){var t,e,n,i=new Array(8),r=0;for(r=0;r<4;r++)i[r]=this.and(this.shr(this.count[0],8*r),255);for(r=0;r<4;r++)i[r+4]=this.and(this.shr(this.count[1],8*r),255);for(n=(e=this.and(this.shr(this.count[0],3),63))<56?56-e:120-e,(t=new Array(64))[0]=128,r=0;r<n;r++)this.update(t[r]);for(r=0;r<8;r++)this.update(i[r]);for(r=0;r<4;r++)for(j=0;j<4;j++)this.digestBits[4*r+j]=this.and(this.shr(this.state[r],8*j),255)},hexa:function(t){var e="",n=t;for(hexa_i=0;hexa_i<8;hexa_i++)e="0123456789abcdef".charAt(Math.abs(n)%16)+e,n=Math.floor(n/16);return e},ascii:"01234567890123456789012345678901 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",MD5:function(t){var e,n,r,o,a,s;for(this.init(),n=0;n<t.length;n++)e=t.charAt(n),this.update(this.ascii.lastIndexOf(e));for(this.finish(),r=o=a=s=0,i=0;i<4;i++)r+=this.shl(this.digestBits[15-i],8*i);for(i=4;i<8;i++)o+=this.shl(this.digestBits[15-i],8*(i-4));for(i=8;i<12;i++)a+=this.shl(this.digestBits[15-i],8*(i-8));for(i=12;i<16;i++)s+=this.shl(this.digestBits[15-i],8*(i-12));return this.hexa(s)+this.hexa(a)+this.hexa(o)+this.hexa(r)}};!function(s){var l=function(t,e,n){var i,r=n.colorCodeColor||((i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?.213*parseInt(i[1],16)/255+.715*parseInt(i[2],16)/255+.072*parseInt(i[3],16)/255<.5?"#FFF":"#000":"#FFF");t.data("color",e).css({color:r,textAlign:n.colorCodeAlign,backgroundColor:e}),!0===n.displayColorCode&&t.text(e)};s.fn.simpleColor=function(o){var a=this;return(o=s.extend({defaultColor:this.attr("defaultColor")||"#FFF",cellWidth:this.attr("cellWidth")||10,cellHeight:this.attr("cellHeight")||10,cellMargin:this.attr("cellMargin")||1,boxWidth:this.attr("boxWidth")||"115px",boxHeight:this.attr("boxHeight")||"20px",columns:this.attr("columns")||16,insert:this.attr("insert")||"after",colors:this.attr("colors")||["990033","ff3366","cc0033","ff0033","ff9999","cc3366","ffccff","cc6699","993366","660033","cc3399","ff99cc","ff66cc","ff99ff","ff6699","cc0066","ff0066","ff3399","ff0099","ff33cc","ff00cc","ff66ff","ff33ff","ff00ff","cc0099","990066","cc66cc","cc33cc","cc99ff","cc66ff","cc33ff","993399","cc00cc","cc00ff","9900cc","990099","cc99cc","996699","663366","660099","9933cc","660066","9900ff","9933ff","9966cc","330033","663399","6633cc","6600cc","9966ff","330066","6600ff","6633ff","ccccff","9999ff","9999cc","6666cc","6666ff","666699","333366","333399","330099","3300cc","3300ff","3333ff","3333cc","0066ff","0033ff","3366ff","3366cc","000066","000033","0000ff","000099","0033cc","0000cc","336699","0066cc","99ccff","6699ff","003366","6699cc","006699","3399cc","0099cc","66ccff","3399ff","003399","0099ff","33ccff","00ccff","99ffff","66ffff","33ffff","00ffff","00cccc","009999","669999","99cccc","ccffff","33cccc","66cccc","339999","336666","006666","003333","00ffcc","33ffcc","33cc99","00cc99","66ffcc","99ffcc","00ff99","339966","006633","336633","669966","66cc66","99ff99","66ff66","339933","99cc99","66ff99","33ff99","33cc66","00cc66","66cc99","009966","009933","33ff66","00ff66","ccffcc","ccff99","99ff66","99ff33","00ff33","33ff33","00cc33","33cc33","66ff33","00ff00","66cc33","006600","003300","009900","33ff00","66ff00","99ff00","66cc00","00cc00","33cc00","339900","99cc66","669933","99cc33","336600","669900","99cc00","ccff66","ccff33","ccff00","999900","cccc00","cccc33","333300","666600","999933","cccc66","666633","999966","cccc99","ffffcc","ffff99","ffff66","ffff33","ffff00","ffcc00","ffcc66","ffcc33","cc9933","996600","cc9900","ff9900","cc6600","993300","cc6633","663300","ff9966","ff6633","ff9933","ff6600","cc3300","996633","330000","663333","996666","cc9999","993333","cc6666","ffcccc","ff3333","cc3333","ff6666","660000","990000","cc0000","ff0000","ff3300","cc9966","ffcc99","ffffff","cccccc","999999","666666","333333","000000","000000","000000","000000","000000","000000","000000","000000","000000"],displayColorCode:this.attr("displayColorCode")||!1,colorCodeAlign:this.attr("colorCodeAlign")||"center",colorCodeColor:this.attr("colorCodeColor")||!1,hideInput:this.attr("hideInput")||!0,onSelect:null,onCellEnter:null,onClose:null,livePreview:!1},o||{})).totalWidth=o.columns*(o.cellWidth+2*o.cellMargin),o.chooserCSS=s.extend({border:"1px solid #000",margin:"0 0 0 5px",width:o.totalWidth,height:o.totalHeight,top:0,left:o.boxWidth,position:"absolute","background-color":"#fff"},o.chooserCSS||{}),o.displayCSS=s.extend({"background-color":o.defaultColor,border:"1px solid #000",width:o.boxWidth,height:o.boxHeight,"line-height":o.boxHeight+"px",cursor:"pointer"},o.displayCSS||{}),o.inputCSS=s.extend({},o.inputCSS||{}),o.hideInput?this.hide():this.css(o.inputCSS),-1!=navigator.userAgent.indexOf("MSIE")&&(o.totalWidth+=2),o.totalHeight=Math.ceil(o.colors.length/o.columns)*(o.cellHeight+2*o.cellMargin),s.simpleColorOptions=o,this.each(function(t){o=s.simpleColorOptions;var e=s("<div class='simpleColorContainer' />");e.css("position","relative");var n=this.value&&""!=this.value?this.value:o.defaultColor,r=s("<div class='simpleColorDisplay' />");r.css(o.displayCSS),l(r,n,o),e.append(r);var i={input:this,container:e,displayBox:r};r.bind("click",i,function(n){if(s("html").bind("click.simpleColorDisplay",function(t){s("html").unbind("click.simpleColorDisplay"),s(".simpleColorChooser").hide();var e=s(t.target);!1!==e.is(".simpleColorCell")&&!1!==s.contains(s(n.target).closest(".simpleColorContainer")[0],e[0])||l(r,r.data("color"),o),o.onClose&&o.onClose(a)}),n.data.container.chooser)n.data.container.chooser.toggle();else{var t=s("<div class='simpleColorChooser'/>");t.css(o.chooserCSS),n.data.container.chooser=t,n.data.container.append(t);for(var e=0;e<o.colors.length;e++){var i=s("<div class='simpleColorCell' id='"+o.colors[e]+"'/>");i.css({width:o.cellWidth+"px",height:o.cellHeight+"px",margin:o.cellMargin+"px",cursor:"pointer",lineHeight:o.cellHeight+"px",fontSize:"1px",float:"left","background-color":"#"+o.colors[e]}),t.append(i),(o.onCellEnter||o.livePreview)&&i.bind("mouseenter",function(t){o.onCellEnter&&o.onCellEnter(this.id,a),o.livePreview&&l(r,"#"+this.id,o)}),i.bind("click",{input:n.data.input,chooser:t,displayBox:r},function(t){var e="#"+this.id;t.data.input.value=e,s(t.data.input).change(),l(r,e,o),t.data.chooser.hide(),o.displayColorCode&&t.data.displayBox.text(e),o.onSelect&&o.onSelect(this.id,a)})}}}),s(this).after(e),s(this).data("container",e)}),s(".simpleColorDisplay").each(function(){s(this).click(function(t){t.stopPropagation()})}),this},s.fn.closeChooser=function(){return this.each(function(t){s(this).data("container").find(".simpleColorChooser").hide()}),this},s.fn.setColor=function(n){return this.each(function(t){var e=s(this).data("container").find(".simpleColorDisplay");l(e,n,options)}),this}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(i){var o,r={get:function(t){return a[o].get.apply(this,[t])},set:function(t,e){var n,i=parseInt(t),r=parseInt(e);return void 0===t?i=0:t<0&&(i=this[0].value.length+i),void 0!==e&&(n=0<=e?i+r:this[0].value.length+r),a[o].set.apply(this,[i,n]),this},setcursor:function(t){return this.textrange("set",t,0)},replace:function(t){return a[o].replace.apply(this,[String(t)]),this},insert:function(t){return this.textrange("replace",t)}},a={xul:{get:function(t){var e={position:this[0].selectionStart,start:this[0].selectionStart,end:this[0].selectionEnd,length:this[0].selectionEnd-this[0].selectionStart,text:this.val().substring(this[0].selectionStart,this[0].selectionEnd)};return void 0===t?e:e[t]},set:function(t,e){void 0===e&&(e=this[0].value.length),this[0].selectionStart=t,this[0].selectionEnd=e},replace:function(t){var e=this[0].selectionStart,n=this[0].selectionEnd,i=this.val();this.val(i.substring(0,e)+t+i.substring(n,i.length)),this[0].selectionStart=e,this[0].selectionEnd=e+t.length}},msie:{get:function(t){var e=document.selection.createRange();if(void 0===e){var n={position:0,start:0,end:this.val().length,length:this.val().length,text:this.val()};return void 0===t?n:n[t]}var i=0,r=0,o=this[0].value.length,a=this[0].value.replace(/\r\n/g,"\n"),s=this[0].createTextRange(),l=this[0].createTextRange();s.moveToBookmark(e.getBookmark()),l.collapse(!1),-1===s.compareEndPoints("StartToEnd",l)?(i=-s.moveStart("character",-o),i+=a.slice(0,i).split("\n").length-1,-1===s.compareEndPoints("EndToEnd",l)?(r=-s.moveEnd("character",-o),r+=a.slice(0,r).split("\n").length-1):r=o):r=i=o;n={position:i,start:i,end:r,length:o,text:e.text};return void 0===t?n:n[t]},set:function(t,e){var n=this[0].createTextRange();if(void 0!==n){void 0===e&&(e=this[0].value.length);var i=t-(this[0].value.slice(0,t).split("\r\n").length-1),r=e-(this[0].value.slice(0,e).split("\r\n").length-1);n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",i),n.select()}},replace:function(t){document.selection.createRange().text=t}}};i.fn.extend({textrange:function(t){var e="get",n={};return void 0===this[0]?this:("string"==typeof t?e=t:"object"==typeof t&&(e=t.method||e,n=t),void 0===o&&(o="selectionStart"in this[0]?"xul":document.selection?"msie":"unknown"),"unknown"===o?this:(n.nofocus||document.activeElement===this[0]||this[0].focus(),"function"==typeof r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):void i.error("Method "+e+" does not exist in jQuery.textrange")))}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(c){c.extend(c.fn,{validate:function(t){if(this.length){var i=c.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new c.validator(t,this[0]),c.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget,c(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(n){function t(){var t,e;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(t=c("<input type='hidden'/>").attr("name",i.submitButton.name).val(c(i.submitButton).val()).appendTo(i.currentForm)),!i.settings.submitHandler||(e=i.settings.submitHandler.call(i,i.currentForm,n),t&&t.remove(),void 0!==e&&e)}return i.settings.debug&&n.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,t()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):t():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,n;return c(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,e=c(this[0].form).validate(),this.each(function(){(t=e.element(this)&&t)||(n=n.concat(e.errorList))}),e.errorList=n),t},rules:function(t,e){var n,i,r,o,a,s,l=this[0];if(null!=l&&(!l.form&&l.hasAttribute("contenteditable")&&(l.form=this.closest("form")[0],l.name=this.attr("name")),null!=l.form)){if(t)switch(i=(n=c.data(l.form,"validator").settings).rules,r=c.validator.staticRules(l),t){case"add":c.extend(r,c.validator.normalizeRule(e)),delete r.messages,i[l.name]=r,e.messages&&(n.messages[l.name]=c.extend(n.messages[l.name],e.messages));break;case"remove":return e?(s={},c.each(e.split(/\s/),function(t,e){s[e]=r[e],delete r[e]}),s):(delete i[l.name],r)}return(o=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(a=o.required,delete o.required,o=c.extend({required:a},o)),o.remote&&(a=o.remote,delete o.remote,o=c.extend(o,{remote:a})),o}}}),c.extend(c.expr.pseudos||c.expr[":"],{blank:function(t){return!c.trim(""+c(t).val())},filled:function(t){var e=c(t).val();return null!==e&&!!c.trim(""+e)},unchecked:function(t){return!c(t).prop("checked")}}),c.validator=function(t,e){this.settings=c.extend(!0,{},c.validator.defaults,t),this.currentForm=e,this.init()},c.validator.format=function(n,t){return 1===arguments.length?function(){var t=c.makeArray(arguments);return t.unshift(n),c.validator.format.apply(this,t)}:(void 0===t||(2<arguments.length&&t.constructor!==Array&&(t=c.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),c.each(t,function(t,e){n=n.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),n)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==c.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,n){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(n):c(t).addClass(e).removeClass(n)},unhighlight:function(t,e,n){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(n):c(t).removeClass(e).addClass(n)}},setDefaults:function(t){c.extend(c.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name"));var e=c.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),i=e.settings;i[n]&&!c(this).is(i.ignore)&&i[n].call(e,this,t)}c.each(this.settings.groups,function(n,t){"string"==typeof t&&(t=t.split(/\s/)),c.each(t,function(t,e){i[e]=n})}),n=this.settings.rules,c.each(n,function(t,e){n[t]=c.validator.normalizeRule(e)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e,n,i=this.clean(t),r=this.validationTargetFor(i),o=this,a=!0;return void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=c(r),(n=this.groups[r.name])&&c.each(this.groups,function(t,e){e===n&&t!==r.name&&(i=o.validationTargetFor(o.clean(o.findByName(t))))&&i.name in o.invalid&&(o.currentElements.push(i),a=o.check(i)&&a)}),e=!1!==this.check(r),a=a&&e,this.invalid[r.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(t).attr("aria-invalid",!e)),a},showErrors:function(e){if(e){var n=this;c.extend(this.errorMap,e),this.errorList=c.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=c.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===c.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||c(this).attr("name");return!t&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=c(this).closest("form")[0],this.name=t),!(t in n||!e.objectLength(c(this).rules()))&&(n[t]=!0)})},clean:function(t){return c(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,n,i=c(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?t.validity.badInput?"NaN":i.val():(e=t.hasAttribute("contenteditable")?i.text():i.val(),"file"===r?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(n=e.lastIndexOf("/"))?e.substr(n+1):0<=(n=e.lastIndexOf("\\"))?e.substr(n+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(e){e=this.validationTargetFor(this.clean(e));var t,n,i,r,o=c(e).rules(),a=c.map(o,function(t,e){return e}).length,s=!1,l=this.elementValue(e);if("function"==typeof o.normalizer?r=o.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r){if("string"!=typeof(l=r.call(e,l)))throw new TypeError("The normalizer should return a string value.");delete o.normalizer}for(n in o){i={method:n,parameters:o[n]};try{if("dependency-mismatch"===(t=c.validator.methods[n].call(this,l,e,i.parameters))&&1===a){s=!0;continue}if(s=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,i),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+i.method+"' method."),t}}if(!s)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(t,e){return c(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||c(t).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){"string"==typeof e&&(e={method:e});var n=this.findDefined(this.customMessage(t.name,e.method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,c.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,e.parameters,t):i.test(n)&&(n=c.validator.format(n.replace(i,"{$1}"),e.parameters)),n},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var n,i,r,o,a=this.errorsFor(t),s=this.idOrName(t),l=c(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(e)):(n=a=c("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(n=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,c(t)):n.insertAfter(t),a.is("label")?a.attr("for",s):0===a.parents("label[for='"+this.escapeCssMeta(s)+"']").length&&(r=a.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(l+=" "+r):l=r,c(t).attr("aria-describedby",l),(i=this.groups[t.name])&&(o=this,c.each(o.groups,function(t,e){e===i&&c("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",a.attr("id"))})))),!e&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),n=c(t).attr("aria-describedby"),i="label[for='"+e+"'], label[for='"+e+"'] *";return n&&(i=i+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),c(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return c(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return c("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!c(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!c.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,c(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],c(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return e="string"==typeof e&&e||"remote",c.data(t,"previousValue")||c.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:c.extend(this.classRuleSettings,t)},classRules:function(t){var e={},n=c(t).attr("class");return n&&c.each(n.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(e,c.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,n,i){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(t){var e,n,i={},r=c(t),o=t.getAttribute("type");for(e in c.validator.methods)"required"===e?(""===(n=t.getAttribute(e))&&(n=!0),n=!!n):n=r.attr(e),this.normalizeAttributeRule(i,o,e,n);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var e,n,i={},r=c(t),o=t.getAttribute("type");for(e in c.validator.methods)n=r.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()),this.normalizeAttributeRule(i,o,e,n);return i},staticRules:function(t){var e={},n=c.data(t.form,"validator");return n.settings.rules&&(e=c.validator.normalizeRule(n.settings.rules[t.name])||{}),e},normalizeRules:function(i,r){return c.each(i,function(t,e){if(!1!==e){if(e.param||e.depends){var n=!0;switch(typeof e.depends){case"string":n=!!c(e.depends,r.form).length;break;case"function":n=e.depends.call(r,r)}n?i[t]=void 0===e.param||e.param:(c.data(r.form,"validator").resetElements(c(r)),delete i[t])}}else delete i[t]}),c.each(i,function(t,e){i[t]=c.isFunction(e)&&"normalizer"!==t?e(r):e}),c.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),c.each(["rangelength","range"],function(){var t;i[this]&&(c.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(t=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(t[0]),Number(t[1])]))}),c.validator.autoCreateRanges&&(null!=i.min&&null!=i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),null!=i.minlength&&null!=i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(t){if("string"==typeof t){var e={};c.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,n){c.validator.methods[t]=e,c.validator.messages[t]=void 0!==n?n:c.validator.messages[t],e.length<3&&c.validator.addClassRules(t,c.validator.normalizeRule(t))},methods:{required:function(t,e,n){if(!this.depend(n,e))return"dependency-mismatch";if("select"===e.nodeName.toLowerCase()){var i=c(e).val();return i&&0<i.length}return this.checkable(e)?0<this.getLength(t,e):0<t.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,n){var i=c.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n<=i},maxlength:function(t,e,n){var i=c.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i<=n},rangelength:function(t,e,n){var i=c.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i>=n[0]&&i<=n[1]},min:function(t,e,n){return this.optional(e)||n<=t},max:function(t,e,n){return this.optional(e)||t<=n},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(t,e,n){var i,r=c(e).attr("type"),o="Step attribute on input type "+r+" is not supported.",a=new RegExp("\\b"+r+"\\b"),s=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},l=function(t){return Math.round(t*Math.pow(10,i))},u=!0;if(r&&!a.test(["text","number","range"].join()))throw new Error(o);return i=s(n),(s(t)>i||l(t)%l(n)!=0)&&(u=!1),this.optional(e)||u},equalTo:function(t,e,n){var i=c(n);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(e).valid()}),t===i.val()},remote:function(o,a,t,s){if(this.optional(a))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var l,e,n,u=this.previousValue(a,s);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),u.originalMessage=u.originalMessage||this.settings.messages[a.name][s],this.settings.messages[a.name][s]=u.message,t="string"==typeof t&&{url:t}||t,n=c.param(c.extend({data:o},t.data)),u.old===n?u.valid:(u.old=n,(l=this).startRequest(a),(e={})[a.name]=o,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:e,context:l.currentForm,success:function(t){var e,n,i,r=!0===t||"true"===t;l.settings.messages[a.name][s]=u.originalMessage,r?(i=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(a),l.formSubmitted=i,l.successList.push(a),l.invalid[a.name]=!1,l.showErrors()):(e={},n=t||l.defaultMessage(a,{method:s,parameters:o}),e[a.name]=u.message=n,l.invalid[a.name]=!0,l.showErrors(e)),u.valid=r,l.stopRequest(a,r)}},t)),"pending")}}});var i,r={};return c.ajaxPrefilter?c.ajaxPrefilter(function(t,e,n){var i=t.port;"abort"===t.mode&&(r[i]&&r[i].abort(),r[i]=n)}):(i=c.ajax,c.ajax=function(t){var e=("mode"in t?t:c.ajaxSettings).mode,n=("port"in t?t:c.ajaxSettings).port;return"abort"===e?(r[n]&&r[n].abort(),r[n]=i.apply(this,arguments),r[n]):i.apply(this,arguments)}),c}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(d){var i,p,o;p={ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},i={beforeSave:function(t){return n.arrayToDefaultHash(t)},matcher:function(t,e,n,i){var r,o,a;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),r=decodeURI("%C3%80"),o=decodeURI("%C3%BF"),(a=new RegExp(t+"([A-Za-z"+r+"-"+o+"0-9_"+(i?" ":"")+"'.+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi").exec(e))?a[2]||a[1]:null},filter:function(t,e,n){var i,r,o,a;for(i=[],r=0,a=e.length;r<a;r++)o=e[r],~new String(o[n]).toLowerCase().indexOf(t.toLowerCase())&&i.push(o);return i},remoteFilter:null,sorter:function(t,e,n){var i,r,o,a;if(!t)return e;for(i=[],r=0,a=e.length;r<a;r++)(o=e[r]).atwho_order=new String(o[n]).toLowerCase().indexOf(t.toLowerCase()),-1<o.atwho_order&&i.push(o);return i.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,i){var e;e=t;try{return"string"!=typeof t&&(e=t(i)),e.replace(/\$\{([^\}]*)\}/g,function(t,e,n){return i[e]})}catch(t){return t,""}},highlighter:function(t,e){var n;return e?(n=new RegExp(">\\s*([^<]*?)("+e.replace("+","\\+")+")([^<]*)\\s*<","ig"),t.replace(n,function(t,e,n,i){return"> "+e+"<strong>"+n+"</strong>"+i+" <"})):t},beforeInsert:function(t,e,n){return t},beforeReposition:function(t){return t},afterMatchFailed:function(t,e){}},o=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=d(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var e;return null!=(e=this.$el)&&e.remove(),d(t.body).append(this.$el=d("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,e){var n;if(null==e&&(e=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(t){if(n=t,this.iframe=null,d.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+n)}}return this.createContainer((this.iframeAsRoot=e)?this.document:document)},t.prototype.controller=function(t){var e,n,i,r;if(this.aliasMaps[t])n=this.controllers[this.aliasMaps[t]];else for(i in r=this.controllers)if(e=r[i],i===t){n=e;break}return n||this.controllers[this.currentFlag]},t.prototype.setContextFor=function(t){return this.currentFlag=t,this},t.prototype.reg=function(t,e){var n,i;return i=(n=this.controllers)[t]||(n[t]=this.$inputor.is("[contentEditable]")?new u(this,t):new a(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),i.init(e),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",(l=this,function(t){var e;return null!=(e=l.controller())&&e.view.hide(),l.isComposing=!0,null})).on("compositionend",(s=this,function(t){return s.isComposing=!1,setTimeout(function(t){return s.dispatch(t)}),null})).on("keyup.atwhoInner",(a=this,function(t){return a.onKeyup(t)})).on("keydown.atwhoInner",(o=this,function(t){return o.onKeydown(t)})).on("blur.atwhoInner",(n=this,function(t){var e;if(e=n.controller())return e.expectedQueryCBId=null,e.view.hide(t,e.getOpt("displayTimeout"))})).on("click.atwhoInner",(e=this,function(t){return e.dispatch(t)})).on("scroll.atwhoInner",(i=(r=this).$inputor.scrollTop(),function(t){var e,n;return e=t.target.scrollTop,i!==e&&null!=(n=r.controller())&&n.view.hide(t),i=e,!0}));var i,r,e,n,o,a,s,l},t.prototype.shutdown=function(){var t,e;for(t in e=this.controllers)e[t].destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(t){var e,n,i,r;for(e in r=[],i=this.controllers)n=i[e],r.push(n.lookUp(t));return r},t.prototype.onKeyup=function(t){var e;switch(t.keyCode){case p.ESC:t.preventDefault(),null!=(e=this.controller())&&e.view.hide();break;case p.DOWN:case p.UP:case p.CTRL:case p.ENTER:d.noop();break;case p.P:case p.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var e,n;if((n=null!=(e=this.controller())?e.view:void 0)&&n.visible())switch(t.keyCode){case p.ESC:t.preventDefault(),n.hide(t);break;case p.UP:t.preventDefault(),n.prev();break;case p.DOWN:t.preventDefault(),n.next();break;case p.P:if(!t.ctrlKey)return;t.preventDefault(),n.prev();break;case p.N:if(!t.ctrlKey)return;t.preventDefault(),n.next();break;case p.TAB:case p.ENTER:case p.SPACE:if(!n.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===p.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===p.TAB)return;n.highlighted()?(t.preventDefault(),n.choose(t)):n.hide(t);break;default:d.noop()}},t}();var n,r=[].slice;n=function(){function t(t,e){this.app=t,this.at=e,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=d("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=d("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new c(this),this.view=new h(this)}return t.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},t.prototype.init=function(t){return this.setting=d.extend({},this.setting||d.fn.atwho.default,t),this.view.init(),this.model.reload(this.setting.data)},t.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},t.prototype.callDefault=function(){var t,e,n;n=arguments[0],t=2<=arguments.length?r.call(arguments,1):[];try{return i[n].apply(this,t)}catch(t){return e=t,d.error(e+" Or maybe At.js doesn't have function "+n)}},t.prototype.trigger=function(t,e){var n,i;return null==e&&(e=[]),e.push(this),i=(n=this.getOpt("alias"))?t+"-"+n+".atwho":t+".atwho",this.$inputor.trigger(i,e)},t.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||i[t]},t.prototype.getOpt=function(t,e){try{return this.setting[t]}catch(t){return t,null}},t.prototype.insertContentFor=function(t){var e,n;return n=this.getOpt("insertTpl"),e=d.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,n,e,"onInsert")},t.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},t.arrayToDefaultHash=function(t){var e,n,i,r;if(!d.isArray(t))return t;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],d.isPlainObject(n)?r.push(n):r.push({name:n});return r},t.prototype.lookUp=function(t){var e,n;if((!t||"click"!==t.type||this.getOpt("lookUpOnClick"))&&(!this.getOpt("suspendOnComposing")||!this.app.isComposing))return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(n=this.getOpt("delay"))?this._delayLookUp(e,n):this._lookUp(e)):this.expectedQueryCBId=null,e},t.prototype._delayLookUp=function(t,e){var n,i,r;return n=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=n),0<(i=e-(n-this.previousCallTime))&&i<e?(this.previousCallTime=n,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout((r=this,function(){return r.previousCallTime=0,r.delayedCallTimeout=null,r._lookUp(t)}),e)):(this._stopDelayedCall(),this.previousCallTime!==n&&(this.previousCallTime=0),this._lookUp(t))},t.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},t.prototype._generateQueryCBId=function(){return{}},t.prototype._lookUp=function(t){var e;return e=function(t,e){if(t===this.expectedQueryCBId)return e&&0<e.length?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,d.proxy(e,this,this.expectedQueryCBId))},t}();var a,s=function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,n),e.prototype.catchQuery=function(){var t,e,n,i,r,o,a;if(e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),a=e.slice(0,t),!((i="string"==typeof(r=this.callbacks("matcher").call(this,this.at,a,this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))))&&r.length<this.getOpt("minLen",0)))return i&&r.length<=this.getOpt("maxLen",20)?(n=(o=t-r.length)+r.length,r={text:r,headPos:this.pos=o,endPos:n},this.trigger("matched",[this.at,r.text])):(r=null,this.view.hide()),this.query=r},e.prototype.rect=function(){var t,e,n;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(e=d(this.app.iframe).offset(),t.left+=e.left,t.top+=e.top),n=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+n}},e.prototype.insert=function(t,e){var n,i,r,o,a;return a=""+(r=(i=(n=this.$inputor).val()).slice(0,Math.max(this.query.headPos-this.at.length,0)))+(t+=o=""===(o=this.getOpt("suffix"))?o:o||" ")+i.slice(this.query.endPos||0),n.val(a),n.caret("pos",r.length+t.length,{iframe:this.app.iframe}),n.is(":focus")||n.focus(),n.change()},e}();var u,c,h,f;s=function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,n),e.prototype._getRange=function(){var t;if(0<(t=this.app.window.getSelection()).rangeCount)return t.getRangeAt(0)},e.prototype._setRange=function(t,e,n){if(null==n&&(n=this._getRange()),n&&e)return e=d(e)[0],"after"===t?(n.setEndAfter(e),n.setStartAfter(e)):(n.setEndBefore(e),n.setStartBefore(e)),n.collapse(!1),this._clearRange(n)},e.prototype._clearRange=function(t){var e;if(null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed)return e.removeAllRanges(),e.addRange(t)},e.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===p.RIGHT||e===p.LEFT||e===p.UP||e===p.DOWN},e.prototype._unwrap=function(t){var e;return(e=(t=d(t).unwrap().get(0)).nextSibling)&&e.nodeValue&&(t.nodeValue+=e.nodeValue,d(e).remove()),t},e.prototype.catchQuery=function(t){var e,n,i,r,o,a,s,l,u,c,h,f;if((f=this._getRange())&&f.collapsed){if(t.which===p.ENTER)return(n=d(f.startContainer).closest(".atwho-query")).contents().unwrap(),n.is(":empty")&&n.remove(),(n=d(".atwho-query",this.app.document)).text(n.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(d(f.startContainer).is(this.$inputor))return void this._clearRange();t.which===p.BACKSPACE&&f.startContainer.nodeType===document.ELEMENT_NODE&&0<=(u=f.startOffset-1)?((i=f.cloneRange()).setStart(f.startContainer,u),d(i.cloneContents()).contents().last().is(".atwho-inserted")&&(o=d(f.startContainer).contents().get(u),this._setRange("after",d(o).contents().last()))):t.which===p.LEFT&&f.startContainer.nodeType===document.TEXT_NODE&&(e=d(f.startContainer.previousSibling)).is(".atwho-inserted")&&0===f.startOffset&&this._setRange("after",e.contents().last())}if(d(f.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),0<(n=d(".atwho-query",this.app.document)).length&&n.is(":empty")&&0===n.text().length&&n.remove(),this._movingEvent(t)||n.removeClass("atwho-inserted"),0<n.length)switch(t.which){case p.LEFT:return this._setRange("before",n.get(0),f),void n.removeClass("atwho-query");case p.RIGHT:return this._setRange("after",n.get(0).nextSibling,f),void n.removeClass("atwho-query")}if(0<n.length&&(h=n.attr("data-atwho-at-query"))&&(n.empty().html(h).attr("data-atwho-at-query",null),this._setRange("after",n.get(0),f)),(i=f.cloneRange()).setStart(f.startContainer,0),a="string"==typeof(l=this.callbacks("matcher").call(this,this.at,i.toString(),this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))),0===n.length&&a&&0<=(r=f.startOffset-this.at.length-l.length)&&(f.setStart(f.startContainer,r),n=d("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),f.surroundContents(n.get(0)),(s=n.contents().last().get(0))&&(/firefox/i.test(navigator.userAgent)?(f.setStart(s,s.length),f.setEnd(s,s.length),this._clearRange(f)):this._setRange("after",s,f))),!(a&&l.length<this.getOpt("minLen",0)))return a&&l.length<=this.getOpt("maxLen",20)?(c={text:l,el:n},this.trigger("matched",[this.at,c.text]),this.query=c):(this.view.hide(),this.query={el:n},0<=n.text().indexOf(this.at)&&(this._movingEvent(t)&&n.hasClass("atwho-inserted")?n.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,n)&&this._setRange("after",this._unwrap(n.text(n.text()).contents().first()))),null)}},e.prototype.rect=function(){var t,e;if((e=this.query.el.offset())&&this.query.el[0].getClientRects().length)return this.app.iframe&&!this.app.iframeAsRoot&&(t=d(this.app.iframe).offset(),e.left+=t.left-this.$inputor.scrollLeft(),e.top+=t.top-this.$inputor.scrollTop()),e.bottom=e.top+this.query.el.height(),e},e.prototype.insert=function(t,e){var n,i,r,o,a;return this.$inputor.is(":focus")||this.$inputor.focus(),(i=this.getOpt("functionOverrides")).insert?i.insert.call(this,t,e):(o=""===(o=this.getOpt("suffix"))?o:o||"Â ",n=e.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t).attr("data-atwho-at-query",""+n["atwho-at"]+this.query.text).attr("contenteditable","false"),(r=this._getRange())&&(this.query.el.length&&r.setEndAfter(this.query.el[0]),r.collapse(!1),r.insertNode(a=this.app.document.createTextNode(""+o)),this._setRange("after",a,r)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change())},e}(),c=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return 0<this.fetch()},t.prototype.query=function(t,e){var n,i,r;return i=this.fetch(),r=this.context.getOpt("searchKey"),i=this.context.callbacks("filter").call(this.context,t,i,r)||[],n=this.context.callbacks("remoteFilter"),0<i.length||!n&&0===i.length?e(i):n.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){return"string"==typeof t?d.ajax(t,{dataType:"json"}).done((e=this,function(t){return e.save(t)})):this.save(t);var e},t}(),h=function(){function t(t){this.context=t,this.$el=d("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.$elUl=this.$el.children(),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var t,e;return e=this.context.getOpt("alias")||this.context.at.charCodeAt(0),(t=this.context.getOpt("headerTpl"))&&1===this.$el.children().length&&this.$el.prepend(t),this.$el.attr({id:"at-view-"+e})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var n,i,r,e;return n=this.$el.find("ul"),r=i=0,n.on("mousemove.atwho-view","li",function(t){var e;if((i!==t.clientX||r!==t.clientY)&&(i=t.clientX,r=t.clientY,!(e=d(t.currentTarget)).hasClass("cur")))return n.find(".cur").removeClass("cur"),e.addClass("cur")}).on("click.atwho-view","li",(e=this,function(t){return n.find(".cur").removeClass("cur"),d(t.currentTarget).addClass("cur"),e.choose(t),t.preventDefault()}))},t.prototype.visible=function(){return d.expr.filters.visible(this.$el[0])},t.prototype.highlighted=function(){return 0<this.$el.find(".cur").length},t.prototype.choose=function(t){var e,n;if((e=this.$el.find(".cur")).length&&(n=this.context.insertContentFor(e),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,n,e,t),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},t.prototype.reposition=function(t){var e,n,i,r;return e=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-d(e).scrollTop()>d(e).height()&&(t.bottom=t.top-this.$el.height()),t.left>(i=d(e).width()-this.$el.width()-5)&&(t.left=i),n={left:t.left,top:t.bottom},null!=(r=this.context.callbacks("beforeReposition"))&&r.call(this.context,n),this.$el.offset(n),this.context.trigger("reposition",[n])},t.prototype.next=function(){var t,e,n;return(t=this.$el.find(".cur").removeClass("cur").next()).length||(t=this.$el.find("li:first")),t.addClass("cur"),n=(e=t[0]).offsetTop+e.offsetHeight+(e.nextSibling?e.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,n-this.$el.height()))},t.prototype.prev=function(){var t,e,n;return(e=this.$el.find(".cur").removeClass("cur").prev()).length||(e=this.$el.find("li:last")),e.addClass("cur"),t=(n=e[0]).offsetTop+n.offsetHeight+(n.nextSibling?n.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,t-this.$el.height()))},t.prototype.scrollTop=function(t){var e;return(e=this.context.getOpt("scrollDuration"))?this.$elUl.animate({scrollTop:t},e):this.$elUl.scrollTop(t)},t.prototype.show=function(){var t;if(!this.stopShowing)return this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0;this.stopShowing=!1},t.prototype.hide=function(t,e){var n,i;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(n=function(){return i.hide()},clearTimeout((i=this).timeoutID),this.timeoutID=setTimeout(n,e))},t.prototype.render=function(t){var e,n,i,r,o,a,s;if(d.isArray(t)&&0<t.length){for(this.$el.find("ul").empty(),n=this.$el.find("ul"),s=this.context.getOpt("displayTpl"),i=0,o=t.length;i<o;i++)r=t[i],r=d.extend({},r,{"atwho-at":this.context.at}),a=this.context.callbacks("tplEval").call(this.context,s,r,"onDisplay"),(e=d(this.context.callbacks("highlighter").call(this.context,a,this.context.query.text))).data("item-data",r),n.append(e);return this.show(),this.context.getOpt("highlightFirst")?n.find("li:first").addClass("cur"):void 0}this.hide()},t}(),f={load:function(t,e){var n;if(n=this.controller(t))return n.model.load(e)},isSelecting:function(){var t;return!!(null!=(t=this.controller())?t.view.visible():void 0)},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;if(t=this.controller())return t.view.reposition(t.rect())},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},d.fn.atwho=function(n){var i,r;return i=arguments,r=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var t,e;return(e=(t=d(this)).data("atwho"))||t.data("atwho",e=new o(this)),"object"!=typeof n&&n?f[n]&&e?r=f[n].apply(e,Array.prototype.slice.call(i,1)):d.error("Method "+n+" does not exist on jQuery.atwho"):e.reg(n.at,n)}),null!=r?r:this},d.fn.atwho.default={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",headerTpl:null,callbacks:i,functionOverrides:{},searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,acceptSpaceBar:!1,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},d.fn.atwho.debug=!1}),function($){$.fn.markItUp=function(settings,extraSettings){var method,params,options,ctrlKey,shiftKey,altKey;ctrlKey=shiftKey=altKey=!1,"string"==typeof settings&&(method=settings,params=extraSettings),options={id:"",nameSpace:"",root:"",previewHandler:!1,previewInWindow:"",previewInElement:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParser:!1,previewParserPath:"",previewParserVar:"data",previewParserAjaxType:"POST",resizeHandle:!0,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]},$.extend(options,settings,extraSettings),options.root||$("script").each(function(t,e){miuScript=$(e).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/),null!==miuScript&&(options.root=miuScript[1])});var uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},matched=uaMatch(navigator.userAgent),browser={};return matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),this.each(function(){var $$,textarea,levels,scrollPosition,caretPosition,caretOffset,clicked,hash,header,footer,previewWindow,template,iFrame,abort;if($$=$(this),textarea=this,levels=[],abort=!1,scrollPosition=caretPosition=0,caretOffset=-1,options.previewParserPath=localize(options.previewParserPath),options.previewTemplatePath=localize(options.previewTemplatePath),method)switch(method){case"remove":remove();break;case"insert":markup(params);break;default:$.error("Method "+method+" does not exist on jQuery.markItUp")}else init();function localize(t,e){return e?t.replace(/("|')~\//g,"$1"+options.root):t.replace(/^~\//,options.root)}function init(){id="",nameSpace="",options.id?id='id="'+options.id+'"':$$.attr("id")&&(id='id="markItUp'+$$.attr("id").substr(0,1).toUpperCase()+$$.attr("id").substr(1)+'"'),options.nameSpace&&(nameSpace='class="'+options.nameSpace+'"'),$$.wrap("<div "+nameSpace+"></div>"),$$.wrap("<div "+id+' class="markItUp"></div>'),$$.wrap('<div class="markItUpContainer"></div>'),$$.addClass("markItUpEditor"),header=$('<div class="markItUpHeader"></div>').insertBefore($$),$(dropMenus(options.markupSet)).appendTo(header),footer=$('<div class="markItUpFooter"></div>').insertAfter($$),!0===options.resizeHandle&&!0!==browser.safari&&(resizeHandle=$('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown.markItUp",function(t){var e,n,i=$$.height(),r=t.clientY;e=function(t){return $$.css("height",Math.max(20,t.clientY+i-r)+"px"),!1},n=function(t){return $("html").unbind("mousemove.markItUp",e).unbind("mouseup.markItUp",n),!1},$("html").bind("mousemove.markItUp",e).bind("mouseup.markItUp",n)}),footer.append(resizeHandle)),$$.bind("keydown.markItUp",keyPressed).bind("keyup",keyPressed),$$.bind("insertion.markItUp",function(t,e){!1!==e.target&&get(),textarea===$.markItUp.focused&&markup(e)}),$$.bind("focus.markItUp",function(){$.markItUp.focused=this}),options.previewInElement&&refreshPreview()}function dropMenus(markupSet){var ul=$("<ul></ul>"),i=0;return $("li:hover > ul",ul).css("display","block"),$.each(markupSet,function(){var button=this,t="",title,li,j;if(title=button.title?button.key?(button.title||"")+" [Ctrl+"+button.key+"]":button.title||"":button.key?(button.name||"")+" [Ctrl+"+button.key+"]":button.name||"",key=button.key?'accesskey="'+button.key+'"':"",button.separator)li=$('<li class="markItUpSeparator">'+(button.separator||"")+"</li>").appendTo(ul);else{for(i++,j=levels.length-1;0<=j;j--)t+=levels[j]+"-";li=$('<li class="markItUpButton markItUpButton'+t+i+" "+(button.className||"")+'"><a href="" '+key+' title="'+title+'">'+(button.name||"")+"</a></li>").bind("contextmenu.markItUp",function(){return!1}).bind("click.markItUp",function(t){t.preventDefault()}).bind("focusin.markItUp",function(){$$.focus()}).bind("mouseup",function(){return button.call&&eval(button.call)(),setTimeout(function(){markup(button)},1),!1}).bind("mouseenter.markItUp",function(){$("> ul",this).show(),$(document).one("click",function(){$("ul ul",header).hide()})}).bind("mouseleave.markItUp",function(){$("> ul",this).hide()}).appendTo(ul),button.dropMenu&&(levels.push(i),$(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu)))}}),levels.pop(),ul}function magicMarkups(t){return t?t=(t=(t=t.toString()).replace(/\(\!\(([\s\S]*?)\)\!\)/g,function(t,e){var n=e.split("|!|");return!0===altKey?void 0!==n[1]?n[1]:n[0]:void 0===n[1]?"":n[0]})).replace(/\[\!\[([\s\S]*?)\]\!\]/g,function(t,e){var n=e.split(":!:");return!0!==abort&&(value=prompt(n[0],n[1]?n[1]:""),null===value&&(abort=!0),value)}):""}function prepare(t){return $.isFunction(t)&&(t=t(hash)),magicMarkups(t)}function build(t){var e=prepare(clicked.openWith),n=prepare(clicked.placeHolder),i=prepare(clicked.replaceWith),r=prepare(clicked.closeWith),o=prepare(clicked.openBlockWith),a=prepare(clicked.closeBlockWith),s=clicked.multiline;if(""!==i)block=e+i+r;else if(""===selection&&""!==n)block=e+n+r;else{var l=[t=t||selection],u=[];!0===s&&(l=t.split(/\r?\n/));for(var c=0;c<l.length;c++){var h;line=l[c],(h=line.match(/ *$/))?u.push(e+line.replace(/ *$/g,"")+r+h):u.push(e+line+r)}block=u.join("\n")}return block=o+block+a,{block:block,openBlockWith:o,openWith:e,replaceWith:i,placeHolder:n,closeWith:r,closeBlockWith:a}}function markup(t){var e,n,i,r;if(hash=clicked=t,get(),$.extend(hash,{line:"",root:options.root,textarea:textarea,selection:selection||"",caretPosition:caretPosition,ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey}),prepare(options.beforeInsert),prepare(clicked.beforeInsert),(!0===ctrlKey&&!0===shiftKey||!0===t.multiline)&&prepare(clicked.beforeMultiInsert),$.extend(hash,{line:1}),!0===ctrlKey&&!0===shiftKey){for(lines=selection.split(/\r?\n/),n=0,i=lines.length,r=0;r<i;r++)""!==$.trim(lines[r])?($.extend(hash,{line:++n,selection:lines[r]}),lines[r]=build(lines[r]).block):lines[r]="";string={block:lines.join("\n")},start=caretPosition,e=string.block.length+(browser.opera?i-1:0)}else!0===ctrlKey?(string=build(selection),start=caretPosition+string.openWith.length,e=string.block.length-string.openWith.length-string.closeWith.length,e-=string.block.match(/ $/)?1:0,e-=fixIeBug(string.block)):!0===shiftKey?(string=build(selection),start=caretPosition,e=string.block.length,e-=fixIeBug(string.block)):(string=build(selection),start=caretPosition+string.block.length,e=0,start-=fixIeBug(string.block));""===selection&&""===string.replaceWith&&(caretOffset+=fixOperaBug(string.block),start=caretPosition+string.openBlockWith.length+string.openWith.length,e=string.block.length-string.openBlockWith.length-string.openWith.length-string.closeWith.length-string.closeBlockWith.length,caretOffset=$$.val().substring(caretPosition,$$.val().length).length,caretOffset-=fixOperaBug($$.val().substring(0,caretPosition))),$.extend(hash,{caretPosition:caretPosition,scrollPosition:scrollPosition}),string.block!==selection&&!1===abort?(insert(string.block),set(start,e)):caretOffset=-1,get(),$.extend(hash,{line:"",selection:selection}),(!0===ctrlKey&&!0===shiftKey||!0===t.multiline)&&prepare(clicked.afterMultiInsert),prepare(clicked.afterInsert),prepare(options.afterInsert),previewWindow&&options.previewAutoRefresh&&refreshPreview(),shiftKey=altKey=ctrlKey=abort=!1}function fixOperaBug(t){return browser.opera?t.length-t.replace(/\n*/g,"").length:0}function fixIeBug(t){return browser.msie?t.length-t.replace(/\r*/g,"").length:0}function insert(t){document.selection?document.selection.createRange().text=t:textarea.value=textarea.value.substring(0,caretPosition)+t+textarea.value.substring(caretPosition+selection.length,textarea.value.length)}function set(t,e){if(textarea.createTextRange){if(browser.opera&&9.5<=browser.version&&0==e)return!1;range=textarea.createTextRange(),range.collapse(!0),range.moveStart("character",t),range.moveEnd("character",e),range.select()}else textarea.setSelectionRange&&textarea.setSelectionRange(t,t+e);textarea.scrollTop=scrollPosition,textarea.focus()}function get(){if(textarea.focus(),scrollPosition=textarea.scrollTop,document.selection)if(selection=document.selection.createRange().text,browser.msie){var t=document.selection.createRange(),e=t.duplicate();for(e.moveToElementText(textarea),caretPosition=-1;e.inRange(t);)e.moveStart("character"),caretPosition++}else caretPosition=textarea.selectionStart;else caretPosition=textarea.selectionStart,selection=textarea.value.substring(caretPosition,textarea.selectionEnd);return selection}function preview(){"function"==typeof options.previewHandler?previewWindow=!0:options.previewInElement?previewWindow=$(options.previewInElement):!previewWindow||previewWindow.closed?options.previewInWindow?(previewWindow=window.open("","preview",options.previewInWindow),$(window).unload(function(){previewWindow.close()})):(iFrame=$('<iframe class="markItUpPreviewFrame"></iframe>'),"after"==options.previewPosition?iFrame.insertAfter(footer):iFrame.insertBefore(header),previewWindow=iFrame[iFrame.length-1].contentWindow||frame[iFrame.length-1]):!0===altKey&&(iFrame?iFrame.remove():previewWindow.close(),previewWindow=iFrame=!1),options.previewAutoRefresh||refreshPreview(),options.previewInWindow&&previewWindow.focus()}function refreshPreview(){renderPreview()}function renderPreview(){if(options.previewHandler&&"function"==typeof options.previewHandler)options.previewHandler($$.val());else if(options.previewParser&&"function"==typeof options.previewParser){writeInPreview(localize(options.previewParser($$.val()),1))}else""!==options.previewParserPath?$.ajax({type:options.previewParserAjaxType,dataType:"text",global:!1,url:options.previewParserPath,data:options.previewParserVar+"="+encodeURIComponent($$.val()),success:function(t){writeInPreview(localize(t,1))}}):template||$.ajax({url:options.previewTemplatePath,dataType:"text",global:!1,success:function(t){writeInPreview(localize(t,1).replace(/<!-- content -->/g,$$.val()))}});return!1}function writeInPreview(t){if(options.previewInElement)$(options.previewInElement).html(t);else if(previewWindow&&previewWindow.document){try{sp=previewWindow.document.documentElement.scrollTop}catch(t){sp=0}previewWindow.document.open(),previewWindow.document.write(t),previewWindow.document.close(),previewWindow.document.documentElement.scrollTop=sp}}function keyPressed(t){if(shiftKey=t.shiftKey,altKey=t.altKey,ctrlKey=(!t.altKey||!t.ctrlKey)&&(t.ctrlKey||t.metaKey),"keydown"===t.type){if(!0===ctrlKey&&(li=$('a[accesskey="'+(13==t.keyCode?"\\n":String.fromCharCode(t.keyCode))+'"]',header).parent("li"),0!==li.length))return ctrlKey=!1,setTimeout(function(){li.triggerHandler("mouseup")},1),!1;if(13===t.keyCode||10===t.keyCode)return!0===ctrlKey?(ctrlKey=!1,markup(options.onCtrlEnter),options.onCtrlEnter.keepDefault):!0===shiftKey?(shiftKey=!1,markup(options.onShiftEnter),options.onShiftEnter.keepDefault):(markup(options.onEnter),options.onEnter.keepDefault);if(9===t.keyCode)return 1!=shiftKey&&1!=ctrlKey&&1!=altKey&&(-1!==caretOffset?(get(),set(caretOffset=$$.val().length-caretOffset,0),!(caretOffset=-1)):(markup(options.onTab),options.onTab.keepDefault))}}function remove(){$$.unbind(".markItUp").removeClass("markItUpEditor"),$$.parent("div").parent("div.markItUp").parent("div").replaceWith($$);var t=$$.parent("div").parent("div.markItUp").parent("div");t.length&&t.replaceWith($$),$$.data("markItUp",null)}})},$.fn.markItUpRemove=function(){return this.each(function(){$(this).markItUp("remove")})},$.markItUp=function(t){var e={target:!1};if($.extend(e,t),e.target)return $(e.target).each(function(){$(this).focus(),$(this).trigger("insertion",[e])});$("textarea").trigger("insertion",[e])}}(jQuery),function(I,F,O,R){"use strict";I.fn.dropdown=function(v){var y,_=I(this),T=I(O),M=_.selector||"",D="ontouchstart"in O.documentElement,E=(new Date).getTime(),$=[],A=v,N="string"==typeof A,P=[].slice.call(arguments,1);return _.each(function(){var t,e,n,b,w=I.isPlainObject(v)?I.extend(!0,{},I.fn.dropdown.settings,v):I.extend({},I.fn.dropdown.settings),x=w.className,i=w.metadata,r=w.namespace,C=w.selector,s=w.error,o="."+r,a="module-"+r,l=I(this),u=l.find(C.text),c=l.find(C.search),h=l.find(C.input),f=0<l.prev().find(C.text).length?l.prev().find(C.text):l.prev(),k=l.children(C.menu),S=k.find(C.item),d=!1,p=!1,g=this,m=l.data(a);b={initialize:function(){b.debug("Initializing dropdown",w),b.is.alreadySetup()?b.setup.reference():(b.setup.layout(),b.save.defaults(),b.set.selected(),b.create.id(),D&&b.bind.touchEvents(),b.bind.mouseEvents(),b.bind.keyboardEvents(),b.observeChanges(),b.instantiate())},instantiate:function(){b.verbose("Storing instance of dropdown",b),m=b,l.data(a,b)},destroy:function(){b.verbose("Destroying previous dropdown for",l),b.remove.tabbable(),l.off(o).removeData(a),k.off(o),T.off(t)},observeChanges:function(){"MutationObserver"in F&&((n=new MutationObserver(function(t){b.is.selectMutation(t)?(b.debug("<select> modified, recreating menu"),b.setup.select()):(b.debug("DOM tree modified, updating selector cache"),b.refresh())})).observe(g,{childList:!0,subtree:!0}),b.debug("Setting up mutation observer",n))},create:{id:function(){e=(Math.random().toString(16)+"000000000").substr(2,8),t="."+e,b.verbose("Creating unique id for element",e)}},search:function(){var t;t=c.val(),b.verbose("Searching for query",t),b.filter(t),b.is.searchSelection()&&b.can.show()&&b.show()},setup:{layout:function(){l.is("select")&&b.setup.select(),b.is.search()&&!b.is.searchable()&&(c=I("<input />").addClass(x.search).insertBefore(u)),w.allowTab&&b.set.tabbable()},select:function(){var t=b.get.selectValues();b.debug("Dropdown initialized on a select",t),l.is("select")&&(h=l),0<h.parent(C.dropdown).length?(b.debug("UI dropdown already exists. Creating dropdown menu only"),l=h.closest(C.dropdown),0===(k=l.children(C.menu)).length&&(k=I("<div />").addClass(x.menu).appendTo(l)),k.html(w.templates.menu(t))):(b.debug("Creating entire dropdown from select"),l=I("<div />").attr("class",h.attr("class")).addClass(x.selection).addClass(x.dropdown).html(w.templates.dropdown(t)).insertBefore(h),h.removeAttr("class").prependTo(l)),b.refresh()},reference:function(){var t,e,n=_.index(l);b.debug("Dropdown behavior was called on select, replacing with closest dropdown"),l=l.parent(C.dropdown),b.refresh(),t=_.slice(0,n),e=_.slice(n+1),_=t.add(l).add(e),N&&(m=b).invoke(A)}},refresh:function(){b.verbose("Refreshing selector cache"),u=l.find(C.text),c=l.find(C.search),h=l.find(C.input),f=0<l.prev().find(C.text).length?l.prev().find(C.text):l.prev(),k=l.children(C.menu),S=k.find(C.item)},toggle:function(){b.verbose("Toggling menu visibility"),b.is.active()?b.hide():b.show()},show:function(t){t=I.isFunction(t)?t:function(){},b.is.searchSelection()&&b.is.allFiltered()||b.can.show()&&!b.is.active()&&(b.debug("Showing dropdown"),b.animate.show(function(){b.can.click()&&b.bind.intent(),b.set.visible(),t.call(g)}),w.onShow.call(g))},hide:function(t){t=I.isFunction(t)?t:function(){},b.is.active()&&(b.debug("Hiding dropdown"),b.animate.hide(function(){b.remove.visible(),t.call(g)}),w.onHide.call(g))},hideOthers:function(){b.verbose("Finding other dropdowns to hide"),_.not(l).has(C.menu+":visible:not(."+x.animating+")").dropdown("hide")},hideSubMenus:function(){k.find(C.menu).transition("hide")},bind:{keyboardEvents:function(){b.debug("Binding keyboard events"),l.on("keydown"+o,b.event.keydown),b.is.searchable()&&l.on(b.get.inputEvent(),C.search,b.event.input)},touchEvents:function(){b.debug("Touch device detected binding additional touch events"),b.is.searchSelection()||l.on("touchstart"+o,b.event.test.toggle),k.on("touchstart"+o,C.item,b.event.item.mouseenter)},mouseEvents:function(){b.verbose("Mouse detected binding mouse events"),b.is.searchSelection()?l.on("mousedown"+o,C.menu,b.event.menu.activate).on("mouseup"+o,C.menu,b.event.menu.deactivate).on("click"+o,C.search,b.show).on("focus"+o,C.search,b.event.searchFocus).on("blur"+o,C.search,b.event.searchBlur).on("click"+o,C.text,b.event.searchTextFocus):("click"==w.on?l.on("click"+o,b.event.test.toggle):"hover"==w.on?l.on("mouseenter"+o,b.delay.show).on("mouseleave"+o,b.delay.hide):l.on(w.on+o,b.toggle),l.on("mousedown"+o,b.event.mousedown).on("mouseup"+o,b.event.mouseup).on("focus"+o,b.event.focus).on("blur"+o,b.event.blur)),k.on("mouseenter"+o,C.item,b.event.item.mouseenter).on("mouseleave"+o,C.item,b.event.item.mouseleave).on("click"+o,C.item,b.event.item.click)},intent:function(){b.verbose("Binding hide intent event to document"),D&&T.on("touchstart"+t,b.event.test.touch).on("touchmove"+t,b.event.test.touch),T.on("click"+t,b.event.test.hide)}},unbind:{intent:function(){b.verbose("Removing hide intent event from document"),D&&T.off("touchstart"+t).off("touchmove"+t),T.off("click"+t)}},filter:function(t){var i=I(),e=b.escape.regExp(t),r=new RegExp("^"+e,"igm"),o=new RegExp(e,"ig");b.verbose("Searching for matching values"),S.each(function(){var t=I(this),e=String(b.get.choiceText(t,!1)),n=String(b.get.choiceValue(t,e));e.match(r)||n.match(r)?i=i.add(t):w.fullTextSearch&&(e.match(o)||n.match(o))&&(i=i.add(t))}),b.debug("Setting filter",t),b.remove.filteredItem(),S.not(i).addClass(x.filtered),b.verbose("Selecting first non-filtered element"),b.remove.selectedItem(),S.not("."+x.filtered).eq(0).addClass(x.selected),b.is.allFiltered()&&(b.debug("All items filtered, hiding dropdown",t),b.is.searchSelection()&&b.hide(),w.onNoResults.call(g,t))},focusSearch:function(){b.is.search()&&c.focus()},forceSelection:function(){var t=S.not(x.filtered).filter("."+x.selected).eq(0),e=S.filter("."+x.active).eq(0),n=0<t.length?t:e;0<n.size()?(b.event.item.click.call(n),b.remove.filteredItem()):b.hide()},event:{mousedown:function(){d=!0},mouseup:function(){d=!1},focus:function(){!d&&b.is.hidden()&&b.show()},blur:function(t){var e=O.activeElement===this;d||e||b.hide()},searchFocus:function(){d=!0,b.show()},searchBlur:function(t){var e=O.activeElement===this;p||e||(w.forceSelection?b.forceSelection():b.hide())},searchTextFocus:function(t){d=!0,c.focus()},input:function(t){b.is.searchSelection()&&b.set.filtered(),clearTimeout(b.timer),b.timer=setTimeout(b.search,w.delay.search)},keydown:function(t){var e,n=S.not(x.filtered).filter("."+x.selected).eq(0),i=k.children("."+x.active).eq(0),r=0<n.length?n:i,o=0<r.length?r.siblings(":not(."+x.filtered+")").andSelf():k.children(":not(."+x.filtered+")"),a=r.children(C.menu),s=r.closest(C.menu),l=s[0]!==k[0],u=s.is(":visible"),c=t.which,h=13,f=27,d=37,p=38,g=39,m=40,v=0<a.length,y=0<r.length;o.size();if(b.is.visible()){if(c==h&&y&&(v&&!w.allowCategorySelection?(b.verbose("Pressed enter on unselectable category, opening sub menu"),c=g):(b.verbose("Enter key pressed, choosing selected item"),b.event.item.click.call(r,t))),c==d&&l&&(b.verbose("Left key pressed, closing sub-menu"),b.animate.hide(!1,s),r.removeClass(x.selected),s.closest(C.item).addClass(x.selected),t.preventDefault()),c==g&&v&&(b.verbose("Right key pressed, opening sub-menu"),b.animate.show(!1,a),r.removeClass(x.selected),a.find(C.item).eq(0).addClass(x.selected),t.preventDefault()),c==p){if(e=y&&u?r.prevAll(C.item+":not(."+x.filtered+")").eq(0):S.eq(0),o.index(e)<0)return void b.verbose("Up key pressed but reached top of current menu");b.verbose("Up key pressed, changing active item"),r.removeClass(x.selected),e.addClass(x.selected),b.set.scrollPosition(e),t.preventDefault()}if(c==m){if(0===(e=y&&u?e=r.nextAll(C.item+":not(."+x.filtered+")").eq(0):S.eq(0)).length)return void b.verbose("Down key pressed but reached bottom of current menu");b.verbose("Down key pressed, changing active item"),S.removeClass(x.selected),e.addClass(x.selected),b.set.scrollPosition(e),t.preventDefault()}}else c==h&&(b.verbose("Enter key pressed, showing dropdown"),b.show()),c==f&&(b.verbose("Escape key pressed, closing dropdown"),b.hide()),c==m&&(b.verbose("Down key pressed, showing dropdown"),b.show())},test:{toggle:function(t){b.determine.eventInMenu(t,b.toggle)&&t.preventDefault()},touch:function(t){b.determine.eventInMenu(t,function(){"touchstart"==t.type?b.timer=setTimeout(b.hide,w.delay.touch):"touchmove"==t.type&&clearTimeout(b.timer)}),t.stopPropagation()},hide:function(t){b.determine.eventInModule(t,b.hide)}},menu:{activate:function(){p=!0},deactivate:function(){p=!1}},item:{mouseenter:function(t){var e=I(this).children(C.menu),n=I(this).siblings(C.item).children(C.menu);0<e.length&&(clearTimeout(b.itemTimer),b.itemTimer=setTimeout(function(){b.verbose("Showing sub-menu",e),I.each(n,function(){b.animate.hide(!1,I(this))}),b.animate.show(!1,e)},w.delay.show),t.preventDefault())},mouseleave:function(t){var e=I(this).children(C.menu);0<e.length&&(clearTimeout(b.itemTimer),b.itemTimer=setTimeout(function(){b.verbose("Hiding sub-menu",e),b.animate.hide(!1,e)},w.delay.hide))},click:function(t){var e=I(this),n=I(t?t.target:""),i=e.find(C.menu),r=b.get.choiceText(e),o=b.get.choiceValue(e,r),a=0<i.length;0<i.find(n).length||a&&!w.allowCategorySelection||(b.remove.searchTerm(),b.determine.selectAction(r,o))}},resetStyle:function(){I(this).removeAttr("style")}},determine:{selectAction:function(t,e){b.verbose("Determining action",w.action),I.isFunction(b.action[w.action])?(b.verbose("Triggering preset action",w.action,t,e),b.action[w.action](t,e)):I.isFunction(w.action)?(b.verbose("Triggering user action",w.action,t,e),w.action(t,e)):b.error(s.action,w.action)},eventInModule:function(t,e){return e=I.isFunction(e)?e:function(){},0===I(t.target).closest(l).length?(b.verbose("Triggering event",e),e(),!0):(b.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(t,e){return e=I.isFunction(e)?e:function(){},0===I(t.target).closest(k).length?(b.verbose("Triggering event",e),e(),!0):(b.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,e){e=e!==R?e:t,b.set.selected(e),b.hide(function(){b.remove.filteredItem()})},select:function(t,e){e=e!==R?e:t,b.set.selected(e),b.hide(function(){b.remove.filteredItem()})},combo:function(t,e){e=e!==R?e:t,b.set.selected(e),b.hide(function(){b.remove.filteredItem()})},hide:function(){b.hide(function(){b.remove.filteredItem()})}},get:{id:function(){return e},text:function(){return u.text()},value:function(){return 0<h.length?h.val():l.data(i.value)},choiceText:function(t,e){if(e=e!==R?e:w.preserveHTML,t!==R)return 0<t.find(C.menu).length&&(b.verbose("Retreiving text of element with sub-menu"),(t=t.clone()).find(C.menu).remove(),t.find(C.menuIcon).remove()),t.data(i.text)!==R?t.data(i.text):e?t.html().trim():t.text().trim()},choiceValue:function(t,e){return e=e||b.get.choiceText(t),t.data(i.value)!==R?t.data(i.value):"string"==typeof e?e.toLowerCase().trim():e.trim()},inputEvent:function(){var t=c[0];return!!t&&(t.oninput!==R?"input":t.onpropertychange!==R?"propertychange":"keyup")},selectValues:function(){var n={};return n.values=w.sortSelect?{}:[],l.find("option").each(function(){var t=I(this).html(),e=I(this).attr("value")!==R?I(this).attr("value"):t;""===e?n.placeholder=t:w.sortSelect?n.values[e]={name:t,value:e}:n.values.push({name:t,value:e})}),w.sortSelect?b.debug("Retrieved and sorted values from select",n):b.debug("Retreived values from select",n),n},activeItem:function(){return S.filter("."+x.active)},item:function(i,r){var o=!1;return i=i!==R?i:b.get.value()!==R?b.get.value():b.get.text(),r=""===i||0===i||(r||!1),i!==R?S.each(function(){var t=I(this),e=b.get.choiceText(t),n=b.get.choiceValue(t,e);if(r){if(b.verbose("Ambiguous dropdown value using strict type check",t,i),n===i)return o=I(this),!0;if(!o&&e===i)return o=I(this),!0}else{if(n==i)return b.verbose("Found select item by value",n,i),o=I(this),!0;if(!o&&e==i)return b.verbose("Found select item by text",e,i),o=I(this),!0}}):i=b.get.text(),o||!1}},restore:{defaults:function(){b.restore.defaultText(),b.restore.defaultValue()},defaultText:function(){var t=l.data(i.defaultText);b.debug("Restoring default text",t),b.set.text(t),u.addClass(x.placeholder)},defaultValue:function(){var t=l.data(i.defaultValue);t!==R&&(b.debug("Restoring default value",t),t.length?b.set.selected(t):(b.remove.activeItem(),b.remove.selectedItem()))}},save:{defaults:function(){b.save.defaultText(),b.save.placeholderText(),b.save.defaultValue()},defaultValue:function(){l.data(i.defaultValue,b.get.value())},defaultText:function(){l.data(i.defaultText,u.text())},placeholderText:function(){u.hasClass(x.placeholder)&&l.data(i.placeholderText,u.text())}},clear:function(){var t=l.data(i.placeholderText);b.set.text(t),b.set.value(""),b.remove.activeItem(),b.remove.selectedItem(),u.addClass(x.placeholder)},set:{filtered:function(){var t=c.val();"string"==typeof t&&0<t.length?u.addClass(x.filtered):u.removeClass(x.filtered)},tabbable:function(){b.is.searchable()?(b.debug("Searchable dropdown initialized"),c.val("").attr("tabindex",0),k.attr("tabindex","-1")):(b.debug("Simple selection dropdown initialized"),l.attr("tabindex")||(l.attr("tabindex",0),k.attr("tabindex","-1")))},scrollPosition:function(t,e){var n,i,r,o,a,s;n=(t=t||b.get.activeItem())&&0<t.length,e=e!==R&&e,t&&n&&(k.hasClass(x.visible)||k.addClass(x.loading),o=k.height(),t.height(),s=(r=k.scrollTop())+o<(i=r-k.offset().top+t.offset().top)+5,a=i-5<r,b.debug("Scrolling to active item",i),(a||s||e)&&k.scrollTop(i).removeClass(x.loading))},text:function(t){"combo"==w.action?(b.debug("Changing combo button text",t,f),w.preserveHTML?f.html(t):f.text(t)):"select"!==w.action&&(b.debug("Changing text",t,u),u.removeClass(x.filtered).removeClass(x.placeholder),w.preserveHTML?u.html(t):u.text(t))},value:function(t){b.debug("Adding selected value to hidden input",t,h),0<h.length?h.val(t).trigger("change"):l.data(i.value,t)},active:function(){l.addClass(x.active)},visible:function(){l.addClass(x.visible)},selected:function(t){var e,n,i=b.get.item(t);i&&!i.hasClass(x.active)&&(b.debug("Setting selected menu item to",i),b.remove.activeItem(),b.remove.selectedItem(),i.addClass(x.active).addClass(x.selected),e=b.get.choiceText(i),n=b.get.choiceValue(i,e),b.set.text(e),b.set.value(n),w.onChange.call(g,t,e,i))}},remove:{active:function(){l.removeClass(x.active)},visible:function(){l.removeClass(x.visible)},activeItem:function(){S.removeClass(x.active)},filteredItem:function(){S.removeClass(x.filtered)},searchTerm:function(){c.val("")},selectedItem:function(){S.removeClass(x.selected)},tabbable:function(){b.is.searchable()?(b.debug("Searchable dropdown initialized"),c.attr("tabindex","-1")):(b.debug("Simple selection dropdown initialized"),l.attr("tabindex","-1")),k.attr("tabindex","-1")}},is:{active:function(){return l.hasClass(x.active)},alreadySetup:function(){return l.is("select")&&0<l.parent(C.dropdown).length},animating:function(t){return t?t.is(":animated")||t.transition&&t.transition("is animating"):k.is(":animated")||k.transition&&k.transition("is animating")},allFiltered:function(){return S.filter("."+x.filtered).length===S.length},hidden:function(t){return t?t.is(":hidden"):k.is(":hidden")},selectMutation:function(t){var n=!1;return I.each(t,function(t,e){if(e.target&&I(e.target).is("select"))return n=!0}),n},search:function(){return l.hasClass(x.search)},searchable:function(){return 0<c.length},searchSelection:function(){return b.is.searchable()&&c.parent().is(l)},selection:function(){return l.hasClass(x.selection)},upward:function(){return l.hasClass(x.upward)},visible:function(t){return t?t.is(":visible"):k.is(":visible")}},can:{click:function(){return D||"click"==w.on},show:function(){return!l.hasClass(x.disabled)}},animate:{show:function(t,e){var n=e||k,i=e?function(){}:function(){b.hideSubMenus(),b.hideOthers(),b.set.active()};t=I.isFunction(t)?t:function(){},b.set.scrollPosition(b.get.activeItem(),!0),b.verbose("Doing menu show animation",n),(b.is.hidden(n)||b.is.animating(n))&&("auto"==w.transition&&(w.transition=b.is.upward()?"slide up":"slide down",b.verbose("Automatically determining animation based on animation direction",w.transition)),"none"==w.transition?t.call(g):I.fn.transition!==R&&l.transition("is supported")?n.transition({animation:w.transition+" in",debug:w.debug,verbose:w.verbose,duration:w.duration,queue:!0,onStart:i,onComplete:function(){t.call(g)}}):"slide down"==w.transition?(i(),n.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},w.duration,"easeOutQuad",b.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){b.event.resetStyle.call(this),t.call(g)})):"fade"==w.transition?(i(),n.hide().clearQueue().fadeIn(w.duration,function(){b.event.resetStyle.call(this),t.call(g)})):b.error(s.transition,w.transition))},hide:function(t,e){var n=e||k,i=(e?w.duration:w.duration,e?function(){}:function(){b.can.click()&&b.unbind.intent(),b.focusSearch(),b.remove.active()});t=I.isFunction(t)?t:function(){},(b.is.visible(n)||b.is.animating(n))&&(b.verbose("Doing menu hide animation",n),"auto"==w.transition&&(w.transition=b.is.upward()?"slide up":"slide down"),h.trigger("blur"),"none"==w.transition?t.call(g):I.fn.transition!==R&&l.transition("is supported")?n.transition({animation:w.transition+" out",duration:w.duration,debug:w.debug,verbose:w.verbose,queue:!0,onStart:i,onComplete:function(){t.call(g)}}):"slide down"==w.transition?(i(),n.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",b.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){b.event.resetStyle.call(this),t.call(g)})):"fade"==w.transition?(i(),n.show().clearQueue().fadeOut(150,function(){b.event.resetStyle.call(this),t.call(g)})):b.error(s.transition))}},delay:{show:function(){b.verbose("Delaying show event to ensure user intent"),clearTimeout(b.timer),b.timer=setTimeout(b.show,w.delay.show)},hide:function(){b.verbose("Delaying hide event to ensure user intent"),clearTimeout(b.timer),b.timer=setTimeout(b.hide,w.delay.hide)}},escape:{regExp:function(t){return(t=String(t)).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(t,e){if(b.debug("Changing setting",t,e),I.isPlainObject(t))I.extend(!0,w,t);else{if(e===R)return w[t];w[t]=e}},internal:function(t,e){if(I.isPlainObject(t))I.extend(!0,b,t);else{if(e===R)return b[t];b[t]=e}},debug:function(){w.debug&&(w.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,w.name+":"),b.debug.apply(console,arguments)))},verbose:function(){w.verbose&&w.debug&&(w.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,w.name+":"),b.error.apply(console,arguments)},performance:{log:function(t){var e,n;w.performance&&(n=(e=(new Date).getTime())-(E||e),E=e,$.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:g,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=w.name+":",n=0;E=!1,clearTimeout(b.performance.timer),I.each($,function(t,e){n+=e["Execution Time"]}),t+=" "+n+"ms",M&&(t+=" '"+M+"'"),(console.group!==R||console.table!==R)&&0<$.length&&(console.groupCollapsed(t),console.table?console.table($):I.each($,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),$=[]}},invoke:function(i,t,e){var r,o,n,a=m;return t=t||P,e=g||e,"string"==typeof i&&a!==R&&(i=i.split(/[\. ]/),r=i.length-1,I.each(i,function(t,e){var n=t!=r?e+i[t+1].charAt(0).toUpperCase()+i[t+1].slice(1):i;if(I.isPlainObject(a[n])&&t!=r)a=a[n];else{if(a[n]!==R)return o=a[n],!1;if(!I.isPlainObject(a[e])||t==r)return a[e]!==R?o=a[e]:b.error(s.method,i),!1;a=a[e]}})),I.isFunction(o)?n=o.apply(e,t):o!==R&&(n=o),I.isArray(y)?y.push(n):y!==R?y=[y,n]:n!==R&&(y=n),o}},N?(m===R&&b.initialize(),b.invoke(A)):(m!==R&&m.invoke("destroy"),b.initialize())}),y!==R?y:_},I.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},forceSelection:!0,transition:"auto",duration:250,onNoResults:function(t){},onChange:function(t,e){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},I.fn.dropdown.settings.templates={menu:function(t){t.placeholder,t.values;var n="";return I.each(t.values,function(t,e){n+='<div class="item" data-value="'+e.value+'">'+e.name+"</div>"}),n},dropdown:function(t){var e=t.placeholder||!1,n=(t.values,"");return n+='<i class="dropdown icon"></i>',t.placeholder?n+='<div class="default text">'+e+"</div>":n+='<div class="text"></div>',n+='<div class="menu">',I.each(t.values,function(t,e){n+='<div class="item" data-value="'+e.value+'">'+e.name+"</div>"}),n+="</div>"}},I.extend(I.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}})}(jQuery,window,document),function(C,t,k,S){"use strict";C.fn.transition=function(){var u,a=C(this),g=a.selector||"",m=(new Date).getTime(),v=[],y=arguments,b=y[0],w=[].slice.call(arguments,1),x="string"==typeof b;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return a.each(function(r){var c,s,e,h,n,i,f,t,o,d,p=C(this),l=this;(d={initialize:function(){c=d.get.settings.apply(l,y),h=c.className,e=c.error,n=c.metadata,o="."+c.namespace,t="module-"+c.namespace,s=p.data(t)||d,i=d.get.animationEndEvent(),f=d.get.animationName(),d.get.animationStartEvent(),x&&(x=d.invoke(b)),!1===x&&(d.verbose("Converted arguments into settings object",c),c.interval?d.delay(c.animate):d.animate(),d.instantiate())},instantiate:function(){d.verbose("Storing instance of module",d),s=d,p.data(t,s)},destroy:function(){d.verbose("Destroying previous module for",l),p.removeData(t)},refresh:function(){d.verbose("Refreshing display type on next animation"),delete d.displayType},forceRepaint:function(){d.verbose("Forcing element repaint");var t=p.parent(),e=p.next();0===e.length?p.detach().appendTo(t):p.detach().insertBefore(e)},repaint:function(){d.verbose("Repainting element");l.offsetWidth},delay:function(t){var e,n=!0===c.reverse,i="auto"==c.reverse&&d.get.direction()==h.outward;t=typeof t!==S?t:c.interval,e=n||i?(a.length-r)*c.interval:r*c.interval,d.debug("Delaying animation by",e),setTimeout(d.animate,e)},animate:function(t){if(c=t||c,!d.is.supported())return d.error(e.support),!1;if(d.debug("Preparing animation",c.animation),d.is.animating()){if(c.queue)return!c.allowRepeats&&d.has.direction()&&d.is.occurring()&&!0!==d.queuing?d.debug("Animation is currently occurring, preventing queueing same animation",c.animation):d.queue(c.animation),!1;if(!c.allowRepeats&&d.is.occurring())return d.debug("Animation is already occurring, will not execute repeated animation",c.animation),!1;d.debug("New animation started, completing previous early",c.animation),d.complete()}d.can.animate()?d.set.animating(c.animation):d.error(e.noAnimation,c.animation,l)},reset:function(){d.debug("Resetting animation to beginning conditions"),d.remove.animationCallbacks(),d.restore.conditions(),d.remove.animating()},queue:function(t){d.debug("Queueing animation of",t),d.queuing=!0,p.one(i+".queue"+o,function(){d.queuing=!1,d.repaint(),d.animate.apply(this,c)})},complete:function(t){d.debug("Animation complete",c.animation),d.remove.completeCallback(),d.remove.failSafe(),d.is.looping()||(d.is.outward()?(d.verbose("Animation is outward, hiding element"),d.restore.conditions(),d.hide(),c.onHide.call(this)):d.is.inward()?(d.verbose("Animation is outward, showing element"),d.restore.conditions(),d.show(),c.onShow.call(this)):d.restore.conditions(),d.remove.animation(),d.remove.animating()),c.onComplete.call(this)},has:{direction:function(t){var n=!1;return"string"==typeof(t=t||c.animation)&&(t=t.split(" "),C.each(t,function(t,e){e!==h.inward&&e!==h.outward||(n=!0)})),n},inlineDisplay:function(){var t=p.attr("style")||"";return C.isArray(t.match(/display.*?;/,""))}},set:{animating:function(t){t=t||c.animation,d.is.animating()||d.save.conditions(),d.remove.direction(),d.remove.completeCallback(),d.can.transition()&&!d.has.direction()&&d.set.direction(),d.remove.hidden(),d.set.display(),p.addClass(h.animating+" "+h.transition+" "+t).addClass(t).one(i+".complete"+o,d.complete),c.useFailSafe&&d.add.failSafe(),d.set.duration(c.duration),c.onStart.call(this),d.debug("Starting tween",t,p.attr("class"))},duration:function(t,e){((e="number"==typeof(e=e||c.duration)?e+"ms":e)||0===e)&&(d.verbose("Setting animation duration",e),p.css({"-webkit-animation-duration":e,"-moz-animation-duration":e,"-ms-animation-duration":e,"-o-animation-duration":e,"animation-duration":e}))},display:function(){var t=d.get.style(),e=d.get.displayType(),n=t+"display: "+e+" !important;";p.css("display",""),d.refresh(),p.css("display")!==e&&(d.verbose("Setting inline visibility to",e),p.attr("style",n))},direction:function(){p.is(":visible")&&!d.is.hidden()?(d.debug("Automatically determining the direction of animation","Outward"),p.removeClass(h.inward).addClass(h.outward)):(d.debug("Automatically determining the direction of animation","Inward"),p.removeClass(h.outward).addClass(h.inward))},looping:function(){d.debug("Transition set to loop"),p.addClass(h.looping)},hidden:function(){d.is.hidden()||p.addClass(h.transition).addClass(h.hidden),"none"!==p.css("display")&&(d.verbose("Overriding default display to hide element"),p.css("display","none"))},visible:function(){p.addClass(h.transition).addClass(h.visible)}},save:{displayType:function(t){p.data(n.displayType,t)},transitionExists:function(t,e){C.fn.transition.exists[t]=e,d.verbose("Saving existence of transition",t,e)},conditions:function(){p.attr("class"),p.attr("style");p.removeClass(c.animation),d.remove.direction(),d.cache={className:p.attr("class"),style:d.get.style()},d.verbose("Saving original attributes",d.cache)}},restore:{conditions:function(){if(d.cache===S)return!1;d.cache.className?p.attr("class",d.cache.className):p.removeAttr("class"),d.cache.style?(d.verbose("Restoring original style attribute",d.cache.style),p.attr("style",d.cache.style)):(d.verbose("Clearing style attribute"),p.removeAttr("style")),d.verbose("Restoring original attributes",d.cache)}},add:{failSafe:function(){var t=d.get.duration();d.timer=setTimeout(function(){p.trigger(i)},t+c.failSafeDelay),d.verbose("Adding fail safe timer",d.timer)}},remove:{animating:function(){p.removeClass(h.animating)},animation:function(){p.css({"-webkit-animation":"","-moz-animation":"","-ms-animation":"","-o-animation":"",animation:""})},animationCallbacks:function(){d.remove.queueCallback(),d.remove.completeCallback()},queueCallback:function(){p.off(".queue"+o)},completeCallback:function(){p.off(".complete"+o)},display:function(){p.css("display","")},direction:function(){p.removeClass(h.inward).removeClass(h.outward)},failSafe:function(){d.verbose("Removing fail safe timer",d.timer),d.timer&&clearTimeout(d.timer)},hidden:function(){p.removeClass(h.hidden)},visible:function(){p.removeClass(h.visible)},looping:function(){d.debug("Transitions are no longer looping"),d.is.looping()&&(d.reset(),p.removeClass(h.looping))},transition:function(){p.removeClass(h.visible).removeClass(h.hidden)}},get:{settings:function(t,e,n){return"object"==typeof t?C.extend(!0,{},C.fn.transition.settings,t):"function"==typeof n?C.extend({},C.fn.transition.settings,{animation:t,onComplete:n,duration:e}):"string"==typeof e||"number"==typeof e?C.extend({},C.fn.transition.settings,{animation:t,duration:e}):"object"==typeof e?C.extend({},C.fn.transition.settings,e,{animation:t}):"function"==typeof e?C.extend({},C.fn.transition.settings,{animation:t,onComplete:e}):C.extend({},C.fn.transition.settings,{animation:t})},direction:function(t){return"string"==typeof(t=t||c.animation)&&(t=t.split(" "),C.each(t,function(t,e){return e===h.inward?h.inward:e===h.outward?h.outward:void 0})),d.can.transition()?p.is(":visible")&&!d.is.hidden()?h.outward:h.inward:"static"},duration:function(t){return!1===(t=t||c.duration)&&(t=p.css("animation-duration")||0),"string"==typeof t?-1<t.indexOf("ms")?parseFloat(t):1e3*parseFloat(t):t},displayType:function(){return c.displayType?c.displayType:(p.data(n.displayType)===S&&d.can.transition(!0),p.data(n.displayType))},style:function(){return(p.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return C.fn.transition.exists[t]},animationName:function(){var t,e=k.createElement("div"),n={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(t in n)if(e.style[t]!==S)return n[t];return!1},animationStartEvent:function(){var t,e=k.createElement("div"),n={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(t in n)if(e.style[t]!==S)return n[t];return!1},animationEndEvent:function(){var t,e=k.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(t in n)if(e.style[t]!==S)return n[t];return!1}},can:{transition:function(t){var e,n,i,r,o,a=p.attr("class"),s=p.prop("tagName"),l=c.animation,u=d.get.transitionExists(l);if(u===S||t){if(d.verbose("Determining whether animation exists"),n=(e=C("<"+s+" />").addClass(a).insertAfter(p)).addClass(l).removeClass(h.inward).removeClass(h.outward).addClass(h.animating).addClass(h.transition).css(f),i=e.addClass(h.inward).css(f),o=e.attr("class",a).removeAttr("style").removeClass(h.hidden).removeClass(h.visible).show().css("display"),d.verbose("Determining final display state",o),d.save.displayType(o),e.remove(),n!=i)d.debug("Direction exists for animation",l),r=!0;else{if("none"==n||!n)return void d.debug("No animation defined in css",l);d.debug("Static animation found",l,o),r=!1}d.save.transitionExists(l,r)}return u!==S?u:r},animate:function(){return d.can.transition()!==S}},is:{animating:function(){return p.hasClass(h.animating)},inward:function(){return p.hasClass(h.inward)},outward:function(){return p.hasClass(h.outward)},looping:function(){return p.hasClass(h.looping)},occurring:function(t){return t="."+(t=t||c.animation).replace(" ","."),0<p.filter(t).length},visible:function(){return p.is(":visible")},hidden:function(){return"hidden"===p.css("visibility")},supported:function(){return!1!==f&&!1!==i}},hide:function(){d.verbose("Hiding element"),d.is.animating()&&d.reset(),d.remove.display(),d.remove.visible(),d.set.hidden(),d.repaint()},show:function(t){d.verbose("Showing element",t),d.remove.hidden(),d.set.visible(),d.set.display(),d.repaint()},toggle:function(){d.is.visible()?d.hide():d.show()},stop:function(){d.debug("Stopping current animation"),p.trigger(i)},stopAll:function(){d.debug("Stopping all animation"),d.remove.queueCallback(),p.trigger(i)},clear:{queue:function(){d.debug("Clearing animation queue"),d.remove.queueCallback()}},enable:function(){d.verbose("Starting animation"),p.removeClass(h.disabled)},disable:function(){d.debug("Stopping animation"),p.addClass(h.disabled)},setting:function(t,e){if(d.debug("Changing setting",t,e),C.isPlainObject(t))C.extend(!0,c,t);else{if(e===S)return c[t];c[t]=e}},internal:function(t,e){if(C.isPlainObject(t))C.extend(!0,d,t);else{if(e===S)return d[t];d[t]=e}},debug:function(){c.debug&&(c.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,c.name+":"),d.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,c.name+":"),d.error.apply(console,arguments)},performance:{log:function(t){var e,n;c.performance&&(n=(e=(new Date).getTime())-(m||e),m=e,v.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:l,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=c.name+":",n=0;m=!1,clearTimeout(d.performance.timer),C.each(v,function(t,e){n+=e["Execution Time"]}),t+=" "+n+"ms",g&&(t+=" '"+g+"'"),1<a.length&&(t+=" ("+a.length+")"),(console.group!==S||console.table!==S)&&0<v.length&&(console.groupCollapsed(t),console.table?console.table(v):C.each(v,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(i,t,e){var r,o,n,a=s;return t=t||w,e=l||e,"string"==typeof i&&a!==S&&(i=i.split(/[\. ]/),r=i.length-1,C.each(i,function(t,e){var n=t!=r?e+i[t+1].charAt(0).toUpperCase()+i[t+1].slice(1):i;if(C.isPlainObject(a[n])&&t!=r)a=a[n];else{if(a[n]!==S)return o=a[n],!1;if(!C.isPlainObject(a[e])||t==r)return a[e]!==S&&(o=a[e]),!1;a=a[e]}})),C.isFunction(o)?n=o.apply(e,t):o!==S&&(n=o),C.isArray(u)?u.push(n):u!==S?u=[u,n]:n!==S&&(u=n),o!==S&&o}}).initialize()}),u!==S?u:this},C.fn.transition.exists={},C.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(a,n,t,e){"use strict";var i=a.fn.twbsPagination,s=function(t,e){if(this.$element=a(t),this.options=a.extend({},a.fn.twbsPagination.defaults,e),this.options.startPage<1||this.options.startPage>this.options.totalPages)throw new Error("Start page option is incorrect");if(this.options.totalPages=parseInt(this.options.totalPages),isNaN(this.options.totalPages))throw new Error("Total pages option is not correct!");if(this.options.visiblePages=parseInt(this.options.visiblePages),isNaN(this.options.visiblePages))throw new Error("Visible pages option is not correct!");if(this.options.onPageClick instanceof Function&&this.$element.first().on("page",this.options.onPageClick),this.options.hideOnlyOnePage&&1==this.options.totalPages)return this.$element.trigger("page",1),this;this.options.totalPages<this.options.visiblePages&&(this.options.visiblePages=this.options.totalPages),this.options.href&&(this.options.startPage=this.getPageFromQueryString(),this.options.startPage||(this.options.startPage=1));var n="function"==typeof this.$element.prop?this.$element.prop("tagName"):this.$element.attr("tagName");return this.$listContainer="UL"===n?this.$element:a("<ul></ul>"),this.$listContainer.addClass(this.options.paginationClass),"UL"!==n&&this.$element.append(this.$listContainer),this.options.initiateStartPageClick?this.show(this.options.startPage):(this.render(this.getPages(this.options.startPage)),this.setupEvents()),this};s.prototype={constructor:s,destroy:function(){return this.$element.empty(),this.$element.removeData("twbs-pagination"),this.$element.off("page"),this},show:function(t){if(t<1||t>this.options.totalPages)throw new Error("Page is incorrect.");return this.currentPage=t,this.render(this.getPages(t)),this.setupEvents(),this.$element.trigger("page",t),this},buildListItems:function(t){var e=[];if(this.options.first&&e.push(this.buildItem("first",1)),this.options.prev){var n=1<t.currentPage?t.currentPage-1:this.options.loop?this.options.totalPages:1;e.push(this.buildItem("prev",n))}for(var i=0;i<t.numeric.length;i++)e.push(this.buildItem("page",t.numeric[i]));if(this.options.next){var r=t.currentPage<this.options.totalPages?t.currentPage+1:this.options.loop?1:this.options.totalPages;e.push(this.buildItem("next",r))}return this.options.last&&e.push(this.buildItem("last",this.options.totalPages)),e},buildItem:function(t,e){var n=a("<li></li>"),i=a("<a></a>"),r=this.options[t]?this.makeText(this.options[t],e):e;return n.addClass(this.options[t+"Class"]),n.data("page",e),n.data("page-type",t),n.append(i.attr("href",this.makeHref(e)).addClass(this.options.anchorClass).html(r)),n},getPages:function(t){var e=[],n=Math.floor(this.options.visiblePages/2),i=t-n+1-this.options.visiblePages%2,r=t+n;i<=0&&(i=1,r=this.options.visiblePages),r>this.options.totalPages&&(i=this.options.totalPages-this.options.visiblePages+1,r=this.options.totalPages);for(var o=i;o<=r;)e.push(o),o++;return{currentPage:t,numeric:e}},render:function(e){var n=this;this.$listContainer.children().remove();var t=this.buildListItems(e);jQuery.each(t,function(t,e){n.$listContainer.append(e)}),this.$listContainer.children().each(function(){var t=a(this);switch(t.data("page-type")){case"page":t.data("page")===e.currentPage&&t.addClass(n.options.activeClass);break;case"first":t.toggleClass(n.options.disabledClass,1===e.currentPage);break;case"last":t.toggleClass(n.options.disabledClass,e.currentPage===n.options.totalPages);break;case"prev":t.toggleClass(n.options.disabledClass,!n.options.loop&&1===e.currentPage);break;case"next":t.toggleClass(n.options.disabledClass,!n.options.loop&&e.currentPage===n.options.totalPages)}})},setupEvents:function(){var n=this;this.$listContainer.off("click").on("click","li",function(t){var e=a(this);if(e.hasClass(n.options.disabledClass)||e.hasClass(n.options.activeClass))return!1;!n.options.href&&t.preventDefault(),n.show(parseInt(e.data("page")))})},makeHref:function(t){return this.options.href?this.generateQueryString(t):"#"},makeText:function(t,e){return t.replace(this.options.pageVariable,e).replace(this.options.totalPagesVariable,this.options.totalPages)},getPageFromQueryString:function(t){var e=this.getSearchString(t),n=new RegExp(this.options.pageVariable+"(=([^&#]*)|&|#|$)").exec(e);return n&&n[2]?(n=decodeURIComponent(n[2]),n=parseInt(n),isNaN(n)?null:n):null},generateQueryString:function(t,e){var n=this.getSearchString(e),i=new RegExp(this.options.pageVariable+"=*[^&#]*");return n?"?"+n.replace(i,this.options.pageVariable+"="+t):""},getSearchString:function(t){var e=t||n.location.search;return""===e?null:(0===e.indexOf("?")&&(e=e.substr(1)),e)}},a.fn.twbsPagination=function(t){var e,n=Array.prototype.slice.call(arguments,1),i=a(this),r=i.data("twbs-pagination"),o="object"==typeof t?t:{};return r||i.data("twbs-pagination",r=new s(this,o)),"string"==typeof t&&(e=r[t].apply(r,n)),void 0===e?i:e},a.fn.twbsPagination.defaults={totalPages:1,startPage:1,visiblePages:5,initiateStartPageClick:!0,hideOnlyOnePage:!1,href:!1,pageVariable:"{{page}}",totalPagesVariable:"{{total_pages}}",page:null,first:"First",prev:"Previous",next:"Next",last:"Last",loop:!1,onPageClick:null,paginationClass:"pagination",nextClass:"page-item next",prevClass:"page-item prev",lastClass:"page-item last",firstClass:"page-item first",pageClass:"page-item",activeClass:"active",disabledClass:"disabled",anchorClass:"page-link"},a.fn.twbsPagination.Constructor=s,a.fn.twbsPagination.noConflict=function(){return a.fn.twbsPagination=i,this},a.fn.twbsPagination.version="1.4.1"}(window.jQuery,window,document);