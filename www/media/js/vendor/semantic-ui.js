!function(e,t,n,i){"use strict";e.fn.transition=function(){var i,o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],l=arguments,c=l[0],d=[].slice.call(arguments,1),u="string"==typeof c;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(t){var m,f,v,g,h,p,b,y,w,C,x,T=e(this),S=this;x={initialize:function(){m=x.get.settings.apply(S,l),g=m.className,v=m.error,h=m.metadata,C="."+m.namespace,w="module-"+m.namespace,f=T.data(w)||x,b=x.get.animationEndEvent(),y=x.get.animationName(),p=x.get.animationStartEvent(),u&&(u=x.invoke(c)),!1===u&&(x.verbose("Converted arguments into settings object",m),m.interval?x.delay(m.animate):x.animate(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of module",x),f=x,T.data(w,f)},destroy:function(){x.verbose("Destroying previous module for",S),T.removeData(w)},refresh:function(){x.verbose("Refreshing display type on next animation"),delete x.displayType},forceRepaint:function(){x.verbose("Forcing element repaint");var e=T.parent(),t=T.next();0===t.length?T.detach().appendTo(e):T.detach().insertBefore(t)},repaint:function(){x.verbose("Repainting element");S.offsetWidth},delay:function(e){var n,i=!0===m.reverse,a="auto"==m.reverse&&x.get.direction()==g.outward;e=void 0!==typeof e?e:m.interval,n=i||a?(o.length-t)*m.interval:t*m.interval,x.debug("Delaying animation by",n),setTimeout(x.animate,n)},animate:function(e){if(m=e||m,!x.is.supported())return x.error(v.support),!1;if(x.debug("Preparing animation",m.animation),x.is.animating()){if(m.queue)return!m.allowRepeats&&x.has.direction()&&x.is.occurring()&&!0!==x.queuing?x.debug("Animation is currently occurring, preventing queueing same animation",m.animation):x.queue(m.animation),!1;if(!m.allowRepeats&&x.is.occurring())return x.debug("Animation is already occurring, will not execute repeated animation",m.animation),!1;x.debug("New animation started, completing previous early",m.animation),x.complete()}x.can.animate()?x.set.animating(m.animation):x.error(v.noAnimation,m.animation,S)},reset:function(){x.debug("Resetting animation to beginning conditions"),x.remove.animationCallbacks(),x.restore.conditions(),x.remove.animating()},queue:function(e){x.debug("Queueing animation of",e),x.queuing=!0,T.one(b+".queue"+C,function(){x.queuing=!1,x.repaint(),x.animate.apply(this,m)})},complete:function(e){x.debug("Animation complete",m.animation),x.remove.completeCallback(),x.remove.failSafe(),x.is.looping()||(x.is.outward()?(x.verbose("Animation is outward, hiding element"),x.restore.conditions(),x.hide(),m.onHide.call(this)):x.is.inward()?(x.verbose("Animation is outward, showing element"),x.restore.conditions(),x.show(),m.onShow.call(this)):x.restore.conditions(),x.remove.animation(),x.remove.animating()),m.onComplete.call(this)},has:{direction:function(t){var n=!1;return t=t||m.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t!==g.inward&&t!==g.outward||(n=!0)})),n},inlineDisplay:function(){var t=T.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){e=e||m.animation,x.is.animating()||x.save.conditions(),x.remove.direction(),x.remove.completeCallback(),x.can.transition()&&!x.has.direction()&&x.set.direction(),x.remove.hidden(),x.set.display(),T.addClass(g.animating+" "+g.transition+" "+e).addClass(e).one(b+".complete"+C,x.complete),m.useFailSafe&&x.add.failSafe(),x.set.duration(m.duration),m.onStart.call(this),x.debug("Starting tween",e,T.attr("class"))},duration:function(e,t){t=t||m.duration,((t="number"==typeof t?t+"ms":t)||0===t)&&(x.verbose("Setting animation duration",t),T.css({"-webkit-animation-duration":t,"-moz-animation-duration":t,"-ms-animation-duration":t,"-o-animation-duration":t,"animation-duration":t}))},display:function(){var e=x.get.style(),t=x.get.displayType(),n=e+"display: "+t+" !important;";T.css("display",""),x.refresh(),T.css("display")!==t&&(x.verbose("Setting inline visibility to",t),T.attr("style",n))},direction:function(){T.is(":visible")&&!x.is.hidden()?(x.debug("Automatically determining the direction of animation","Outward"),T.removeClass(g.inward).addClass(g.outward)):(x.debug("Automatically determining the direction of animation","Inward"),T.removeClass(g.outward).addClass(g.inward))},looping:function(){x.debug("Transition set to loop"),T.addClass(g.looping)},hidden:function(){x.is.hidden()||T.addClass(g.transition).addClass(g.hidden),"none"!==T.css("display")&&(x.verbose("Overriding default display to hide element"),T.css("display","none"))},visible:function(){T.addClass(g.transition).addClass(g.visible)}},save:{displayType:function(e){T.data(h.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,x.verbose("Saving existence of transition",t,n)},conditions:function(){T.attr("class"),T.attr("style");T.removeClass(m.animation),x.remove.direction(),x.cache={className:T.attr("class"),style:x.get.style()},x.verbose("Saving original attributes",x.cache)}},restore:{conditions:function(){if(void 0===x.cache)return!1;x.cache.className?T.attr("class",x.cache.className):T.removeAttr("class"),x.cache.style?(x.verbose("Restoring original style attribute",x.cache.style),T.attr("style",x.cache.style)):(x.verbose("Clearing style attribute"),T.removeAttr("style")),x.verbose("Restoring original attributes",x.cache)}},add:{failSafe:function(){var e=x.get.duration();x.timer=setTimeout(function(){T.trigger(b)},e+m.failSafeDelay),x.verbose("Adding fail safe timer",x.timer)}},remove:{animating:function(){T.removeClass(g.animating)},animation:function(){T.css({"-webkit-animation":"","-moz-animation":"","-ms-animation":"","-o-animation":"",animation:""})},animationCallbacks:function(){x.remove.queueCallback(),x.remove.completeCallback()},queueCallback:function(){T.off(".queue"+C)},completeCallback:function(){T.off(".complete"+C)},display:function(){T.css("display","")},direction:function(){T.removeClass(g.inward).removeClass(g.outward)},failSafe:function(){x.verbose("Removing fail safe timer",x.timer),x.timer&&clearTimeout(x.timer)},hidden:function(){T.removeClass(g.hidden)},visible:function(){T.removeClass(g.visible)},looping:function(){x.debug("Transitions are no longer looping"),x.is.looping()&&(x.reset(),T.removeClass(g.looping))},transition:function(){T.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},direction:function(t){return t=t||m.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){return t===g.inward?g.inward:t===g.outward?g.outward:void 0})),x.can.transition()?T.is(":visible")&&!x.is.hidden()?g.outward:g.inward:"static"},duration:function(e){return e=e||m.duration,!1===e&&(e=T.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return m.displayType?m.displayType:(void 0===T.data(h.displayType)&&x.can.transition(!0),T.data(h.displayType))},style:function(){return(T.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationName:function(){var e,t=n.createElement("div"),i={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(e in i)if(void 0!==t.style[e])return i[e];return!1},animationStartEvent:function(){var e,t=n.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(void 0!==t.style[e])return i[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e];return!1}},can:{transition:function(t){var n,i,o,a,r,s=T.attr("class"),l=T.prop("tagName"),c=m.animation,d=x.get.transitionExists(c);if(void 0===d||t){if(x.verbose("Determining whether animation exists"),n=e("<"+l+" />").addClass(s).insertAfter(T),i=n.addClass(c).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css(y),o=n.addClass(g.inward).css(y),r=n.attr("class",s).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),x.verbose("Determining final display state",r),x.save.displayType(r),n.remove(),i!=o)x.debug("Direction exists for animation",c),a=!0;else{if("none"==i||!i)return void x.debug("No animation defined in css",c);x.debug("Static animation found",c,r),a=!1}x.save.transitionExists(c,a)}return void 0!==d?d:a},animate:function(){return void 0!==x.can.transition()}},is:{animating:function(){return T.hasClass(g.animating)},inward:function(){return T.hasClass(g.inward)},outward:function(){return T.hasClass(g.outward)},looping:function(){return T.hasClass(g.looping)},occurring:function(e){return e=e||m.animation,e="."+e.replace(" ","."),T.filter(e).length>0},visible:function(){return T.is(":visible")},hidden:function(){return"hidden"===T.css("visibility")},supported:function(){return!1!==y&&!1!==b}},hide:function(){x.verbose("Hiding element"),x.is.animating()&&x.reset(),x.remove.display(),x.remove.visible(),x.set.hidden(),x.repaint()},show:function(e){x.verbose("Showing element",e),x.remove.hidden(),x.set.visible(),x.set.display(),x.repaint()},toggle:function(){x.is.visible()?x.hide():x.show()},stop:function(){x.debug("Stopping current animation"),T.trigger(b)},stopAll:function(){x.debug("Stopping all animation"),x.remove.queueCallback(),T.trigger(b)},clear:{queue:function(){x.debug("Clearing animation queue"),x.remove.queueCallback()}},enable:function(){x.verbose("Starting animation"),T.removeClass(g.disabled)},disable:function(){x.debug("Stopping animation"),T.addClass(g.disabled)},setting:function(t,n){if(x.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===n)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===n)return x[t];x[t]=n}},debug:function(){m.debug&&(m.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,m.name+":"),x.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,m.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,100)},display:function(){var t=m.name+":",n=0;r=!1,clearTimeout(x.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a,r,s,l=f;return n=n||d,o=S||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return r=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]&&(r=l[i],!1);l=l[i]}})),e.isFunction(r)?s=r.apply(o,n):void 0!==r&&(s=r),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),void 0!==r&&r}},x.initialize()}),void 0!==i?i:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dropdown=function(i){var o,a=e(this),r=e(n),s=a.selector||"",l="ontouchstart"in n.documentElement,c=(new Date).getTime(),d=[],u=arguments[0],m="string"==typeof u,f=[].slice.call(arguments,1);return a.each(function(){var v,g,h,p,b=e.isPlainObject(i)?e.extend(!0,{},e.fn.dropdown.settings,i):e.extend({},e.fn.dropdown.settings),y=b.className,w=b.metadata,C=b.namespace,x=b.selector,T=b.error,S="."+C,A="module-"+C,k=e(this),E=k.find(x.text),q=k.find(x.search),F=k.find(x.input),D=k.prev().find(x.text).length>0?k.prev().find(x.text):k.prev(),I=k.children(x.menu),O=I.find(x.item),R=!1,z=!1,N=this,M=k.data(A);p={initialize:function(){p.debug("Initializing dropdown",b),p.is.alreadySetup()?p.setup.reference():(p.setup.layout(),p.save.defaults(),p.set.selected(),p.create.id(),l&&p.bind.touchEvents(),p.bind.mouseEvents(),p.bind.keyboardEvents(),p.observeChanges(),p.instantiate())},instantiate:function(){p.verbose("Storing instance of dropdown",p),M=p,k.data(A,p)},destroy:function(){p.verbose("Destroying previous dropdown for",k),p.remove.tabbable(),k.off(S).removeData(A),I.off(S),r.off(v)},observeChanges:function(){"MutationObserver"in t&&(h=new MutationObserver(function(e){p.is.selectMutation(e)?(p.debug("<select> modified, recreating menu"),p.setup.select()):(p.debug("DOM tree modified, updating selector cache"),p.refresh())}),h.observe(N,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",h))},create:{id:function(){g=(Math.random().toString(16)+"000000000").substr(2,8),v="."+g,p.verbose("Creating unique id for element",g)}},search:function(){var e;e=q.val(),p.verbose("Searching for query",e),p.filter(e),p.is.searchSelection()&&p.can.show()&&p.show()},setup:{layout:function(){k.is("select")&&p.setup.select(),p.is.search()&&!p.is.searchable()&&(q=e("<input />").addClass(y.search).insertBefore(E)),b.allowTab&&p.set.tabbable()},select:function(){var t=p.get.selectValues();p.debug("Dropdown initialized on a select",t),k.is("select")&&(F=k),F.parent(x.dropdown).length>0?(p.debug("UI dropdown already exists. Creating dropdown menu only"),k=F.closest(x.dropdown),I=k.children(x.menu),0===I.length&&(I=e("<div />").addClass(y.menu).appendTo(k)),I.html(b.templates.menu(t))):(p.debug("Creating entire dropdown from select"),k=e("<div />").attr("class",F.attr("class")).addClass(y.selection).addClass(y.dropdown).html(b.templates.dropdown(t)).insertBefore(F),F.removeAttr("class").prependTo(k)),p.refresh()},reference:function(){var e,t,n=a.index(k);p.debug("Dropdown behavior was called on select, replacing with closest dropdown"),k=k.parent(x.dropdown),p.refresh(),e=a.slice(0,n),t=a.slice(n+1),a=e.add(k).add(t),m&&(M=p,p.invoke(u))}},refresh:function(){p.verbose("Refreshing selector cache"),E=k.find(x.text),q=k.find(x.search),F=k.find(x.input),D=k.prev().find(x.text).length>0?k.prev().find(x.text):k.prev(),I=k.children(x.menu),O=I.find(x.item)},toggle:function(){p.verbose("Toggling menu visibility"),p.is.active()?p.hide():p.show()},show:function(t){t=e.isFunction(t)?t:function(){},p.is.searchSelection()&&p.is.allFiltered()||p.can.show()&&!p.is.active()&&(p.debug("Showing dropdown"),p.animate.show(function(){p.can.click()&&p.bind.intent(),p.set.visible(),t.call(N)}),b.onShow.call(N))},hide:function(t){t=e.isFunction(t)?t:function(){},p.is.active()&&(p.debug("Hiding dropdown"),p.animate.hide(function(){p.remove.visible(),t.call(N)}),b.onHide.call(N))},hideOthers:function(){p.verbose("Finding other dropdowns to hide"),a.not(k).has(x.menu+":visible:not(."+y.animating+")").dropdown("hide")},hideSubMenus:function(){I.find(x.menu).transition("hide")},bind:{keyboardEvents:function(){p.debug("Binding keyboard events"),k.on("keydown"+S,p.event.keydown),p.is.searchable()&&k.on(p.get.inputEvent(),x.search,p.event.input)},touchEvents:function(){p.debug("Touch device detected binding additional touch events"),p.is.searchSelection()||k.on("touchstart"+S,p.event.test.toggle),I.on("touchstart"+S,x.item,p.event.item.mouseenter)},mouseEvents:function(){p.verbose("Mouse detected binding mouse events"),p.is.searchSelection()?k.on("mousedown"+S,x.menu,p.event.menu.activate).on("mouseup"+S,x.menu,p.event.menu.deactivate).on("click"+S,x.search,p.show).on("focus"+S,x.search,p.event.searchFocus).on("blur"+S,x.search,p.event.searchBlur).on("click"+S,x.text,p.event.searchTextFocus):("click"==b.on?k.on("click"+S,p.event.test.toggle):"hover"==b.on?k.on("mouseenter"+S,p.delay.show).on("mouseleave"+S,p.delay.hide):k.on(b.on+S,p.toggle),k.on("mousedown"+S,p.event.mousedown).on("mouseup"+S,p.event.mouseup).on("focus"+S,p.event.focus).on("blur"+S,p.event.blur)),I.on("mouseenter"+S,x.item,p.event.item.mouseenter).on("mouseleave"+S,x.item,p.event.item.mouseleave).on("click"+S,x.item,p.event.item.click)},intent:function(){p.verbose("Binding hide intent event to document"),l&&r.on("touchstart"+v,p.event.test.touch).on("touchmove"+v,p.event.test.touch),r.on("click"+v,p.event.test.hide)}},unbind:{intent:function(){p.verbose("Removing hide intent event from document"),l&&r.off("touchstart"+v).off("touchmove"+v),r.off("click"+v)}},filter:function(t){var n=e(),i=p.escape.regExp(t),o=new RegExp("^"+i,"igm"),a=new RegExp(i,"ig");p.verbose("Searching for matching values"),O.each(function(){var t=e(this),i=String(p.get.choiceText(t,!1)),r=String(p.get.choiceValue(t,i));i.match(o)||r.match(o)?n=n.add(t):b.fullTextSearch&&(i.match(a)||r.match(a))&&(n=n.add(t))}),p.debug("Setting filter",t),p.remove.filteredItem(),O.not(n).addClass(y.filtered),p.verbose("Selecting first non-filtered element"),p.remove.selectedItem(),O.not("."+y.filtered).eq(0).addClass(y.selected),p.is.allFiltered()&&(p.debug("All items filtered, hiding dropdown",t),p.is.searchSelection()&&p.hide(),b.onNoResults.call(N,t))},focusSearch:function(){p.is.search()&&q.focus()},forceSelection:function(){var e=O.not(y.filtered).filter("."+y.selected).eq(0),t=O.filter("."+y.active).eq(0),n=e.length>0?e:t;n.size()>0?(p.event.item.click.call(n),p.remove.filteredItem()):p.hide()},event:{mousedown:function(){R=!0},mouseup:function(){R=!1},focus:function(){!R&&p.is.hidden()&&p.show()},blur:function(e){var t=n.activeElement===this;R||t||p.hide()},searchFocus:function(){R=!0,p.show()},searchBlur:function(e){var t=n.activeElement===this;z||t||(b.forceSelection?p.forceSelection():p.hide())},searchTextFocus:function(e){R=!0,q.focus()},input:function(e){p.is.searchSelection()&&p.set.filtered(),clearTimeout(p.timer),p.timer=setTimeout(p.search,b.delay.search)},keydown:function(e){var t,n=O.not(y.filtered).filter("."+y.selected).eq(0),i=I.children("."+y.active).eq(0),o=n.length>0?n:i,a=o.length>0?o.siblings(":not(."+y.filtered+")").andSelf():I.children(":not(."+y.filtered+")"),r=o.children(x.menu),s=o.closest(x.menu),l=s[0]!==I[0],c=s.is(":visible"),d=e.which,u={enter:13,escape:27,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},m=r.length>0,f=o.length>0;a.size();if(p.is.visible()){if(d==u.enter&&f&&(m&&!b.allowCategorySelection?(p.verbose("Pressed enter on unselectable category, opening sub menu"),d=u.rightArrow):(p.verbose("Enter key pressed, choosing selected item"),p.event.item.click.call(o,e))),d==u.leftArrow&&l&&(p.verbose("Left key pressed, closing sub-menu"),p.animate.hide(!1,s),o.removeClass(y.selected),s.closest(x.item).addClass(y.selected),e.preventDefault()),d==u.rightArrow&&m&&(p.verbose("Right key pressed, opening sub-menu"),p.animate.show(!1,r),o.removeClass(y.selected),r.find(x.item).eq(0).addClass(y.selected),e.preventDefault()),d==u.upArrow){if(t=f&&c?o.prevAll(x.item+":not(."+y.filtered+")").eq(0):O.eq(0),a.index(t)<0)return void p.verbose("Up key pressed but reached top of current menu");p.verbose("Up key pressed, changing active item"),o.removeClass(y.selected),t.addClass(y.selected),p.set.scrollPosition(t),e.preventDefault()}if(d==u.downArrow){if(t=f&&c?t=o.nextAll(x.item+":not(."+y.filtered+")").eq(0):O.eq(0),0===t.length)return void p.verbose("Down key pressed but reached bottom of current menu");p.verbose("Down key pressed, changing active item"),O.removeClass(y.selected),t.addClass(y.selected),p.set.scrollPosition(t),e.preventDefault()}}else d==u.enter&&(p.verbose("Enter key pressed, showing dropdown"),p.show()),d==u.escape&&(p.verbose("Escape key pressed, closing dropdown"),p.hide()),d==u.downArrow&&(p.verbose("Down key pressed, showing dropdown"),p.show())},test:{toggle:function(e){p.determine.eventInMenu(e,p.toggle)&&e.preventDefault()},touch:function(e){p.determine.eventInMenu(e,function(){"touchstart"==e.type?p.timer=setTimeout(p.hide,b.delay.touch):"touchmove"==e.type&&clearTimeout(p.timer)}),e.stopPropagation()},hide:function(e){p.determine.eventInModule(e,p.hide)}},menu:{activate:function(){z=!0},deactivate:function(){z=!1}},item:{mouseenter:function(t){var n=e(this).children(x.menu),i=e(this).siblings(x.item).children(x.menu);n.length>0&&(clearTimeout(p.itemTimer),p.itemTimer=setTimeout(function(){p.verbose("Showing sub-menu",n),e.each(i,function(){p.animate.hide(!1,e(this))}),p.animate.show(!1,n)},b.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(x.menu);n.length>0&&(clearTimeout(p.itemTimer),p.itemTimer=setTimeout(function(){p.verbose("Hiding sub-menu",n),p.animate.hide(!1,n)},b.delay.hide))},click:function(t){var n=e(this),i=e(t?t.target:""),o=n.find(x.menu),a=p.get.choiceText(n),r=p.get.choiceValue(n,a),s=o.length>0;o.find(i).length>0||s&&!b.allowCategorySelection||function(){p.remove.searchTerm(),p.determine.selectAction(a,r)}()}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,n){p.verbose("Determining action",b.action),e.isFunction(p.action[b.action])?(p.verbose("Triggering preset action",b.action,t,n),p.action[b.action](t,n)):e.isFunction(b.action)?(p.verbose("Triggering user action",b.action,t,n),b.action(t,n)):p.error(T.action,b.action)},eventInModule:function(t,n){return n=e.isFunction(n)?n:function(){},0===e(t.target).closest(k).length?(p.verbose("Triggering event",n),n(),!0):(p.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(t,n){return n=e.isFunction(n)?n:function(){},0===e(t.target).closest(I).length?(p.verbose("Triggering event",n),n(),!0):(p.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(e,t){t=void 0!==t?t:e,p.set.selected(t),p.hide(function(){p.remove.filteredItem()})},select:function(e,t){t=void 0!==t?t:e,p.set.selected(t),p.hide(function(){p.remove.filteredItem()})},combo:function(e,t){t=void 0!==t?t:e,p.set.selected(t),p.hide(function(){p.remove.filteredItem()})},hide:function(){p.hide(function(){p.remove.filteredItem()})}},get:{id:function(){return g},text:function(){return E.text()},value:function(){return F.length>0?F.val():k.data(w.value)},choiceText:function(e,t){if(t=void 0!==t?t:b.preserveHTML,void 0!==e)return e.find(x.menu).length>0&&(p.verbose("Retreiving text of element with sub-menu"),e=e.clone(),e.find(x.menu).remove(),e.find(x.menuIcon).remove()),void 0!==e.data(w.text)?e.data(w.text):t?e.html().trim():e.text().trim()},choiceValue:function(e,t){return t=t||p.get.choiceText(e),void 0!==e.data(w.value)?e.data(w.value):"string"==typeof t?t.toLowerCase().trim():t.trim()},inputEvent:function(){var e=q[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=b.sortSelect?{}:[],k.find("option").each(function(){var n=e(this).html(),i=void 0!==e(this).attr("value")?e(this).attr("value"):n;""===i?t.placeholder=n:b.sortSelect?t.values[i]={name:n,value:i}:t.values.push({name:n,value:i})}),b.sortSelect?p.debug("Retrieved and sorted values from select",t):p.debug("Retreived values from select",t),t},activeItem:function(){return O.filter("."+y.active)},item:function(t,n){var i=!1;return t=void 0!==t?t:void 0!==p.get.value()?p.get.value():p.get.text(),n=""===t||0===t||(n||!1),void 0!==t?O.each(function(){var o=e(this),a=p.get.choiceText(o),r=p.get.choiceValue(o,a);if(n){if(p.verbose("Ambiguous dropdown value using strict type check",o,t),r===t)return i=e(this),!0;if(!i&&a===t)return i=e(this),!0}else{if(r==t)return p.verbose("Found select item by value",r,t),i=e(this),!0;if(!i&&a==t)return p.verbose("Found select item by text",a,t),i=e(this),!0}}):t=p.get.text(),i||!1}},restore:{defaults:function(){p.restore.defaultText(),p.restore.defaultValue()},defaultText:function(){var e=k.data(w.defaultText);p.debug("Restoring default text",e),p.set.text(e),E.addClass(y.placeholder)},defaultValue:function(){var e=k.data(w.defaultValue);void 0!==e&&(p.debug("Restoring default value",e),e.length?p.set.selected(e):(p.remove.activeItem(),p.remove.selectedItem()))}},save:{defaults:function(){p.save.defaultText(),p.save.placeholderText(),p.save.defaultValue()},defaultValue:function(){k.data(w.defaultValue,p.get.value())},defaultText:function(){k.data(w.defaultText,E.text())},placeholderText:function(){E.hasClass(y.placeholder)&&k.data(w.placeholderText,E.text())}},clear:function(){var e=k.data(w.placeholderText);p.set.text(e),p.set.value(""),p.remove.activeItem(),p.remove.selectedItem(),E.addClass(y.placeholder)},set:{filtered:function(){var e=q.val();"string"==typeof e&&e.length>0?E.addClass(y.filtered):E.removeClass(y.filtered)},tabbable:function(){p.is.searchable()?(p.debug("Searchable dropdown initialized"),q.val("").attr("tabindex",0),I.attr("tabindex","-1")):(p.debug("Simple selection dropdown initialized"),k.attr("tabindex")||(k.attr("tabindex",0),I.attr("tabindex","-1")))},scrollPosition:function(e,t){var n,i,o,a,r,s,l,c;e=e||p.get.activeItem(),n=e&&e.length>0,t=void 0!==t&&t,e&&n&&(I.hasClass(y.visible)||I.addClass(y.loading),s=I.height(),e.height(),r=I.scrollTop(),a=I.offset().top,o=e.offset().top,i=r-a+o,c=r+s<i+5,l=i-5<r,p.debug("Scrolling to active item",i),(l||c||t)&&I.scrollTop(i).removeClass(y.loading))},text:function(e){"combo"==b.action?(p.debug("Changing combo button text",e,D),b.preserveHTML?D.html(e):D.text(e)):"select"!==b.action&&(p.debug("Changing text",e,E),E.removeClass(y.filtered).removeClass(y.placeholder),b.preserveHTML?E.html(e):E.text(e))},value:function(e){p.debug("Adding selected value to hidden input",e,F),F.length>0?F.val(e).trigger("change"):k.data(w.value,e)},active:function(){k.addClass(y.active)},visible:function(){k.addClass(y.visible)},selected:function(e){var t,n,i=p.get.item(e);i&&!i.hasClass(y.active)&&(p.debug("Setting selected menu item to",i),p.remove.activeItem(),p.remove.selectedItem(),i.addClass(y.active).addClass(y.selected),t=p.get.choiceText(i),n=p.get.choiceValue(i,t),p.set.text(t),p.set.value(n),b.onChange.call(N,e,t,i))}},remove:{active:function(){k.removeClass(y.active)},visible:function(){k.removeClass(y.visible)},activeItem:function(){O.removeClass(y.active)},filteredItem:function(){O.removeClass(y.filtered)},searchTerm:function(){q.val("")},selectedItem:function(){O.removeClass(y.selected)},tabbable:function(){p.is.searchable()?(p.debug("Searchable dropdown initialized"),q.attr("tabindex","-1"),I.attr("tabindex","-1")):(p.debug("Simple selection dropdown initialized"),k.attr("tabindex","-1"),I.attr("tabindex","-1"))}},is:{active:function(){return k.hasClass(y.active)},alreadySetup:function(){return k.is("select")&&k.parent(x.dropdown).length>0},animating:function(e){return e?e.is(":animated")||e.transition&&e.transition("is animating"):I.is(":animated")||I.transition&&I.transition("is animating")},allFiltered:function(){return O.filter("."+y.filtered).length===O.length},hidden:function(e){return e?e.is(":hidden"):I.is(":hidden")},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is("select"))return n=!0,!0}),n},search:function(){return k.hasClass(y.search)},searchable:function(){return q.length>0},searchSelection:function(){return p.is.searchable()&&q.parent().is(k)},selection:function(){return k.hasClass(y.selection)},upward:function(){return k.hasClass(y.upward)},visible:function(e){return e?e.is(":visible"):I.is(":visible")}},can:{click:function(){return l||"click"==b.on},show:function(){return!k.hasClass(y.disabled)}},animate:{show:function(t,n){var i=n||I,o=n?function(){}:function(){p.hideSubMenus(),p.hideOthers(),p.set.active()};t=e.isFunction(t)?t:function(){},p.set.scrollPosition(p.get.activeItem(),!0),p.verbose("Doing menu show animation",i),(p.is.hidden(i)||p.is.animating(i))&&("auto"==b.transition&&(b.transition=p.is.upward()?"slide up":"slide down",p.verbose("Automatically determining animation based on animation direction",b.transition)),"none"==b.transition?t.call(N):void 0!==e.fn.transition&&k.transition("is supported")?i.transition({animation:b.transition+" in",debug:b.debug,verbose:b.verbose,duration:b.duration,queue:!0,onStart:o,onComplete:function(){t.call(N)}}):"slide down"==b.transition?(o(),i.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},b.duration,"easeOutQuad",p.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){p.event.resetStyle.call(this),t.call(N)})):"fade"==b.transition?(o(),i.hide().clearQueue().fadeIn(b.duration,function(){p.event.resetStyle.call(this),t.call(N)})):p.error(T.transition,b.transition))},hide:function(t,n){var i=n||I,o=(n?b.duration:b.duration,n?function(){}:function(){p.can.click()&&p.unbind.intent(),p.focusSearch(),p.remove.active()});t=e.isFunction(t)?t:function(){},(p.is.visible(i)||p.is.animating(i))&&(p.verbose("Doing menu hide animation",i),"auto"==b.transition&&(b.transition=p.is.upward()?"slide up":"slide down"),F.trigger("blur"),"none"==b.transition?t.call(N):void 0!==e.fn.transition&&k.transition("is supported")?i.transition({animation:b.transition+" out",duration:b.duration,debug:b.debug,verbose:b.verbose,queue:!0,onStart:o,onComplete:function(){t.call(N)}}):"slide down"==b.transition?(o(),i.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",p.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){p.event.resetStyle.call(this),t.call(N)})):"fade"==b.transition?(o(),i.show().clearQueue().fadeOut(150,function(){p.event.resetStyle.call(this),t.call(N)})):p.error(T.transition))}},delay:{show:function(){p.verbose("Delaying show event to ensure user intent"),clearTimeout(p.timer),p.timer=setTimeout(p.show,b.delay.show)},hide:function(){p.verbose("Delaying hide event to ensure user intent"),clearTimeout(p.timer),p.timer=setTimeout(p.hide,b.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(t,n){if(p.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,b,t);else{if(void 0===n)return b[t];b[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===n)return p[t];p[t]=n}},debug:function(){
b.debug&&(b.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,b.name+":"),p.debug.apply(console,arguments)))},verbose:function(){b.verbose&&b.debug&&(b.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,b.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;b.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:N,"Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=b.name+":",n=0;c=!1,clearTimeout(p.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var a,r,s,l=M;return n=n||f,i=N||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return r=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]?(r=l[i],!1):(p.error(T.method,t),!1);l=l[i]}})),e.isFunction(r)?s=r.apply(i,n):void 0!==r&&(s=r),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),r}},m?(void 0===M&&p.initialize(),p.invoke(u)):(void 0!==M&&M.invoke("destroy"),p.initialize())}),void 0!==o?o:a},e.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},forceSelection:!0,transition:"auto",duration:250,onNoResults:function(e){},onChange:function(e,t){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={menu:function(t){var n=(t.placeholder,t.values,"");return e.each(t.values,function(e,t){n+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),n},dropdown:function(t){var n=t.placeholder||!1,i=(t.values,"");return i+='<i class="dropdown icon"></i>',t.placeholder?i+='<div class="default text">'+n+"</div>":i+='<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document);